{"version":3,"sources":["webpack:///d54e5fb4f5491049626c.js","webpack:///webpack/bootstrap d54e5fb4f5491049626c","webpack:///./node_modules/zdog/js/boilerplate.js","webpack:///./src/store/store.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/zdog/js/index.js","webpack:///./node_modules/zdog/js/anchor.js","webpack:///./node_modules/zdog/js/shape.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/zdog/js/vector.js","webpack:///./src/utils/prng.js","webpack:///./node_modules/zdog/js/path-command.js","webpack:///./node_modules/zdog/js/ellipse.js","webpack:///./src/abstractions/Limb.js","webpack:///./src/utils/point-lerp.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./src/utils/state/readable.js","webpack:///./src/utils/state/signal.js","webpack:///./src/utils/state/writable.js","webpack:///./node_modules/missing-math/dist/missing-math.m.js","webpack:///./node_modules/zdog/js/canvas-renderer.js","webpack:///./node_modules/zdog/js/svg-renderer.js","webpack:///./node_modules/zdog/js/dragger.js","webpack:///./node_modules/zdog/js/group.js","webpack:///./node_modules/zdog/js/rect.js","webpack:///./src/controllers/scene.js","webpack:///./src/index.js","webpack:///./src/utils/state/index.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./src/utils/state/derived.js","webpack:///./node_modules/tiny-throttle/dist/tiny-throttle.es.js","webpack:///./src/controllers/midi.js","webpack:///./node_modules/webmidi/webmidi.min.js","webpack:///./src/controllers/animation.js","webpack:///./src/abstractions/Creature.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/zdog/js/illustration.js","webpack:///./node_modules/zdog/js/rounded-rect.js","webpack:///./node_modules/zdog/js/polygon.js","webpack:///./node_modules/zdog/js/hemisphere.js","webpack:///./node_modules/zdog/js/cylinder.js","webpack:///./node_modules/zdog/js/cone.js","webpack:///./node_modules/zdog/js/box.js","webpack:///./src/abstractions/Limbs/Bone.js","webpack:///./node_modules/fast-random/index.js","webpack:///./src/utils/array-random.js","webpack:///./src/abstractions/Limbs/Eye.js","webpack:///./src/abstractions/Limbs/Finn.js","webpack:///./src/abstractions/Limbs/Tentacle.js","webpack:///./src/utils/create-array-points.js","webpack:///./src/utils/array-shuffle.js","webpack:///./src/controllers/raf.js","webpack:///./node_modules/@internet/raf/lib/index.js","webpack:///./node_modules/@internet/raf/lib/RafTimer.js","webpack:///./node_modules/@internet/raf/lib/raf.js","webpack:///(webpack)/buildin/global.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","root","factory","Zdog","this","TAU","Math","PI","extend","a","b","prop","lerp","alpha","modulo","num","div","powerMultipliers","2","3","4","5","easeInOut","power","max","min","isFirstHalf","slope","powerMultiplier","curve","__webpack_exports__","Store","seed","writable","Date","now","creature","debug","anchorsLength","readable","colorsLength","colors","density","scaleX","scaleY","planeLerp","buildLerp","raf","isRunning","ellapsedTime","frameCount","fps","scene","zoom","rotation","x","y","z","dimensions","midi","ready","input","window","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","key","_createClass","protoProps","staticProps","CanvasRenderer","SvgRenderer","Vector","Anchor","Dragger","Illustration","PathCommand","Shape","Group","Rect","RoundedRect","Ellipse","Polygon","Hemisphere","Cylinder","Cone","Box","utils","options","create","getSubclass","Super","defaults","Item","constructor","optionKeys","slice","keys","forEach","indexOf","push","subclass","onePoint","children","setOptions","translate","rotate","scale","multiply","origin","renderOrigin","addTo","addChild","concat","shape","remove","removeChild","index","splice","update","reset","child","transform","set","translation","updateGraph","updateFlatGraph","flatGraph","item","updateSortValue","sort","shapeSorter","sortValue","_flatGraph","graph","getFlatGraph","addChildFlatGraph","childFlatGraph","Array","apply","render","renderGraphCanvas","ctx","Error","renderGraphSvg","svg","copy","itemOptions","ItemClass","copyGraph","clone","normalizeRotate","stroke","fill","color","closed","visible","path","front","backface","updatePath","renderFront","renderNormal","actionNames","setPath","updatePathCommands","previousPoint","pathCommands","map","pathPart","method","points","isLineOrMove","isPointsArray","isArray","command","endRenderPoint","subtract","pointCount","firstPoint","lastPoint","isSame","sortValueTotal","renderer","isFacingBack","isDot","isCanvas","renderCanvasDot","renderPath","lineWidth","getLineWidth","fillStyle","getRenderColor","point","beginPath","radius","arc","elem","getRenderElement","isTwoPoints","isClosed","end","isSvg","svgElement","document","createElementNS","setAttribute","_possibleConstructorReturn","self","_typeof","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","value","position","rotateProperty","vec","angle","propA","propB","cos","sin","getMagnitudeSqrt","sum","abs","sqrt","pos","write","undefined","rotateZ","rotateY","rotateX","add","magnitude","magnitude2d","randomizer","fastRandom","newSeed","random","nextFloat","randomOf","arr","arrayRandom","randomFloat","randomInt","floor","mapVectorPoint","renderPoints","mapNewVector","controlPoints","renderPoint","move","line","bezier","cp0","cp1","prev","corner","diameter","width","height","quarters","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","arguments","source","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty___default","getOwnPropertyDescriptors","defineProperties","Limb","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_zdog__","anchor","refs","state","limb","assign","entries","ref","clonedFrom","flipped","values","v","t","_defineProperty","obj","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","Readable","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__","__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default","__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_5__signal__","_Signal","initialValue","current","Signal","SignalListener","owner","fn","once","removeNode","node","next","_first","_last","a0","a1","a2","a3","a4","unsubscribe","subscribe","Writable","__WEBPACK_IMPORTED_MODULE_5__readable__","_Readable","force","previous","cb","r","u","e","begin","moveTo","lineTo","bezierCurveTo","closePath","isStroke","strokeStyle","isFill","getPointString","round","pathValue","fillColor","appendChild","noop","hasWindow","downEvent","moveEvent","upEvent","PointerEvent","onDragStart","onDragMove","onDragEnd","bindDrag","startElement","element","getQueryElement","style","touchAction","addEventListener","querySelector","handleEvent","event","type","onmousedown","onpointerdown","dragStart","ontouchstart","changedTouches","pointer","preventDefault","dragStartX","pageX","dragStartY","pageY","ontouchmove","dragMove","onmousemove","onpointermove","moveX","moveY","onmouseup","onpointerup","ontouchend","dragEnd","removeEventListener","updateSort","__WEBPACK_IMPORTED_MODULE_2_store_store__","__WEBPACK_IMPORTED_MODULE_3_zdog__","canvas","getContext","ZdogClass","innerWidth","innerHeight","dragStartRX","dragStartRY","minSize","clearRect","save","lineJoin","lineCap","restore","onresize","debounce","onload","body","classList","Midi","derive","cc","Raf","ENV","production","title","pageTitle","toFixed","Animation","Scene","_typeof2","Symbol","iterator","_assertThisInitialized","ReferenceError","_setPrototypeOf","debounceLead","callback","offset","baseTime","args","len","currentTime","debounceTail","timeoutFunc","clearTimeout","setTimeout","leading","setup","WebMidi","getInputByName","addListener","controller","number","derivations","signal","normalize","enable","error","scope","_singleton","_inputs","_outputs","_userHandlers","_stateChangeQueue","_processingStateChange","_midiInterfaceEvents","_nrpnBuffer","_nrpnEventsEnabled","_nrpnTypes","_notes","_semitones","C","D","E","F","G","A","B","MIDI_SYSTEM_MESSAGES","sysex","timecode","songposition","songselect","tuningrequest","sysexend","clock","start","continue","stop","activesensing","midimessage","unknownsystemmessage","MIDI_CHANNEL_MESSAGES","noteoff","noteon","keyaftertouch","controlchange","channelmode","nrpn","programchange","channelaftertouch","pitchbend","MIDI_REGISTERED_PARAMETER","pitchbendrange","channelfinetuning","channelcoarsetuning","tuningprogram","tuningbank","modulationrange","azimuthangle","elevationangle","gain","distanceratio","maximumdistance","maximumdistancegain","referencedistanceratio","panspreadangle","rollangle","MIDI_CONTROL_CHANGE_MESSAGES","bankselectcoarse","modulationwheelcoarse","breathcontrollercoarse","footcontrollercoarse","portamentotimecoarse","dataentrycoarse","volumecoarse","balancecoarse","pancoarse","expressioncoarse","effectcontrol1coarse","effectcontrol2coarse","generalpurposeslider1","generalpurposeslider2","generalpurposeslider3","generalpurposeslider4","bankselectfine","modulationwheelfine","breathcontrollerfine","footcontrollerfine","portamentotimefine","dataentryfine","volumefine","balancefine","panfine","expressionfine","effectcontrol1fine","effectcontrol2fine","holdpedal","portamento","sustenutopedal","softpedal","legatopedal","hold2pedal","soundvariation","resonance","soundreleasetime","soundattacktime","brightness","soundcontrol6","soundcontrol7","soundcontrol8","soundcontrol9","soundcontrol10","generalpurposebutton1","generalpurposebutton2","generalpurposebutton3","generalpurposebutton4","reverblevel","tremololevel","choruslevel","celestelevel","phaserlevel","databuttonincrement","databuttondecrement","nonregisteredparametercoarse","nonregisteredparameterfine","registeredparametercoarse","registeredparameterfine","MIDI_NRPN_MESSAGES","entrymsb","entrylsb","increment","decrement","paramlsb","parammsb","nullactiveparameter","MIDI_CHANNEL_MODE_MESSAGES","allsoundoff","resetallcontrollers","localcontrol","allnotesoff","omnimodeoff","omnimodeon","monomodeon","polymodeon","octaveOffset","supported","navigator","enabled","interface","bind","inputs","outputs","sysexEnabled","nrpnEventsEnabled","nrpnTypes","time","performance","Input","midiInput","that","channel","system","_midiInput","connection","id","manufacturer","_initializeUserHandlers","onmidimessage","_onMidiMessage","Output","midiOutput","_midiOutput","wm","requestMIDIAccess","then","midiAccess","onPortsOpen","promiseTimeout","_updateInputsAndOutputs","onstatechange","_onInterfaceStateChange","events","promises","_resetInterfaceUserHandlers","done","open","output","Promise","all","catch","err","disable","listener","hasListener","removeListener","toMIDIChannels","channels","ch","parseInt","getInputById","String","getOutputById","getOctave","getOutputByName","guessNoteNumber","noteNameToNumber","matches","match","RangeError","semitones","toUpperCase","result","toLowerCase","_updateInputs","_updateOutputs","updated","nInput","j","nOutput","timestamp","timeStamp","port","handler","on","every","chNum","listeners","prop1","prop2","data","_parseChannelEvent","_parseNrpnEvent","_parseSystemEvent","data1","data2","channelBufferIndex","ccEvent","getCcNameByNumber","rawData","ev","nrpnNumber","nrpnValue","nrpnControllerType","nrpnEvent","note","octave","velocity","rawVelocity","getChannelModeByNumber","status","cm","song","send","message","parsed","parseFloat","sendSysex","_parseTimeParameter","sendTimecodeQuarterFrame","sendSongPosition","msb","lsb","sendSongSelect","sendTuningRequest","sendClock","sendStart","sendContinue","sendStop","sendActiveSensing","sendReset","stopNote","sendChannelMode","nVelocity","isNaN","_convertNoteToArray","playNote","duration","nRelease","release","sendKeyAftertouch","pressure","nPressure","sendControlChange","_selectRegisteredParameter","parameter","_selectNonRegisteredParameter","_setCurrentRegisteredParameter","_deselectRegisteredParameter","setRegisteredParameter","setNonRegisteredParameter","incrementRegisteredParameter","decrementRegisteredParameter","setPitchBendRange","cents","setModulationRange","setMasterTuning","coarse","fine","setTuningProgram","setTuningBank","sendProgramChange","program","sendChannelAftertouch","sendPitchBend","bend","nLevel","substring","notes","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty___default","spawn","destroy","Creature","__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_1_store_store__","__WEBPACK_IMPORTED_MODULE_2_abstractions_Creature__","__WEBPACK_IMPORTED_MODULE_3_controllers_scene__","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_4_store_store__","__WEBPACK_IMPORTED_MODULE_5_zdog__","__WEBPACK_IMPORTED_MODULE_6_abstractions_Limbs_Bone__","__WEBPACK_IMPORTED_MODULE_7_abstractions_Limbs_Eye__","__WEBPACK_IMPORTED_MODULE_8_abstractions_Limbs_Finn__","__WEBPACK_IMPORTED_MODULE_9_abstractions_Limbs_Tentacle__","__WEBPACK_IMPORTED_MODULE_10_utils_create_array_points__","__WEBPACK_IMPORTED_MODULE_11_utils_array_shuffle__","__WEBPACK_IMPORTED_MODULE_12_utils_prng__","__WEBPACK_IMPORTED_MODULE_13_utils_point_lerp__","sceneAnchor","Prng","anchors","createAnchors","shuffle","limbs","CUBE","arrayPoints","cube","PLANE","plane","positions","dot","cubeMirror","find","candidate","size","finn","Finn","dir","flip","Eye","weight","tentacle","Tentacle","bone","Bone","_ref","lerpPoint","opacity","bodyFade","maxSize","_arrayWithHoles","_iterableToArrayLimit","toString","_arr","_n","_d","_e","_s","_i","_nonIterableRest","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_arrayWithoutHoles","arr2","_iterableToArray","iter","from","_nonIterableSpread","empty","firstChild","centered","dragRotate","resize","onPrerender","onResize","setElement","setDragRotate","setResize","nodeName","setCanvas","setSvg","setSize","setSizeCanvas","setSizeSvg","resizeListener","onWindowResize","setMeasuredSize","rect","getBoundingClientRect","renderGraph","updateRenderGraph","pixelRatio","devicePixelRatio","canvasWidth","canvasHeight","prerenderCanvas","postrenderCanvas","centerX","centerY","getAttribute","viewWidth","viewHeight","viewX","viewY","removeAttribute","displaySize","moveRY","moveRX","cornerRadius","xA","yA","shortSide","xB","yB","sides","theta","apex","renderCentroid","renderDome","getDomeRenderElement","contourAngle","atan2","domeRadius","startAngle","endAngle","domeSvgElement","CylinderGroup","renderCylinderSurface","frontBase","rearBase","strokeWidth","frontFace","group","baseZ","baseColor","_prop","renderApex","tangentA","tangentB","surfacePathCommands","renderConeSurface","apexDistance","normalDistance","eccenAngle","acos","eccen","apexAngle","projectLength","projectAngle","setSurfaceRenderPoint","getSurfaceRenderElement","surfaceSvgElement","BoxRect","faceNames","boxDefaults","faceName","depth","_faceName","setFace","rectProperty","getFaceOptions","rearFace","leftFace","rightFace","topFace","bottomFace","isFaceColor","isColorUnderwrite","__WEBPACK_IMPORTED_MODULE_5_store_store__","__WEBPACK_IMPORTED_MODULE_6_zdog__","__WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__","__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__","__WEBPACK_IMPORTED_MODULE_9_utils_prng__","_Limb","initialRotation","wallFactor","_seed","_nextInt","_nextFloat","nextInt","rng","__WEBPACK_IMPORTED_MODULE_6_abstractions_Limb__","__WEBPACK_IMPORTED_MODULE_7_utils_prng__","timeScale","globe","pupil","__WEBPACK_IMPORTED_MODULE_8_utils_prng__","amp","speed","initialBezier","cbrt","prng","updateRate","compute","dt","_value","addBefore","RafTimer","delay","autostart","_stopped","_remainder","_delay","_remainingTime","_callback","restart","setCallback","newCallback","newDelay","useRemainder","dispose","_frame","_lastDate","_rafHandler","_once","requestAnimationFrame","_complex","_beforeObservers","_observers","_afterObservers","_swapRunner","_addObserver","prepend","unshift","_removeObserver","addAfter","removeBefore","removeAfter","instant","requestOnce","cancelAnimationFrame","global","g","Function","eval"],"mappings":"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","file":"d54e5fb4f5491049626c.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/sedimentation/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 28);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/*!\n * Zdog v1.1.2\n * Round, flat, designer-friendly pseudo-3D engine\n * Licensed MIT\n * https://zzz.dog\n * Copyright 2020 Metafizzy\n */\n\n/**\n * Boilerplate & utils\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog = factory();\n  }\n}( this, function factory() {\n\nvar Zdog = {};\n\nZdog.TAU = Math.PI * 2;\n\nZdog.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\nZdog.lerp = function( a, b, alpha ) {\n  return ( b - a ) * alpha + a;\n};\n\nZdog.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\nvar powerMultipliers = {\n  2: function( a ) {\n    return a * a;\n  },\n  3: function( a ) {\n    return a * a * a;\n  },\n  4: function( a ) {\n    return a * a * a * a;\n  },\n  5: function( a ) {\n    return a * a * a * a * a;\n  },\n};\n\nZdog.easeInOut = function( alpha, power ) {\n  if ( power == 1 ) {\n    return alpha;\n  }\n  alpha = Math.max( 0, Math.min( 1, alpha ) );\n  var isFirstHalf = alpha < 0.5;\n  var slope = isFirstHalf ? alpha : 1 - alpha;\n  slope /= 0.5;\n  // make easing steeper with more multiples\n  var powerMultiplier = powerMultipliers[ power ] || powerMultipliers[2];\n  var curve = powerMultiplier( slope );\n  curve /= 2;\n  return isFirstHalf ? curve : 1 - curve;\n};\n\nreturn Zdog;\n\n}));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_utils_state__ = __webpack_require__(30);\n\nvar Store = {\n  seed: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(Date.now()),\n  creature: {\n    debug: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(false),\n    anchorsLength: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"a\" /* readable */])(4 * 4 * 4),\n    // because 4^3 = 8^2\n    colorsLength: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"a\" /* readable */])(2),\n    colors: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"a\" /* readable */])(['#369378', '#e8322d', '#6bedad', '#218bfc', '#7264c7', '#fff713', '#805c00', '#94b4e3', '#80fc73', '#ff7a0f', '#a8a2f5', '#7de624', '#9dd073', '#d2203e', '#ff3bd3', '#3937a6', '#df9d13', '#e65cb9', '#f9a923', '#57f893', '#f9d921', '#cbd3ac']),\n    density: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(20),\n    scaleX: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(1),\n    scaleY: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(1),\n    planeLerp: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(1),\n    buildLerp: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(0)\n  },\n  raf: {\n    isRunning: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(false),\n    ellapsedTime: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(0),\n    frameCount: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(0),\n    fps: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(0)\n  },\n  scene: {\n    debug: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(true),\n    zoom: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(4),\n    rotation: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])({\n      x: 0,\n      y: 0,\n      z: 0\n    }),\n    dimensions: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])([0, 0])\n  },\n  midi: {\n    debug: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(false),\n    ready: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"b\" /* writable */])(false),\n    input: Object(__WEBPACK_IMPORTED_MODULE_0_utils_state__[\"a\" /* readable */])('nanoKONTROL2 SLIDER/KNOB')\n  }\n};\nwindow.Store = Store;\n/* harmony default export */ __webpack_exports__[\"a\"] = (Store);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Index\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        __webpack_require__(0),\n        __webpack_require__(22),\n        __webpack_require__(23),\n        __webpack_require__(10),\n        __webpack_require__(5),\n        __webpack_require__(24),\n        __webpack_require__(47),\n        __webpack_require__(12),\n        __webpack_require__(6),\n        __webpack_require__(25),\n        __webpack_require__(26),\n        __webpack_require__(48),\n        __webpack_require__(13),\n        __webpack_require__(49),\n        __webpack_require__(50),\n        __webpack_require__(51),\n        __webpack_require__(52),\n        __webpack_require__(53)\n    );\n  } else if ( true ) {\n    /* globals define */ // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (root.Zdog),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n})( this, function factory( Zdog, CanvasRenderer, SvgRenderer, Vector, Anchor,\n    Dragger, Illustration, PathCommand, Shape, Group, Rect, RoundedRect,\n    Ellipse, Polygon, Hemisphere, Cylinder, Cone, Box ) {\n\n      Zdog.CanvasRenderer = CanvasRenderer;\n      Zdog.SvgRenderer = SvgRenderer;\n      Zdog.Vector = Vector;\n      Zdog.Anchor = Anchor;\n      Zdog.Dragger = Dragger;\n      Zdog.Illustration = Illustration;\n      Zdog.PathCommand = PathCommand;\n      Zdog.Shape = Shape;\n      Zdog.Group = Group;\n      Zdog.Rect = Rect;\n      Zdog.RoundedRect = RoundedRect;\n      Zdog.Ellipse = Ellipse;\n      Zdog.Polygon = Polygon;\n      Zdog.Hemisphere = Hemisphere;\n      Zdog.Cylinder = Cylinder;\n      Zdog.Cone = Cone;\n      Zdog.Box = Box;\n\n      return Zdog;\n});\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Anchor\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(10),\n        __webpack_require__(22), __webpack_require__(23) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Anchor = factory( Zdog, Zdog.Vector, Zdog.CanvasRenderer,\n        Zdog.SvgRenderer );\n  }\n}( this, function factory( utils, Vector, CanvasRenderer, SvgRenderer ) {\n\nvar TAU = utils.TAU;\nvar onePoint = { x: 1, y: 1, z: 1 };\n\nfunction Anchor( options ) {\n  this.create( options || {} );\n}\n\nAnchor.prototype.create = function( options ) {\n  this.children = [];\n  // set defaults & options\n  utils.extend( this, this.constructor.defaults );\n  this.setOptions( options );\n\n  // transform\n  this.translate = new Vector( options.translate );\n  this.rotate = new Vector( options.rotate );\n  this.scale = new Vector( onePoint ).multiply( this.scale );\n  // origin\n  this.origin = new Vector();\n  this.renderOrigin = new Vector();\n\n  if ( this.addTo ) {\n    this.addTo.addChild( this );\n  }\n};\n\nAnchor.defaults = {};\n\nAnchor.optionKeys = Object.keys( Anchor.defaults ).concat([\n  'rotate',\n  'translate',\n  'scale',\n  'addTo',\n]);\n\nAnchor.prototype.setOptions = function( options ) {\n  var optionKeys = this.constructor.optionKeys;\n\n  for ( var key in options ) {\n    if ( optionKeys.indexOf( key ) != -1 ) {\n      this[ key ] = options[ key ];\n    }\n  }\n};\n\nAnchor.prototype.addChild = function( shape ) {\n  if ( this.children.indexOf( shape ) != -1 ) {\n    return;\n  }\n  shape.remove(); // remove previous parent\n  shape.addTo = this; // keep parent reference\n  this.children.push( shape );\n};\n\nAnchor.prototype.removeChild = function( shape ) {\n  var index = this.children.indexOf( shape );\n  if ( index != -1 ) {\n    this.children.splice( index, 1 );\n  }\n};\n\nAnchor.prototype.remove = function() {\n  if ( this.addTo ) {\n    this.addTo.removeChild( this );\n  }\n};\n\n// ----- update ----- //\n\nAnchor.prototype.update = function() {\n  // update self\n  this.reset();\n  // update children\n  this.children.forEach( function( child ) {\n    child.update();\n  });\n  this.transform( this.translate, this.rotate, this.scale );\n};\n\nAnchor.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n};\n\nAnchor.prototype.transform = function( translation, rotation, scale ) {\n  this.renderOrigin.transform( translation, rotation, scale );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  });\n};\n\nAnchor.prototype.updateGraph = function() {\n  this.update();\n  this.updateFlatGraph();\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n  });\n  // z-sort\n  this.flatGraph.sort( Anchor.shapeSorter );\n};\n\nAnchor.shapeSorter = function( a, b ) {\n  return a.sortValue - b.sortValue;\n};\n\n// custom getter to check for flatGraph before using it\nObject.defineProperty( Anchor.prototype, 'flatGraph', {\n  get: function() {\n    if ( !this._flatGraph ) {\n      this.updateFlatGraph();\n    }\n    return this._flatGraph;\n  },\n  set: function( graph ) {\n    this._flatGraph = graph;\n  },\n});\n\nAnchor.prototype.updateFlatGraph = function() {\n  this.flatGraph = this.getFlatGraph();\n};\n\n// return Array of self & all child graph items\nAnchor.prototype.getFlatGraph = function() {\n  var flatGraph = [ this ];\n  return this.addChildFlatGraph( flatGraph );\n};\n\nAnchor.prototype.addChildFlatGraph = function( flatGraph ) {\n  this.children.forEach( function( child ) {\n    var childFlatGraph = child.getFlatGraph();\n    Array.prototype.push.apply( flatGraph, childFlatGraph );\n  });\n  return flatGraph;\n};\n\nAnchor.prototype.updateSortValue = function() {\n  this.sortValue = this.renderOrigin.z;\n};\n\n// ----- render ----- //\n\nAnchor.prototype.render = function() {};\n\n// TODO refactor out CanvasRenderer so its not a dependency within anchor.js\nAnchor.prototype.renderGraphCanvas = function( ctx ) {\n  if ( !ctx ) {\n    throw new Error( 'ctx is ' + ctx + '. ' +\n      'Canvas context required for render. Check .renderGraphCanvas( ctx ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, CanvasRenderer );\n  });\n};\n\nAnchor.prototype.renderGraphSvg = function( svg ) {\n  if ( !svg ) {\n    throw new Error( 'svg is ' + svg + '. ' +\n      'SVG required for render. Check .renderGraphSvg( svg ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( svg, SvgRenderer );\n  });\n};\n\n// ----- misc ----- //\n\nAnchor.prototype.copy = function( options ) {\n  // copy options\n  var itemOptions = {};\n  var optionKeys = this.constructor.optionKeys;\n  optionKeys.forEach( function( key ) {\n    itemOptions[ key ] = this[ key ];\n  }, this );\n  // add set options\n  utils.extend( itemOptions, options );\n  var ItemClass = this.constructor;\n  return new ItemClass( itemOptions );\n};\n\nAnchor.prototype.copyGraph = function( options ) {\n  var clone = this.copy( options );\n  this.children.forEach( function( child ) {\n    child.copyGraph({\n      addTo: clone,\n    });\n  });\n  return clone;\n};\n\nAnchor.prototype.normalizeRotate = function() {\n  this.rotate.x = utils.modulo( this.rotate.x, TAU );\n  this.rotate.y = utils.modulo( this.rotate.y, TAU );\n  this.rotate.z = utils.modulo( this.rotate.z, TAU );\n};\n\n// ----- subclass ----- //\n\nfunction getSubclass( Super ) {\n  return function( defaults ) {\n    // create constructor\n    function Item( options ) {\n      this.create( options || {} );\n    }\n\n    Item.prototype = Object.create( Super.prototype );\n    Item.prototype.constructor = Item;\n\n    Item.defaults = utils.extend( {}, Super.defaults );\n    utils.extend( Item.defaults, defaults );\n    // create optionKeys\n    Item.optionKeys = Super.optionKeys.slice(0);\n    // add defaults keys to optionKeys, dedupe\n    Object.keys( Item.defaults ).forEach( function( key ) {\n      if ( !Item.optionKeys.indexOf( key ) != 1 ) {\n        Item.optionKeys.push( key );\n      }\n    });\n\n    Item.subclass = getSubclass( Item );\n\n    return Item;\n  };\n}\n\nAnchor.subclass = getSubclass( Anchor );\n\nreturn Anchor;\n\n}));\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(10),\n        __webpack_require__(12), __webpack_require__(5) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Shape = factory( Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor ) {\n\nvar Shape = Anchor.subclass({\n  stroke: 1,\n  fill: false,\n  color: '#333',\n  closed: true,\n  visible: true,\n  path: [ {} ],\n  front: { z: 1 },\n  backface: true,\n});\n\nShape.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // front\n  this.front = new Vector( options.front || this.front );\n  this.renderFront = new Vector( this.front );\n  this.renderNormal = new Vector();\n};\n\nvar actionNames = [\n  'move',\n  'line',\n  'bezier',\n  'arc',\n];\n\nShape.prototype.updatePath = function() {\n  this.setPath();\n  this.updatePathCommands();\n};\n\n// place holder for Ellipse, Rect, etc.\nShape.prototype.setPath = function() {};\n\n// parse path into PathCommands\nShape.prototype.updatePathCommands = function() {\n  var previousPoint;\n  this.pathCommands = this.path.map( function( pathPart, i ) {\n    // pathPart can be just vector coordinates -> { x, y, z }\n    // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }\n    var keys = Object.keys( pathPart );\n    var method = keys[0];\n    var points = pathPart[ method ];\n    // default to line if no instruction\n    var isInstruction = keys.length == 1 && actionNames.indexOf( method ) != -1;\n    if ( !isInstruction ) {\n      method = 'line';\n      points = pathPart;\n    }\n    // munge single-point methods like line & move without arrays\n    var isLineOrMove = method == 'line' || method == 'move';\n    var isPointsArray = Array.isArray( points );\n    if ( isLineOrMove && !isPointsArray ) {\n      points = [ points ];\n    }\n\n    // first action is always move\n    method = i === 0 ? 'move' : method;\n    // arcs require previous last point\n    var command = new PathCommand( method, points, previousPoint );\n    // update previousLastPoint\n    previousPoint = command.endRenderPoint;\n    return command;\n  });\n};\n\n// ----- update ----- //\n\nShape.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n  this.renderFront.set( this.front );\n  // reset command render points\n  this.pathCommands.forEach( function( command ) {\n    command.reset();\n  });\n};\n\nShape.prototype.transform = function( translation, rotation, scale ) {\n  // calculate render points backface visibility & cone/hemisphere shapes\n  this.renderOrigin.transform( translation, rotation, scale );\n  this.renderFront.transform( translation, rotation, scale );\n  this.renderNormal.set( this.renderOrigin ).subtract( this.renderFront );\n  // transform points\n  this.pathCommands.forEach( function( command ) {\n    command.transform( translation, rotation, scale );\n  });\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  });\n};\n\nShape.prototype.updateSortValue = function() {\n  // sort by average z of all points\n  // def not geometrically correct, but works for me\n  var pointCount = this.pathCommands.length;\n  var firstPoint = this.pathCommands[0].endRenderPoint;\n  var lastPoint = this.pathCommands[ pointCount - 1 ].endRenderPoint;\n  // ignore the final point if self closing shape\n  var isSelfClosing = pointCount > 2 && firstPoint.isSame( lastPoint );\n  if ( isSelfClosing ) {\n    pointCount -= 1;\n  }\n\n  var sortValueTotal = 0;\n  for ( var i = 0; i < pointCount; i++ ) {\n    sortValueTotal += this.pathCommands[i].endRenderPoint.z;\n  }\n  this.sortValue = sortValueTotal / pointCount;\n};\n\n// ----- render ----- //\n\nShape.prototype.render = function( ctx, renderer ) {\n  var length = this.pathCommands.length;\n  if ( !this.visible || !length ) {\n    return;\n  }\n  // do not render if hiding backface\n  this.isFacingBack = this.renderNormal.z > 0;\n  if ( !this.backface && this.isFacingBack ) {\n    return;\n  }\n  if ( !renderer ) {\n    throw new Error( 'Zdog renderer required. Set to ' + renderer );\n  }\n  // render dot or path\n  var isDot = length == 1;\n  if ( renderer.isCanvas && isDot ) {\n    this.renderCanvasDot( ctx, renderer );\n  } else {\n    this.renderPath( ctx, renderer );\n  }\n};\n\nvar TAU = utils.TAU;\n// Safari does not render lines with no size, have to render circle instead\nShape.prototype.renderCanvasDot = function( ctx ) {\n  var lineWidth = this.getLineWidth();\n  if ( !lineWidth ) {\n    return;\n  }\n  ctx.fillStyle = this.getRenderColor();\n  var point = this.pathCommands[0].endRenderPoint;\n  ctx.beginPath();\n  var radius = lineWidth/2;\n  ctx.arc( point.x, point.y, radius, 0, TAU );\n  ctx.fill();\n};\n\nShape.prototype.getLineWidth = function() {\n  if ( !this.stroke ) {\n    return 0;\n  }\n  if ( this.stroke == true ) {\n    return 1;\n  }\n  return this.stroke;\n};\n\nShape.prototype.getRenderColor = function() {\n  // use backface color if applicable\n  var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;\n  var color = isBackfaceColor ? this.backface : this.color;\n  return color;\n};\n\nShape.prototype.renderPath = function( ctx, renderer ) {\n  var elem = this.getRenderElement( ctx, renderer );\n  var isTwoPoints = this.pathCommands.length == 2 &&\n    this.pathCommands[1].method == 'line';\n  var isClosed = !isTwoPoints && this.closed;\n  var color = this.getRenderColor();\n\n  renderer.renderPath( ctx, elem, this.pathCommands, isClosed );\n  renderer.stroke( ctx, elem, this.stroke, color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nShape.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path');\n    this.svgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.svgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.svgElement;\n};\n\nreturn Shape;\n\n}));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(31);\n\nvar assertThisInitialized = __webpack_require__(32);\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar setPrototypeOf = __webpack_require__(33);\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Vector\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Vector = factory( Zdog );\n  }\n\n}( this, function factory( utils ) {\n\nfunction Vector( position ) {\n  this.set( position );\n}\n\nvar TAU = utils.TAU;\n\n// 'pos' = 'position'\nVector.prototype.set = function( pos ) {\n  this.x = pos && pos.x || 0;\n  this.y = pos && pos.y || 0;\n  this.z = pos && pos.z || 0;\n  return this;\n};\n\n// set coordinates without sanitizing\n// vec.write({ y: 2 }) only sets y coord\nVector.prototype.write = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x = pos.x != undefined ? pos.x : this.x;\n  this.y = pos.y != undefined ? pos.y : this.y;\n  this.z = pos.z != undefined ? pos.z : this.z;\n  return this;\n};\n\nVector.prototype.rotate = function( rotation ) {\n  if ( !rotation ) {\n    return;\n  }\n  this.rotateZ( rotation.z );\n  this.rotateY( rotation.y );\n  this.rotateX( rotation.x );\n  return this;\n};\n\nVector.prototype.rotateZ = function( angle ) {\n  rotateProperty( this, angle, 'x', 'y' );\n};\n\nVector.prototype.rotateX = function( angle ) {\n  rotateProperty( this, angle, 'y', 'z' );\n};\n\nVector.prototype.rotateY = function( angle ) {\n  rotateProperty( this, angle, 'x', 'z' );\n};\n\nfunction rotateProperty( vec, angle, propA, propB ) {\n  if ( !angle || angle % TAU === 0 ) {\n    return;\n  }\n  var cos = Math.cos( angle );\n  var sin = Math.sin( angle );\n  var a = vec[ propA ];\n  var b = vec[ propB ];\n  vec[ propA ] = a*cos - b*sin;\n  vec[ propB ] = b*cos + a*sin;\n}\n\nVector.prototype.isSame = function( pos ) {\n  if ( !pos ) {\n    return false;\n  }\n  return this.x === pos.x && this.y === pos.y && this.z === pos.z;\n};\n\nVector.prototype.add = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x += pos.x || 0;\n  this.y += pos.y || 0;\n  this.z += pos.z || 0;\n  return this;\n};\n\nVector.prototype.subtract = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x -= pos.x || 0;\n  this.y -= pos.y || 0;\n  this.z -= pos.z || 0;\n  return this;\n};\n\nVector.prototype.multiply = function( pos ) {\n  if ( pos == undefined ) {\n    return this;\n  }\n  // multiple all values by same number\n  if ( typeof pos == 'number' ) {\n    this.x *= pos;\n    this.y *= pos;\n    this.z *= pos;\n  } else {\n    // multiply object\n    this.x *= pos.x != undefined ? pos.x : 1;\n    this.y *= pos.y != undefined ? pos.y : 1;\n    this.z *= pos.z != undefined ? pos.z : 1;\n  }\n  return this;\n};\n\nVector.prototype.transform = function( translation, rotation, scale ) {\n  this.multiply( scale );\n  this.rotate( rotation );\n  this.add( translation );\n  return this;\n};\n\nVector.prototype.lerp = function( pos, alpha ) {\n  this.x = utils.lerp( this.x, pos.x || 0, alpha );\n  this.y = utils.lerp( this.y, pos.y || 0, alpha );\n  this.z = utils.lerp( this.z, pos.z || 0, alpha );\n  return this;\n};\n\nVector.prototype.magnitude = function() {\n  var sum = this.x*this.x + this.y*this.y + this.z*this.z;\n  return getMagnitudeSqrt( sum );\n};\n\nfunction getMagnitudeSqrt( sum ) {\n  // PERF: check if sum ~= 1 and skip sqrt\n  if ( Math.abs( sum - 1 ) < 0.00000001 ) {\n    return 1;\n  }\n  return Math.sqrt( sum );\n}\n\nVector.prototype.magnitude2d = function() {\n  var sum = this.x*this.x + this.y*this.y;\n  return getMagnitudeSqrt( sum );\n};\n\nVector.prototype.copy = function() {\n  return new Vector( this );\n};\n\nreturn Vector;\n\n}));\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_fast_random__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_fast_random___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_fast_random__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_array_random__ = __webpack_require__(56);\n\n\nvar seed = Date.now();\nvar randomizer = __WEBPACK_IMPORTED_MODULE_0_fast_random___default()(seed);\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  set seed(newSeed) {\n    // Seed must be an integer\n    seed = newSeed;\n    randomizer = __WEBPACK_IMPORTED_MODULE_0_fast_random___default()(seed);\n  },\n\n  get seed() {\n    return seed;\n  },\n\n  reset: function reset() {\n    randomizer = __WEBPACK_IMPORTED_MODULE_0_fast_random___default()(seed);\n  },\n  random: function random() {\n    return randomizer.nextFloat();\n  },\n  randomOf: function randomOf(arr) {\n    return Object(__WEBPACK_IMPORTED_MODULE_1_utils_array_random__[\"a\" /* default */])(arr, randomizer.nextFloat);\n  },\n  randomFloat: function randomFloat(min, max) {\n    return randomizer.nextFloat() * (max - min) + min;\n  },\n  randomInt: function randomInt(min, max) {\n    return Math.floor(randomizer.nextFloat() * (max - min) + min);\n  }\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * PathCommand\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(10) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.PathCommand = factory( Zdog.Vector );\n  }\n}( this, function factory( Vector ) {\n\nfunction PathCommand( method, points, previousPoint ) {\n  this.method = method;\n  this.points = points.map( mapVectorPoint );\n  this.renderPoints = points.map( mapNewVector );\n  this.previousPoint = previousPoint;\n  this.endRenderPoint = this.renderPoints[ this.renderPoints.length - 1 ];\n  // arc actions come with previous point & corner point\n  // but require bezier control points\n  if ( method == 'arc' ) {\n    this.controlPoints = [ new Vector(), new Vector() ];\n  }\n}\n\nfunction mapVectorPoint( point ) {\n  if ( point instanceof Vector ) {\n    return point;\n  } else {\n    return new Vector( point );\n  }\n}\n\nfunction mapNewVector( point ) {\n  return new Vector( point );\n}\n\nPathCommand.prototype.reset = function() {\n  // reset renderPoints back to orignal points position\n  var points = this.points;\n  this.renderPoints.forEach( function( renderPoint, i ) {\n    var point = points[i];\n    renderPoint.set( point );\n  });\n};\n\nPathCommand.prototype.transform = function( translation, rotation, scale ) {\n  this.renderPoints.forEach( function( renderPoint ) {\n    renderPoint.transform( translation, rotation, scale );\n  });\n};\n\nPathCommand.prototype.render = function( ctx, elem, renderer ) {\n  return this[ this.method ]( ctx, elem, renderer );\n};\n\nPathCommand.prototype.move = function( ctx, elem, renderer ) {\n  return renderer.move( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.line = function( ctx, elem, renderer ) {\n  return renderer.line( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.bezier = function( ctx, elem, renderer ) {\n  var cp0 = this.renderPoints[0];\n  var cp1 = this.renderPoints[1];\n  var end = this.renderPoints[2];\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nvar arcHandleLength = 9/16;\n\nPathCommand.prototype.arc = function( ctx, elem, renderer ) {\n  var prev = this.previousPoint;\n  var corner = this.renderPoints[0];\n  var end = this.renderPoints[1];\n  var cp0 = this.controlPoints[0];\n  var cp1 = this.controlPoints[1];\n  cp0.set( prev ).lerp( corner, arcHandleLength );\n  cp1.set( end ).lerp( corner, arcHandleLength );\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nreturn PathCommand;\n\n}));\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Ellipse\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(6) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Ellipse = factory( Zdog.Shape );\n  }\n\n}( this, function factory( Shape ) {\n\nvar Ellipse = Shape.subclass({\n  diameter: 1,\n  width: undefined,\n  height: undefined,\n  quarters: 4,\n  closed: false,\n});\n\nEllipse.prototype.setPath = function() {\n  var width = this.width != undefined ? this.width : this.diameter;\n  var height = this.height != undefined ? this.height : this.diameter;\n  var x = width / 2;\n  var y = height / 2;\n  this.path = [\n    { x: 0, y: -y },\n    { arc: [ // top right\n      { x: x, y: -y },\n      { x: x, y: 0 },\n    ]},\n  ];\n  // bottom right\n  if ( this.quarters > 1 ) {\n    this.path.push({ arc: [\n      { x: x, y: y },\n      { x: 0, y: y },\n    ]});\n  }\n  // bottom left\n  if ( this.quarters > 2 ) {\n    this.path.push({ arc: [\n      { x: -x, y: y },\n      { x: -x, y: 0 },\n    ]});\n  }\n  // top left\n  if ( this.quarters > 3 ) {\n    this.path.push({ arc: [\n      { x: -x, y: -y },\n      { x: 0, y: -y },\n    ]});\n  }\n};\n\nreturn Ellipse;\n\n}));\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Limb; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_zdog__);\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar Limb =\n/*#__PURE__*/\nfunction () {\n  __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default()(Limb, null, [{\n    key: \"Shape\",\n    value: function Shape(anchor, props) {\n      var limb = new Limb(anchor, props);\n      limb.refs.shape = new __WEBPACK_IMPORTED_MODULE_4_zdog__[\"Shape\"](_objectSpread({\n        addTo: limb.anchor\n      }, props));\n      return limb;\n    }\n  }]);\n\n  function Limb(anchor, props) {\n    __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck___default()(this, Limb);\n\n    this.anchor = new __WEBPACK_IMPORTED_MODULE_4_zdog__[\"Anchor\"]({\n      addTo: anchor\n    });\n    this.props = props;\n    this.refs = {};\n    this.state = {};\n    this.render(props);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default()(Limb, [{\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"copy\",\n    value: function copy(anchor) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var copy = Object.assign(Object.create(Object.getPrototypeOf(this)), this);\n      copy.anchor = new __WEBPACK_IMPORTED_MODULE_4_zdog__[\"Anchor\"]({\n        addTo: anchor\n      });\n      copy.props = props;\n      copy.refs = {};\n      Object.entries(this.refs).forEach(function (_ref) {\n        var _ref2 = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default()(_ref, 2),\n            key = _ref2[0],\n            ref = _ref2[1];\n\n        copy.refs[key] = ref.copy(_objectSpread({\n          addTo: copy.anchor\n        }, props));\n      });\n      copy.clonedFrom = this;\n      return copy;\n    }\n  }, {\n    key: \"flip\",\n    value: function flip() {\n      this.flipped = !this.flipped;\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      Object.values(this.refs).forEach(function (ref) {\n        return ref.remove();\n      });\n      this.anchor.remove();\n    }\n  }, {\n    key: \"visible\",\n    get: function get() {\n      return this.anchor.visible;\n    },\n    set: function set(v) {\n      Object.values(this.refs).forEach(function (ref) {\n        ref.visible = v;\n      });\n    }\n  }]);\n\n  return Limb;\n}();\n\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_missing_math__ = __webpack_require__(21);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (a, b, t) {\n  return {\n    x: Object(__WEBPACK_IMPORTED_MODULE_0_missing_math__[\"a\" /* lerp */])(a.x, b.x, t),\n    y: Object(__WEBPACK_IMPORTED_MODULE_0_missing_math__[\"a\" /* lerp */])(a.y, b.y, t),\n    z: Object(__WEBPACK_IMPORTED_MODULE_0_missing_math__[\"a\" /* lerp */])(a.z, b.z, t)\n  };\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithHoles = __webpack_require__(40);\n\nvar iterableToArrayLimit = __webpack_require__(41);\n\nvar nonIterableRest = __webpack_require__(42);\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Readable; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = readable;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__signal__ = __webpack_require__(19);\n\n\n\n\n\n\n\nvar Readable =\n/*#__PURE__*/\nfunction (_Signal) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Readable, _Signal);\n\n  function Readable(initialValue) {\n    var _this;\n\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Readable);\n\n    _this = __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Readable).call(this));\n    _this.current = initialValue;\n    return _this;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Readable, [{\n    key: \"set\",\n    value: function set() {\n      throw new Error('Cannot set a different value for a Readable Signal. Use Writable instead');\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.current;\n    }\n  }]);\n\n  return Readable;\n}(__WEBPACK_IMPORTED_MODULE_5__signal__[\"a\" /* Signal */]);\n\n\nfunction readable(v) {\n  return new Readable(v);\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Signal; });\n/* unused harmony export default */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n\n\n\nfunction SignalListener(owner, fn, ctx, once) {\n  this.fn = fn;\n  this.ctx = ctx || null;\n  this.owner = owner;\n  this.once = !!once;\n}\n\nfunction removeNode(owner, node) {\n  if (node.prev) node.prev.next = node.next;\n  if (node.next) node.next.prev = node.prev;\n  node.ctx = node.fn = node.owner = null;\n  if (node === owner._first) owner._first = node.next;\n  if (node === owner._last) owner._last = node.prev;\n}\n\nvar Signal =\n/*#__PURE__*/\nfunction () {\n  function Signal() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Signal);\n\n    this._first = this._last = null;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Signal, [{\n    key: \"dispatch\",\n    value: function dispatch(a0, a1, a2, a3, a4) {\n      var node = this._first;\n\n      while (node) {\n        node.fn.call(node.ctx, a0, a1, a2, a3, a4);\n        node.once && this.unsubscribe(node);\n        node = node.next;\n      }\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(fn, ctx, once) {\n      var node = new SignalListener(this, fn, ctx, once);\n\n      if (!this._first) {\n        this._first = node;\n        this._last = node;\n      } else {\n        this._last.next = node;\n        node.prev = this._last;\n        this._last = node;\n      }\n\n      return node;\n    }\n  }, {\n    key: \"subscribeOnce\",\n    value: function subscribeOnce(fn, ctx) {\n      return this.subscribe(fn, ctx, true);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(fn, ctx) {\n      if (fn instanceof SignalListener) return removeNode(this, fn);\n      if (!ctx) ctx = null;\n      var node = this._first;\n\n      while (node) {\n        if (node.fn === fn && node.ctx === ctx) removeNode(this, node);\n        node = node.next;\n      }\n    }\n  }, {\n    key: \"unsubscribeAll\",\n    value: function unsubscribeAll() {\n      var node = this._first;\n      this._first = this._last = null;\n\n      while (node) {\n        removeNode(this, node);\n        node = node.next;\n      }\n    }\n  }]);\n\n  return Signal;\n}();\n\n\nfunction signal() {\n  return new Signal();\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Writable; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = writable;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__readable__ = __webpack_require__(18);\n\n\n\n\n\n\n\nvar Writable =\n/*#__PURE__*/\nfunction (_Readable) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Writable, _Readable);\n\n  function Writable() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Writable);\n\n    return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Writable).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Writable, [{\n    key: \"set\",\n    value: function set(value, force) {\n      if (!force && this.current === value) return;\n      var previous = this.current;\n      this.current = value;\n      var node = this._first;\n\n      while (node) {\n        node.fn.call(node.ctx, this.current, previous);\n        node.once && this.unsubscribe(node);\n        node = node.next;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(cb, force) {\n      var value = cb(this.current);\n      this.set(value !== undefined ? value : this.current, force);\n    }\n  }]);\n\n  return Writable;\n}(__WEBPACK_IMPORTED_MODULE_5__readable__[\"a\" /* Readable */]);\n\n\nfunction writable(v) {\n  return new Writable(v);\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export clamp */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return t; });\n/* unused harmony export map */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return o; });\n/* unused harmony export random */\n/* unused harmony export randomInt */\n/* unused harmony export degrees */\n/* unused harmony export radians */\n/* unused harmony export roundTo */\n/* unused harmony export floorTo */\n/* unused harmony export fract */\nfunction n(n,t,r){return Math.max(t,Math.min(n,r))}function t(n,t,o,u){return void 0===u&&(u=!1),r(n,t,o,0,1,u)}function r(t,r,o,u,i,a){void 0===a&&(a=!1);var e=(t-r)*(i-u)/(o-r)+u;return a?n(e,u,i):e}function o(n,t,r){return n+r*(t-n)}function u(n,t,r){return void 0===r&&(r=Math.random),void 0!==t?o(n,t,r()):o(0,n,r())}function i(n,t,r){return void 0===r&&(r=Math.random),Math.floor(u(n,t,r))}function a(n){return 180*n/Math.PI}function e(n){return n*Math.PI/180}function f(n,t){return Math.ceil(n/t)*t}function c(n,t){return Math.floor(n/t)*t}function h(n,t){var r=n-Math.floor(n);return t?+r.toFixed(t):r}\n//# sourceMappingURL=missing-math.m.js.map\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n/**\n * CanvasRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.CanvasRenderer = factory();\n  }\n}( this, function factory() {\n\nvar CanvasRenderer = { isCanvas: true };\n\nCanvasRenderer.begin = function( ctx ) {\n  ctx.beginPath();\n};\n\nCanvasRenderer.move = function( ctx, elem, point ) {\n  ctx.moveTo( point.x, point.y );\n};\n\nCanvasRenderer.line = function( ctx, elem, point ) {\n  ctx.lineTo( point.x, point.y );\n};\n\nCanvasRenderer.bezier = function( ctx, elem, cp0, cp1, end ) {\n  ctx.bezierCurveTo( cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y );\n};\n\nCanvasRenderer.closePath = function( ctx ) {\n  ctx.closePath();\n};\n\nCanvasRenderer.setPath = function() {};\n\nCanvasRenderer.renderPath = function( ctx, elem, pathCommands, isClosed ) {\n  this.begin( ctx, elem );\n  pathCommands.forEach( function( command ) {\n    command.render( ctx, elem, CanvasRenderer );\n  });\n  if ( isClosed ) {\n    this.closePath( ctx, elem );\n  }\n};\n\nCanvasRenderer.stroke = function( ctx, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.stroke();\n};\n\nCanvasRenderer.fill = function( ctx, elem, isFill, color ) {\n  if ( !isFill ) {\n    return;\n  }\n  ctx.fillStyle = color;\n  ctx.fill();\n};\n\nCanvasRenderer.end = function() {};\n\nreturn CanvasRenderer;\n\n}));\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n/**\n * SvgRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.SvgRenderer = factory();\n  }\n}( this, function factory() {\n\nvar SvgRenderer = { isSvg: true };\n\n// round path coordinates to 3 decimals\nvar round = SvgRenderer.round = function( num ) {\n  return Math.round( num * 1000 ) / 1000;\n};\n\nfunction getPointString( point ) {\n  return round( point.x ) + ',' + round( point.y ) + ' ';\n}\n\nSvgRenderer.begin = function() {};\n\nSvgRenderer.move = function( svg, elem, point ) {\n  return 'M' + getPointString( point );\n};\n\nSvgRenderer.line = function( svg, elem, point ) {\n  return 'L' + getPointString( point );\n};\n\nSvgRenderer.bezier = function( svg, elem, cp0, cp1, end ) {\n  return 'C' + getPointString( cp0 ) + getPointString( cp1 ) +\n    getPointString( end );\n};\n\nSvgRenderer.closePath = function(/* elem */) {\n  return 'Z';\n};\n\nSvgRenderer.setPath = function( svg, elem, pathValue ) {\n  elem.setAttribute( 'd', pathValue );\n};\n\nSvgRenderer.renderPath = function( svg, elem, pathCommands, isClosed ) {\n  var pathValue = '';\n  pathCommands.forEach( function( command ) {\n    pathValue += command.render( svg, elem, SvgRenderer );\n  });\n  if ( isClosed ) {\n    pathValue += this.closePath( svg, elem );\n  }\n  this.setPath( svg, elem, pathValue );\n};\n\nSvgRenderer.stroke = function( svg, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  elem.setAttribute( 'stroke', color );\n  elem.setAttribute( 'stroke-width', lineWidth );\n};\n\nSvgRenderer.fill = function( svg, elem, isFill, color ) {\n  var fillColor = isFill ? color : 'none';\n  elem.setAttribute( 'fill', fillColor );\n};\n\nSvgRenderer.end = function( svg, elem ) {\n  svg.appendChild( elem );\n};\n\nreturn SvgRenderer;\n\n}));\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n/**\n * Dragger\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.Dragger = factory();\n  }\n}( this, function factory() {\n\n// quick & dirty drag event stuff\n// messes up if multiple pointers/touches\n\n// check for browser window #85\nvar hasWindow = typeof window != 'undefined';\n// event support, default to mouse events\nvar downEvent = 'mousedown';\nvar moveEvent = 'mousemove';\nvar upEvent = 'mouseup';\nif ( hasWindow ) {\n  if ( window.PointerEvent ) {\n    // PointerEvent, Chrome\n    downEvent = 'pointerdown';\n    moveEvent = 'pointermove';\n    upEvent = 'pointerup';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events, iOS Safari\n    downEvent = 'touchstart';\n    moveEvent = 'touchmove';\n    upEvent = 'touchend';\n  }\n}\n\nfunction noop() {}\n\nfunction Dragger( options ) {\n  this.create( options || {} );\n}\n\nDragger.prototype.create = function( options ) {\n  this.onDragStart = options.onDragStart || noop;\n  this.onDragMove = options.onDragMove || noop;\n  this.onDragEnd = options.onDragEnd || noop;\n\n  this.bindDrag( options.startElement );\n};\n\nDragger.prototype.bindDrag = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    return;\n  }\n  // disable browser gestures #53\n  element.style.touchAction = 'none';\n  element.addEventListener( downEvent, this );\n};\n\nDragger.prototype.getQueryElement = function( element ) {\n  if ( typeof element == 'string' ) {\n    // with string, query selector\n    element = document.querySelector( element );\n  }\n  return element;\n};\n\nDragger.prototype.handleEvent = function( event ) {\n  var method = this[ 'on' + event.type ];\n  if ( method ) {\n    method.call( this, event );\n  }\n};\n\nDragger.prototype.onmousedown =\nDragger.prototype.onpointerdown = function( event ) {\n  this.dragStart( event, event );\n};\n\nDragger.prototype.ontouchstart = function( event ) {\n  this.dragStart( event, event.changedTouches[0] );\n};\n\nDragger.prototype.dragStart = function( event, pointer ) {\n  event.preventDefault();\n  this.dragStartX = pointer.pageX;\n  this.dragStartY = pointer.pageY;\n  if ( hasWindow ) {\n    window.addEventListener( moveEvent, this );\n    window.addEventListener( upEvent, this );\n  }\n  this.onDragStart( pointer );\n};\n\nDragger.prototype.ontouchmove = function( event ) {\n  // HACK, moved touch may not be first\n  this.dragMove( event, event.changedTouches[0] );\n};\n\nDragger.prototype.onmousemove =\nDragger.prototype.onpointermove = function( event ) {\n  this.dragMove( event, event );\n};\n\nDragger.prototype.dragMove = function( event, pointer ) {\n  event.preventDefault();\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  this.onDragMove( pointer, moveX, moveY );\n};\n\nDragger.prototype.onmouseup =\nDragger.prototype.onpointerup =\nDragger.prototype.ontouchend =\nDragger.prototype.dragEnd = function(/* event */) {\n  window.removeEventListener( moveEvent, this );\n  window.removeEventListener( upEvent, this );\n  this.onDragEnd();\n};\n\nreturn Dragger;\n\n}));\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Group\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(5) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Group = factory( Zdog.Anchor );\n  }\n}( this, function factory( Anchor ) {\n\nvar Group = Anchor.subclass({\n  updateSort: false,\n  visible: true,\n});\n\n// ----- update ----- //\n\nGroup.prototype.updateSortValue = function() {\n  var sortValueTotal = 0;\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n    sortValueTotal += item.sortValue;\n  });\n  // average sort value of all points\n  // def not geometrically correct, but works for me\n  this.sortValue = sortValueTotal / this.flatGraph.length;\n\n  if ( this.updateSort ) {\n    this.flatGraph.sort( Anchor.shapeSorter );\n  }\n};\n\n// ----- render ----- //\n\nGroup.prototype.render = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, renderer );\n  });\n};\n\n// actual group flatGraph only used inside group\nGroup.prototype.updateFlatGraph = function() {\n  // do not include self\n  var flatGraph = [];\n  this.flatGraph = this.addChildFlatGraph( flatGraph );\n};\n\n// do not include children, group handles rendering & sorting internally\nGroup.prototype.getFlatGraph = function() {\n  return [ this ];\n};\n\nreturn Group;\n\n}));\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Rect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(6) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Rect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar Rect = Shape.subclass({\n  width: 1,\n  height: 1,\n});\n\nRect.prototype.setPath = function() {\n  var x = this.width / 2;\n  var y = this.height / 2;\n  /* eslint key-spacing: \"off\" */\n  this.path = [\n    { x: -x, y: -y },\n    { x:  x, y: -y },\n    { x:  x, y:  y },\n    { x: -x, y:  y },\n  ];\n};\n\nreturn Rect;\n\n}));\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_zdog__);\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_defineProperty___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar anchor = new __WEBPACK_IMPORTED_MODULE_3_zdog__[\"Anchor\"]();\nvar canvas = document.querySelector('canvas#Scene');\nvar ctx = canvas.getContext('2d');\n\nvar add = function add(ZdogClass, props) {\n  return new ZdogClass(_objectSpread({\n    addTo: anchor\n  }, props));\n}; // Update Scene canvas when Store dimensions change\n\n\n__WEBPACK_IMPORTED_MODULE_2_store_store__[\"a\" /* default */].scene.dimensions.subscribe(function (_ref) {\n  var _ref2 = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default()(_ref, 2),\n      width = _ref2[0],\n      height = _ref2[1];\n\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  canvas.style.width = canvas.width + 'px';\n  canvas.style.height = canvas.height + 'px';\n}); // Enable drag-to-rotate\n\nvar dragStartRX;\nvar dragStartRY;\nadd(__WEBPACK_IMPORTED_MODULE_3_zdog__[\"Dragger\"], {\n  startElement: canvas,\n  onDragStart: function onDragStart() {\n    dragStartRX = anchor.rotate.x;\n    dragStartRY = anchor.rotate.y;\n  },\n  onDragMove: function onDragMove(pointer, moveX, moveY) {\n    var minSize = Math.min(canvas.width, canvas.height);\n    __WEBPACK_IMPORTED_MODULE_2_store_store__[\"a\" /* default */].scene.rotation.update(function (rotation) {\n      return _objectSpread({}, rotation, {\n        x: dragStartRX - moveY / minSize * Math.PI * 2,\n        y: dragStartRY - moveX / minSize * Math.PI * 2\n      });\n    }, true);\n  }\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  get anchor() {\n    return anchor;\n  },\n\n  get canvas() {\n    return canvas;\n  },\n\n  get ctx() {\n    return ctx;\n  },\n\n  add: add,\n  render: function render() {\n    var zoom = __WEBPACK_IMPORTED_MODULE_2_store_store__[\"a\" /* default */].scene.zoom.get();\n    var rotation = __WEBPACK_IMPORTED_MODULE_2_store_store__[\"a\" /* default */].scene.rotation.get();\n\n    var _Store$scene$dimensio = __WEBPACK_IMPORTED_MODULE_2_store_store__[\"a\" /* default */].scene.dimensions.get(),\n        _Store$scene$dimensio2 = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default()(_Store$scene$dimensio, 2),\n        width = _Store$scene$dimensio2[0],\n        height = _Store$scene$dimensio2[1];\n\n    anchor.rotate = rotation;\n    ctx.clearRect(0, 0, width, height);\n    anchor.updateGraph();\n    ctx.save();\n    ctx.translate(width / 2, height / 2);\n    ctx.scale(zoom, zoom);\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n    anchor.renderGraphCanvas(ctx);\n    ctx.restore();\n  }\n});\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(29);\nmodule.exports = __webpack_require__(68);\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_tiny_throttle__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_controllers_midi__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_controllers_animation__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_controllers_raf__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_controllers_scene__ = __webpack_require__(27);\n\n\n\n\n\n\nwindow.onresize = Object(__WEBPACK_IMPORTED_MODULE_1_tiny_throttle__[\"a\" /* debounce */])(function () {\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].scene.dimensions.set([window.innerWidth, window.innerHeight]);\n}, 10);\n\nwindow.onload = function () {\n  window.onresize();\n  document.body.classList.remove('is-loading');\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.isRunning.set(true);\n};\n\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].seed, {\n  cc: 18,\n  update: function update(v) {\n    return Date.now();\n  }\n});\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.scaleX, {\n  cc: 16\n});\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.scaleY, {\n  cc: 17\n});\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.density, {\n  cc: 0,\n  update: function update(v) {\n    return 10 + v * 190;\n  }\n});\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.planeLerp, {\n  cc: 1\n});\n__WEBPACK_IMPORTED_MODULE_2_controllers_midi__[\"a\" /* default */].derive(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.buildLerp, {\n  cc: 2\n});\n__WEBPACK_IMPORTED_MODULE_4_controllers_raf__[\"a\" /* default */].add(function () {\n  if (!window.ENV.production) {\n    document.title = \"\".concat(window.ENV.pageTitle, \" | [\").concat(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.fps.current.toFixed(0), \" fps]\");\n  }\n\n  if (!__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].midi.ready.get()) {\n    var t = Math.sin(Date.now() / 1000) + 1;\n    __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.planeLerp.set(Math.min(t, 1));\n    __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].creature.buildLerp.set(Math.max(1, t) - 1);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_controllers_animation__[\"a\" /* default */].update();\n  __WEBPACK_IMPORTED_MODULE_5_controllers_scene__[\"a\" /* default */].render();\n});\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__readable__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__writable__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__derived__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__signal__ = __webpack_require__(19);\n/* unused harmony reexport r */\n/* unused harmony reexport w */\n/* unused harmony reexport d */\n/* unused harmony reexport s */\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__readable__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__writable__[\"b\"]; });\n/* unused harmony reexport derived */\n/* unused harmony reexport signal */\n\n\n\n\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__writable__ = __webpack_require__(20);\n\n\nfunction derived(observables, cb) {\n  var value = new __WEBPACK_IMPORTED_MODULE_0__writable__[\"a\" /* Writable */]();\n  var setValue = value.set.bind(value);\n  delete value.set;\n  var isArray = Array.isArray(observables);\n  var values = isArray ? new Array(observables.length) : null;\n\n  if (isArray) {\n    var _loop = function _loop(i, l) {\n      values[i] = observables[i].current;\n      observables[i].subscribe(function (v) {\n        values[i] = v;\n        derive();\n      });\n    };\n\n    for (var i = 0, l = observables.length; i < l; i++) {\n      _loop(i, l);\n    }\n  } else {\n    values = observables.current;\n    observables.subscribe(function (v) {\n      values = v;\n      derive();\n    });\n  }\n\n  derive();\n\n  function derive() {\n    var result = cb(values);\n    if (result && result.then) result.then(setValue);else setValue(result);\n  }\n\n  return value;\n}\n\n/* unused harmony default export */ var _unused_webpack_default_export = (derived);\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return debounce; });\n/* unused harmony export throttle */\nvar debounceLead = function (callback, offset) {\n  var baseTime = 0;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var currentTime = Date.now();\n    if (baseTime + offset <= currentTime) {\n      callback.apply(void 0, args);\n      baseTime = currentTime;\n    } else {\n      baseTime = currentTime;\n    }\n  }\n};\n\nvar debounceTail = function (callback, offset) {\n  var timeoutFunc = null;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    clearTimeout(timeoutFunc);\n    timeoutFunc = setTimeout(function () {\n      callback.apply(void 0, args);\n    }, offset);\n  }\n};\n\n// call the correct debounce function\nvar debounce = function (callback, offset, leading) {\n    if ( leading === void 0 ) leading = false;\n\n    return (leading ? debounceLead(callback, offset) : debounceTail(callback, offset));\n};\n\n\nvar throttle = function (callback, offset) {\n  var baseTime = 0;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var currentTime = Date.now();\n    if (baseTime + offset <= currentTime) {\n      baseTime = currentTime;\n      callback.apply(void 0, args);\n    }\n  }\n};\n\n\n//# sourceMappingURL=tiny-throttle.es.js.map\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_webmidi__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_webmidi___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_webmidi__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_missing_math__ = __webpack_require__(21);\n\n\n\nvar derivations = [];\n\nfunction setup() {\n  if (__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].midi.ready.get()) return;\n  var input = __WEBPACK_IMPORTED_MODULE_1_webmidi___default.a.getInputByName(__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].midi.input.get());\n  if (!input) return;\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].midi.ready.set(true);\n  input.addListener('controlchange', 'all', function (e) {\n    if (__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].midi.debug.get()) console.log(e.controller, e.value);\n    var cc = e.controller.number;\n\n    if (derivations[cc]) {\n      var _derivations$cc = derivations[cc],\n          signal = _derivations$cc.signal,\n          update = _derivations$cc.update;\n      signal.set(update(Object(__WEBPACK_IMPORTED_MODULE_2_missing_math__[\"b\" /* normalize */])(e.value, 0, 127), signal.current));\n    }\n  });\n}\n\n__WEBPACK_IMPORTED_MODULE_1_webmidi___default.a.enable(function (error) {\n  if (error) {\n    console.error('WebMidi could not be enabled.', error);\n    return;\n  }\n\n  setup();\n  __WEBPACK_IMPORTED_MODULE_1_webmidi___default.a.addListener('connected', setup);\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  derive: function derive(signal) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        cc = _ref.cc,\n        _ref$update = _ref.update,\n        update = _ref$update === void 0 ? function (v) {\n      return v;\n    } : _ref$update;\n\n    derivations[cc] = {\n      signal: signal,\n      update: update\n    };\n  }\n});\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n\nWebMidi v2.5.1\n\nWebMidi.js helps you tame the Web MIDI API. Send and receive MIDI messages with ease. Control instruments with user-friendly functions (playNote, sendPitchBend, etc.). React to MIDI input with simple event listeners (noteon, pitchbend, controlchange, etc.).\nhttps://github.com/djipco/webmidi\n\n\nThe MIT License (MIT)\n\nCopyright (c) 2015-2019, Jean-Philippe Côté\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and\nassociated documentation files (the \"Software\"), to deal in the Software without restriction,\nincluding without limitation the rights to use, copy, modify, merge, publish, distribute,\nsublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial\nportions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\nNOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES\nOR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\n!function(scope){\"use strict\";function WebMidi(){if(WebMidi.prototype._singleton)throw new Error(\"WebMidi is a singleton, it cannot be instantiated directly.\");(WebMidi.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=[\"connected\",\"disconnected\"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=[\"entry\",\"increment\",\"decrement\"],this._notes=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return\"requestMIDIAccess\"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(enabled){return this._nrpnEventsEnabled=enabled,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var wm=new WebMidi;function Input(midiInput){var that=this;this._userHandlers={channel:{},system:{}},this._midiInput=midiInput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiInput.connection}},id:{enumerable:!0,get:function(){return that._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiInput.name}},state:{enumerable:!0,get:function(){return that._midiInput.state}},type:{enumerable:!0,get:function(){return that._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function Output(midiOutput){var that=this;this._midiOutput=midiOutput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiOutput.connection}},id:{enumerable:!0,get:function(){return that._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiOutput.name}},state:{enumerable:!0,get:function(){return that._midiOutput.state}},type:{enumerable:!0,get:function(){return that._midiOutput.type}}})}WebMidi.prototype.enable=function(callback,sysex){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:sysex}).then(function(midiAccess){var promiseTimeout,events=[],promises=[];this.interface=midiAccess,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){events.push(e)};for(var inputs=midiAccess.inputs.values(),input=inputs.next();input&&!input.done;input=inputs.next())promises.push(input.value.open());for(var outputs=midiAccess.outputs.values(),output=outputs.next();output&&!output.done;output=outputs.next())promises.push(output.value.open());function onPortsOpen(){clearTimeout(promiseTimeout),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),\"function\"==typeof callback&&callback.call(this),events.forEach(function(event){this._onInterfaceStateChange(event)}.bind(this))}promiseTimeout=setTimeout(onPortsOpen.bind(this),200),Promise&&Promise.all(promises).catch(function(err){}).then(onPortsOpen.bind(this))}.bind(this),function(err){\"function\"==typeof callback&&callback.call(this,err)}.bind(this)):\"function\"==typeof callback&&callback(new Error(\"The Web MIDI API is not supported by your browser.\")))},WebMidi.prototype.disable=function(){if(!this.supported)throw new Error(\"The Web MIDI API is not supported by your browser.\");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},WebMidi.prototype.addListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before adding event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");return this._userHandlers[type].push(listener),this},WebMidi.prototype.hasListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before checking event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");for(var o=0;o<this._userHandlers[type].length;o++)if(this._userHandlers[type][o]===listener)return!0;return!1},WebMidi.prototype.removeListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before removing event listeners.\");if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(0<=this._midiInterfaceEvents.indexOf(type))if(listener)for(var o=0;o<this._userHandlers[type].length;o++)this._userHandlers[type][o]===listener&&this._userHandlers[type].splice(o,1);else this._userHandlers[type]=[];else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._resetInterfaceUserHandlers()}return this},WebMidi.prototype.toMIDIChannels=function(channel){var channels;if(\"all\"===channel||void 0===channel)channels=[\"all\"];else{if(\"none\"===channel)return channels=[];channels=Array.isArray(channel)?channel:[channel]}return-1<channels.indexOf(\"all\")&&(channels=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),channels.map(function(ch){return parseInt(ch)}).filter(function(ch){return 1<=ch&&ch<=16})},WebMidi.prototype.getInputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.inputs.length;i++)if(this.inputs[i].id===id)return this.inputs[i];return!1},WebMidi.prototype.getOutputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.outputs.length;i++)if(this.outputs[i].id===id)return this.outputs[i];return!1},WebMidi.prototype.getInputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.inputs.length;i++)if(~this.inputs[i].name.indexOf(name))return this.inputs[i];return!1},WebMidi.prototype.getOctave=function(number){if(null!=number&&0<=number&&number<=127)return Math.floor(Math.floor(number)/12-1)+Math.floor(wm.octaveOffset)},WebMidi.prototype.getOutputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.outputs.length;i++)if(~this.outputs[i].name.indexOf(name))return this.outputs[i];return!1},WebMidi.prototype.guessNoteNumber=function(input){var output=!1;if(input&&input.toFixed&&0<=input&&input<=127?output=Math.round(input):0<=parseInt(input)&&parseInt(input)<=127?output=parseInt(input):(\"string\"==typeof input||input instanceof String)&&(output=this.noteNameToNumber(input)),!1===output)throw new Error(\"Invalid input value (\"+input+\").\");return output},WebMidi.prototype.noteNameToNumber=function(name){\"string\"!=typeof name&&(name=\"\");var matches=name.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\\d+)/i);if(!matches)throw new RangeError(\"Invalid note name.\");var semitones=wm._semitones[matches[1].toUpperCase()],result=12*(parseInt(matches[3])+1-Math.floor(wm.octaveOffset))+semitones;if(-1<matches[2].toLowerCase().indexOf(\"b\")?result-=matches[2].length:-1<matches[2].toLowerCase().indexOf(\"#\")&&(result+=matches[2].length),result<0||127<result)throw new RangeError(\"Invalid note name or note outside valid range.\");return result},WebMidi.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},WebMidi.prototype._updateInputs=function(){for(var i=0;i<this._inputs.length;i++){for(var remove=!0,updated=this.interface.inputs.values(),input=updated.next();input&&!input.done;input=updated.next())if(this._inputs[i]._midiInput===input.value){remove=!1;break}remove&&this._inputs.splice(i,1)}this.interface&&this.interface.inputs.forEach(function(nInput){for(var add=!0,j=0;j<this._inputs.length;j++)this._inputs[j]._midiInput===nInput&&(add=!1);add&&this._inputs.push(new Input(nInput))}.bind(this))},WebMidi.prototype._updateOutputs=function(){for(var i=0;i<this._outputs.length;i++){for(var remove=!0,updated=this.interface.outputs.values(),output=updated.next();output&&!output.done;output=updated.next())if(this._outputs[i]._midiOutput===output.value){remove=!1;break}remove&&this._outputs.splice(i,1)}this.interface&&this.interface.outputs.forEach(function(nOutput){for(var add=!0,j=0;j<this._outputs.length;j++)this._outputs[j]._midiOutput===nOutput&&(add=!1);add&&this._outputs.push(new Output(nOutput))}.bind(this))},WebMidi.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var event={timestamp:e.timeStamp,type:e.port.state};this.interface&&\"connected\"===e.port.state?\"output\"===e.port.type?event.port=this.getOutputById(e.port.id):\"input\"===e.port.type&&(event.port=this.getInputById(e.port.id)):event.port={connection:\"closed\",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach(function(handler){handler(event)})},WebMidi.prototype._resetInterfaceUserHandlers=function(){for(var i=0;i<this._midiInterfaceEvents.length;i++)this._userHandlers[this._midiInterfaceEvents[i]]=[]},Input.prototype.on=Input.prototype.addListener=function(type,channel,listener){var that=this;if(void 0===channel&&(channel=\"all\"),Array.isArray(channel)||(channel=[channel]),channel.forEach(function(item){if(\"all\"!==item&&!(1<=item&&item<=16))throw new RangeError(\"The 'channel' parameter is invalid.\")}),\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0!==wm.MIDI_SYSTEM_MESSAGES[type])this._userHandlers.system[type]||(this._userHandlers.system[type]=[]),this._userHandlers.system[type].push(listener);else{if(void 0===wm.MIDI_CHANNEL_MESSAGES[type])throw new TypeError(\"The specified event type is not supported.\");if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}this._userHandlers.channel[type]||(this._userHandlers.channel[type]=[]),channel.forEach(function(ch){that._userHandlers.channel[type][ch]||(that._userHandlers.channel[type][ch]=[]),that._userHandlers.channel[type][ch].push(listener)})}return this},Input.prototype.hasListener=function(type,channel,listener){var that=this;if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type]){for(var o=0;o<this._userHandlers.system[type].length;o++)if(this._userHandlers.system[type][o]===listener)return!0}else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}return!!this._userHandlers.channel[type]&&channel.every(function(chNum){var listeners=that._userHandlers.channel[type][chNum];return listeners&&-1<listeners.indexOf(listener)})}return!1},Input.prototype.removeListener=function(type,channel,listener){var that=this;if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type])if(void 0===listener)this._userHandlers.system[type]=[];else for(var o=0;o<this._userHandlers.system[type].length;o++)this._userHandlers.system[type][o]===listener&&this._userHandlers.system[type].splice(o,1);else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}if(!this._userHandlers.channel[type])return this;channel.forEach(function(chNum){var listeners=that._userHandlers.channel[type][chNum];if(listeners)if(void 0===listener)that._userHandlers.channel[type][chNum]=[];else for(var l=0;l<listeners.length;l++)listeners[l]===listener&&listeners.splice(l,1)})}else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._initializeUserHandlers()}return this},Input.prototype._initializeUserHandlers=function(){for(var prop1 in wm.MIDI_CHANNEL_MESSAGES)wm.MIDI_CHANNEL_MESSAGES.hasOwnProperty(prop1)&&(this._userHandlers.channel[prop1]={});for(var prop2 in wm.MIDI_SYSTEM_MESSAGES)wm.MIDI_SYSTEM_MESSAGES.hasOwnProperty(prop2)&&(this._userHandlers.system[prop2]=[])},Input.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var event={target:this,data:e.data,timestamp:e.timeStamp,type:\"midimessage\"};this._userHandlers.system.midimessage.forEach(function(callback){callback(event)})}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},Input.prototype._parseNrpnEvent=function(e){var data1,data2,command=e.data[0]>>4,channelBufferIndex=15&e.data[0],channel=1+channelBufferIndex;if(1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0),wm.nrpnEventsEnabled&&command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&(data1>=wm.MIDI_NRPN_MESSAGES.increment&&data1<=wm.MIDI_NRPN_MESSAGES.parammsb||data1===wm.MIDI_NRPN_MESSAGES.entrymsb||data1===wm.MIDI_NRPN_MESSAGES.entrylsb)){var ccEvent={target:this,type:\"controlchange\",data:e.data,timestamp:e.timeStamp,channel:channel,controller:{number:data1,name:this.getCcNameByNumber(data1)},value:data2};if(ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value!=wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex]=[],wm._nrpnBuffer[channelBufferIndex][0]=ccEvent;else if(1===wm._nrpnBuffer[channelBufferIndex].length&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(2!==wm._nrpnBuffer[channelBufferIndex].length||ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.increment&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.decrement&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.entrymsb)if(3===wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex][2].number===wm.MIDI_NRPN_MESSAGES.entrymsb&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.entrylsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(3<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=4&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(4<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=5&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter){wm._nrpnBuffer[channelBufferIndex].push(ccEvent);var rawData=[];wm._nrpnBuffer[channelBufferIndex].forEach(function(ev){rawData.push(ev.data)});var nrpnNumber=wm._nrpnBuffer[channelBufferIndex][0].value<<7|wm._nrpnBuffer[channelBufferIndex][1].value,nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value;6===wm._nrpnBuffer[channelBufferIndex].length&&(nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value<<7|wm._nrpnBuffer[channelBufferIndex][3].value);var nrpnControllerType=\"\";switch(wm._nrpnBuffer[channelBufferIndex][2].controller.number){case wm.MIDI_NRPN_MESSAGES.entrymsb:nrpnControllerType=wm._nrpnTypes[0];break;case wm.MIDI_NRPN_MESSAGES.increment:nrpnControllerType=wm._nrpnTypes[1];break;case wm.MIDI_NRPN_MESSAGES.decrement:nrpnControllerType=wm._nrpnTypes[2];break;default:throw new Error(\"The NPRN type was unidentifiable.\")}var nrpnEvent={timestamp:ccEvent.timestamp,channel:ccEvent.channel,type:\"nrpn\",data:rawData,controller:{number:nrpnNumber,type:nrpnControllerType,name:\"Non-Registered Parameter \"+nrpnNumber},value:nrpnValue};wm._nrpnBuffer[channelBufferIndex]=[],this._userHandlers.channel[nrpnEvent.type]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel].forEach(function(callback){callback(nrpnEvent)})}else wm._nrpnBuffer[channelBufferIndex]=[];else wm._nrpnBuffer[channelBufferIndex].push(ccEvent)}},Input.prototype._parseChannelEvent=function(e){var data1,data2,command=e.data[0]>>4,channel=1+(15&e.data[0]);1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0);var event={target:this,data:e.data,timestamp:e.timeStamp,channel:channel};command===wm.MIDI_CHANNEL_MESSAGES.noteoff||command===wm.MIDI_CHANNEL_MESSAGES.noteon&&0===data2?(event.type=\"noteoff\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.noteon?(event.type=\"noteon\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.keyaftertouch?(event.type=\"keyaftertouch\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.value=data2/127):command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&0<=data1&&data1<=119?(event.type=\"controlchange\",event.controller={number:data1,name:this.getCcNameByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.channelmode&&120<=data1&&data1<=127?(event.type=\"channelmode\",event.controller={number:data1,name:this.getChannelModeByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.programchange?(event.type=\"programchange\",event.value=data1):command===wm.MIDI_CHANNEL_MESSAGES.channelaftertouch?(event.type=\"channelaftertouch\",event.value=data1/127):command===wm.MIDI_CHANNEL_MESSAGES.pitchbend?(event.type=\"pitchbend\",event.value=((data2<<7)+data1-8192)/8192):event.type=\"unknownchannelmessage\",this._userHandlers.channel[event.type]&&this._userHandlers.channel[event.type][channel]&&this._userHandlers.channel[event.type][channel].forEach(function(callback){callback(event)})},Input.prototype.getCcNameByNumber=function(number){if(!(0<=(number=Math.floor(number))&&number<=119))throw new RangeError(\"The control change number must be between 0 and 119.\");for(var cc in wm.MIDI_CONTROL_CHANGE_MESSAGES)if(wm.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(cc)&&number===wm.MIDI_CONTROL_CHANGE_MESSAGES[cc])return cc},Input.prototype.getChannelModeByNumber=function(number){if(!(120<=(number=Math.floor(number))&&status<=127))throw new RangeError(\"The control change number must be between 120 and 127.\");for(var cm in wm.MIDI_CHANNEL_MODE_MESSAGES)if(wm.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(cm)&&number===wm.MIDI_CHANNEL_MODE_MESSAGES[cm])return cm},Input.prototype._parseSystemEvent=function(e){var command=e.data[0],event={target:this,data:e.data,timestamp:e.timeStamp};command===wm.MIDI_SYSTEM_MESSAGES.sysex?event.type=\"sysex\":command===wm.MIDI_SYSTEM_MESSAGES.timecode?event.type=\"timecode\":command===wm.MIDI_SYSTEM_MESSAGES.songposition?event.type=\"songposition\":command===wm.MIDI_SYSTEM_MESSAGES.songselect?(event.type=\"songselect\",event.song=e.data[1]):command===wm.MIDI_SYSTEM_MESSAGES.tuningrequest?event.type=\"tuningrequest\":command===wm.MIDI_SYSTEM_MESSAGES.clock?event.type=\"clock\":command===wm.MIDI_SYSTEM_MESSAGES.start?event.type=\"start\":command===wm.MIDI_SYSTEM_MESSAGES.continue?event.type=\"continue\":command===wm.MIDI_SYSTEM_MESSAGES.stop?event.type=\"stop\":command===wm.MIDI_SYSTEM_MESSAGES.activesensing?event.type=\"activesensing\":command===wm.MIDI_SYSTEM_MESSAGES.reset?event.type=\"reset\":event.type=\"unknownsystemmessage\",this._userHandlers.system[event.type]&&this._userHandlers.system[event.type].forEach(function(callback){callback(event)})},Output.prototype.send=function(status,data,timestamp){if(!(128<=status&&status<=255))throw new RangeError(\"The status byte must be an integer between 128 (0x80) and 255 (0xFF).\");void 0===data&&(data=[]),Array.isArray(data)||(data=[data]);var message=[];return data.forEach(function(item){var parsed=Math.floor(item);if(!(0<=parsed&&parsed<=255))throw new RangeError(\"Data bytes must be integers between 0 (0x00) and 255 (0xFF).\");message.push(parsed)}),this._midiOutput.send([status].concat(message),parseFloat(timestamp)||0),this},Output.prototype.sendSysex=function(manufacturer,data,options){if(!wm.sysexEnabled)throw new Error(\"Sysex message support must first be activated.\");return options=options||{},manufacturer=[].concat(manufacturer),data.forEach(function(item){if(item<0||127<item)throw new RangeError(\"The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).\")}),data=manufacturer.concat(data,wm.MIDI_SYSTEM_MESSAGES.sysexend),this.send(wm.MIDI_SYSTEM_MESSAGES.sysex,data,this._parseTimeParameter(options.time)),this},Output.prototype.sendTimecodeQuarterFrame=function(value,options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.timecode,value,this._parseTimeParameter(options.time)),this},Output.prototype.sendSongPosition=function(value,options){options=options||{};var msb=(value=Math.floor(value)||0)>>7&127,lsb=127&value;return this.send(wm.MIDI_SYSTEM_MESSAGES.songposition,[msb,lsb],this._parseTimeParameter(options.time)),this},Output.prototype.sendSongSelect=function(value,options){if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The song number must be between 0 and 127.\");return this.send(wm.MIDI_SYSTEM_MESSAGES.songselect,[value],this._parseTimeParameter(options.time)),this},Output.prototype.sendTuningRequest=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendClock=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStart=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendContinue=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStop=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendActiveSensing=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(options.time)),this},Output.prototype.sendReset=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.stopNote=function(note,channel,options){if(\"all\"===note)return this.sendChannelMode(\"allnotesoff\",0,channel,options);var nVelocity=64;return(options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nVelocity)],this._parseTimeParameter(options.time))}.bind(this))}.bind(this)),this},Output.prototype.playNote=function(note,channel,options){var time,nVelocity=64;if((options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),time=this._parseTimeParameter(options.time),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteon<<4)+(ch-1),[item,Math.round(nVelocity)],time)}.bind(this))}.bind(this)),!isNaN(options.duration)){options.duration<=0&&(options.duration=0);var nRelease=64;options.rawVelocity?!isNaN(options.release)&&0<=options.release&&options.release<=127&&(nRelease=options.release):!isNaN(options.release)&&0<=options.release&&options.release<=1&&(nRelease=127*options.release),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nRelease)],(time||wm.time)+options.duration)}.bind(this))}.bind(this))}return this},Output.prototype.sendKeyAftertouch=function(note,channel,pressure,options){var that=this;if(options=options||{},channel<1||16<channel)throw new RangeError(\"The channel must be between 1 and 16.\");(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(ch-1),[item,nPressure],that._parseTimeParameter(options.time))})}),this},Output.prototype.sendControlChange=function(controller,value,channel,options){if(options=options||{},\"string\"==typeof controller){if(void 0===(controller=wm.MIDI_CONTROL_CHANGE_MESSAGES[controller]))throw new TypeError(\"Invalid controller name.\")}else if(!(0<=(controller=Math.floor(controller))&&controller<=119))throw new RangeError(\"Controller numbers must be between 0 and 119.\");if(!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"Controller value must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(ch-1),[controller,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype._selectRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control65 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control64 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,parameter[0],channel,{time:time}),that.sendControlChange(100,parameter[1],channel,{time:time})}),this},Output.prototype._selectNonRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control63 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control62 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(99,parameter[0],channel,{time:time}),that.sendControlChange(98,parameter[1],channel,{time:time})}),this},Output.prototype._setCurrentRegisteredParameter=function(data,channel,time){var that=this;if((data=[].concat(data))[0]=Math.floor(data[0]),!(0<=data[0]&&data[0]<=127))throw new RangeError(\"The msb value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(6,data[0],channel,{time:time})}),data[1]=Math.floor(data[1]),0<=data[1]&&data[1]<=127&&wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(38,data[1],channel,{time:time})}),this},Output.prototype._deselectRegisteredParameter=function(channel,time){var that=this;return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,127,channel,{time:time}),that.sendControlChange(100,127,channel,{time:time})}),this},Output.prototype.setRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.setNonRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!(0<=parameter[0]&&parameter[0]<=127&&0<=parameter[1]&&parameter[1]<=127))throw new Error(\"Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.\");return data=[].concat(data),wm.toMIDIChannels(channel).forEach(function(){that._selectNonRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.incrementRegisteredParameter=function(parameter,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that.sendControlChange(96,0,channel,{time:options.time}),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.decrementRegisteredParameter=function(parameter,channel,options){if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new TypeError(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){this._selectRegisteredParameter(parameter,channel,options.time),this.sendControlChange(97,0,channel,{time:options.time}),this._deselectRegisteredParameter(channel,options.time)}.bind(this)),this},Output.prototype.setPitchBendRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"pitchbendrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setModulationRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"modulationrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setMasterTuning=function(value,channel,options){var that=this;if(options=options||{},(value=parseFloat(value)||0)<=-65||64<=value)throw new RangeError(\"The value must be a decimal number larger than -65 and smaller than 64.\");var coarse=Math.floor(value)+64,fine=value-Math.floor(value),msb=(fine=Math.round((fine+1)/2*16383))>>7&127,lsb=127&fine;return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"channelcoarsetuning\",coarse,channel,{time:options.time}),that.setRegisteredParameter(\"channelfinetuning\",[msb,lsb],channel,{time:options.time})}),this},Output.prototype.setTuningProgram=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The program value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningprogram\",value,channel,{time:options.time})}),this},Output.prototype.setTuningBank=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"The bank value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningbank\",value,channel,{time:options.time})}),this},Output.prototype.sendChannelMode=function(command,value,channel,options){if(options=options||{},\"string\"==typeof command){if(!(command=wm.MIDI_CHANNEL_MODE_MESSAGES[command]))throw new TypeError(\"Invalid channel mode message name.\")}else if(!(120<=(command=Math.floor(command))&&command<=127))throw new RangeError(\"Channel mode numerical identifiers must be between 120 and 127.\");if((value=Math.floor(value)||0)<0||127<value)throw new RangeError(\"Value must be an integer between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(ch-1),[command,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype.sendProgramChange=function(program,channel,options){var that=this;if(options=options||{},program=Math.floor(program),isNaN(program)||program<0||127<program)throw new RangeError(\"Program numbers must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.programchange<<4)+(ch-1),[program],that._parseTimeParameter(options.time))}),this},Output.prototype.sendChannelAftertouch=function(pressure,channel,options){var that=this;options=options||{},pressure=parseFloat(pressure),(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(ch-1),[nPressure],that._parseTimeParameter(options.time))}),this},Output.prototype.sendPitchBend=function(bend,channel,options){var that=this;if(options=options||{},isNaN(bend)||bend<-1||1<bend)throw new RangeError(\"Pitch bend value must be between -1 and 1.\");var nLevel=Math.round((bend+1)/2*16383),msb=nLevel>>7&127,lsb=127&nLevel;return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(ch-1),[lsb,msb],that._parseTimeParameter(options.time))}),this},Output.prototype._parseTimeParameter=function(time){var value,parsed=parseFloat(time);return\"string\"==typeof time&&\"+\"===time.substring(0,1)?parsed&&0<parsed&&(value=wm.time+parsed):parsed>wm.time&&(value=parsed),value},Output.prototype._convertNoteToArray=function(note){var notes=[];return Array.isArray(note)||(note=[note]),note.forEach(function(item){notes.push(wm.guessNoteNumber(item))}),notes}, true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return wm}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):\"undefined\"!=typeof module&&module.exports?module.exports=wm:scope.WebMidi||(scope.WebMidi=wm)}(this);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_abstractions_Creature__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_controllers_scene__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_utils_point_lerp__ = __webpack_require__(15);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_defineProperty___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\nvar creature;\n__WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].seed.subscribe(spawn);\nspawn();\n\nfunction spawn() {\n  if (creature) creature.destroy();\n  creature = new __WEBPACK_IMPORTED_MODULE_2_abstractions_Creature__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_3_controllers_scene__[\"a\" /* default */].anchor);\n}\n\nfunction update() {\n  var ellapsedTime = __WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].raf.ellapsedTime.get();\n  var frameCount = __WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].raf.frameCount.get();\n  creature.update({\n    ellapsedTime: ellapsedTime,\n    frameCount: frameCount\n  });\n  __WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].scene.rotation.update(function (rotation) {\n    // const t = Store.creature.planeLerp.get()\n    // return lerpPoint(rotation, { x: 0, y: 0, z: 0 }, t)\n    return _objectSpread({}, rotation, {\n      x: __WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].creature.buildLerp.get(),\n      z: __WEBPACK_IMPORTED_MODULE_1_store_store__[\"a\" /* default */].creature.buildLerp.get()\n    });\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  update: update\n});\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Creature; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_zdog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_abstractions_Limbs_Bone__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_abstractions_Limbs_Eye__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_abstractions_Limbs_Finn__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_abstractions_Limbs_Tentacle__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_utils_create_array_points__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_utils_array_shuffle__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_utils_prng__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_utils_point_lerp__ = __webpack_require__(15);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Creature =\n/*#__PURE__*/\nfunction () {\n  function Creature(sceneAnchor) {\n    __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_classCallCheck___default()(this, Creature);\n\n    this.seed = __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].seed = __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].seed.get();\n    this.anchor = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Anchor\"]({\n      addTo: sceneAnchor\n    });\n    this.anchors = this.createAnchors();\n    this.colors = Object(__WEBPACK_IMPORTED_MODULE_11_utils_array_shuffle__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_toConsumableArray___default()(__WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.colors.current), __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].random).splice(0, __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.colorsLength.get());\n    this.body = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Shape\"]({\n      addTo: this.anchor,\n      color: 'rgba(255, 255, 255, 0.1)',\n      stroke: 100\n    });\n    this.limbs = this.render();\n  } // Create all anchors, with a custom .positions prop so that we can lerp\n  // each anchor position from two different grid configurations (cube and plane)\n\n\n  __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_createClass___default()(Creature, [{\n    key: \"createAnchors\",\n    value: function createAnchors() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.anchorsLength.get();\n      var CUBE = __WEBPACK_IMPORTED_MODULE_10_utils_create_array_points__[\"a\" /* default */].cube(length);\n      var PLANE = Object(__WEBPACK_IMPORTED_MODULE_11_utils_array_shuffle__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_10_utils_create_array_points__[\"a\" /* default */].plane(length), __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].random);\n      var anchors = [];\n\n      for (var index = 0; index < length; index++) {\n        var anchor = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Anchor\"]({\n          addTo: this.anchor\n        });\n        anchor.positions = {\n          CUBE: CUBE[index],\n          PLANE: PLANE[index]\n        };\n        anchor.dot = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Shape\"]({\n          addTo: anchor,\n          color: 'white',\n          translate: {\n            z: -0.1\n          },\n          path: [{\n            x: 0.5,\n            y: 0.5\n          }, {\n            x: -0.5,\n            y: 0.5\n          }, {\n            x: -0.5,\n            y: -0.5\n          }, {\n            x: 0.5,\n            y: -0.5\n          }],\n          scale: 0\n        });\n        anchors.push(anchor);\n      }\n\n      anchors.forEach(function (anchor) {\n        anchor.cubeMirror = anchors.find(function (candidate) {\n          var _candidate$positions$ = candidate.positions.CUBE,\n              x = _candidate$positions$.x,\n              y = _candidate$positions$.y,\n              z = _candidate$positions$.z;\n          return anchor.positions.CUBE.y === y && anchor.positions.CUBE.z === z && anchor.positions.CUBE.x === -x;\n        });\n      });\n      return anchors;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var limbs = []; // Finns\n\n      for (var index = 0; index < __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(0, 10); index++) {\n        var anchor = __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.anchors.filter(function (a) {\n          return a.positions.CUBE.x < 1;\n        }));\n        var props = {\n          color: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.colors),\n          size: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(10, 30)\n        };\n        var finn = new __WEBPACK_IMPORTED_MODULE_8_abstractions_Limbs_Finn__[\"a\" /* default */](anchor, props);\n        limbs.push(finn);\n        limbs.push(finn.copy(anchor.cubeMirror, {\n          dir: -1\n        }).flip());\n      } // Eyes\n\n\n      for (var _index = 0; _index < Math.pow(__WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].random(), 2) * 3; _index++) {\n        var _anchor = __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.anchors.filter(function (a) {\n          return a.positions.CUBE.z > 1;\n        }));\n\n        var _props = {\n          radius: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(3, 30)\n        };\n        limbs.push(new __WEBPACK_IMPORTED_MODULE_7_abstractions_Limbs_Eye__[\"a\" /* default */](_anchor, _props));\n        limbs.push(new __WEBPACK_IMPORTED_MODULE_7_abstractions_Limbs_Eye__[\"a\" /* default */](_anchor.cubeMirror, _props));\n      } // Tentacles\n\n\n      for (var _index2 = 0; _index2 < __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(3, 20); _index2++) {\n        var _anchor2 = __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.anchors);\n\n        var _props2 = {\n          color: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.colors),\n          length: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(10, 30),\n          weight: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(1, 5)\n        };\n        var tentacle = new __WEBPACK_IMPORTED_MODULE_9_abstractions_Limbs_Tentacle__[\"a\" /* default */](_anchor2, _props2);\n        limbs.push(tentacle);\n        limbs.push(tentacle.copy(_anchor2.cubeMirror).flip());\n      } // Bones\n\n\n      for (var _index3 = 0; _index3 < __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(3, 10); _index3++) {\n        var _anchor3 = __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.anchors);\n\n        var _props3 = {\n          color: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomOf(this.colors),\n          length: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(10, 50),\n          weight: __WEBPACK_IMPORTED_MODULE_12_utils_prng__[\"a\" /* default */].randomInt(1, 30)\n        };\n        var bone = new __WEBPACK_IMPORTED_MODULE_6_abstractions_Limbs_Bone__[\"a\" /* default */](_anchor3, _props3);\n        limbs.push(bone);\n        limbs.push(bone.copy(_anchor3.cubeMirror).flip());\n      }\n\n      return limbs;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var ellapsedTime = _ref.ellapsedTime,\n          frameCount = _ref.frameCount;\n\n      var _Store$scene$dimensio = __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].scene.dimensions.get(),\n          _Store$scene$dimensio2 = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_slicedToArray___default()(_Store$scene$dimensio, 2),\n          width = _Store$scene$dimensio2[0],\n          height = _Store$scene$dimensio2[1];\n\n      var density = __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.density.get();\n      var planeLerp = __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.planeLerp.get();\n      this.anchor.scale = {\n        x: density * __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.scaleX.get(),\n        y: density * __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.scaleY.get(),\n        z: density\n      };\n      this.anchors.forEach(function (anchor) {\n        anchor.translate = Object(__WEBPACK_IMPORTED_MODULE_13_utils_point_lerp__[\"a\" /* default */])(anchor.positions.CUBE, anchor.positions.PLANE, planeLerp);\n        var opacity = Math.pow(planeLerp, 4);\n        anchor.dot.color = \"rgba(255, 255, 255, \".concat(opacity, \")\");\n        anchor.dot.scale = __WEBPACK_IMPORTED_MODULE_4_store_store__[\"a\" /* default */].creature.buildLerp.get();\n      });\n      {\n        // Body\n        var opacity = 0.2 + (1 + Math.sin(ellapsedTime / 500)) * 0.05;\n        var bodyFade = Math.pow(planeLerp, 2);\n        var maxSize = Math.max(width, height);\n        this.body.color = \"rgba(255, 255, 255, \".concat(opacity * (1 - bodyFade), \")\");\n        this.body.stroke = density * 4 + maxSize / 4 * bodyFade;\n      }\n      this.limbs.forEach(function (limb) {\n        limb.anchor.scale = !limb.flipped ? 1 / density : {\n          x: -1 / density,\n          y: 1 / density,\n          z: 1 / density\n        };\n        limb.update({\n          ellapsedTime: ellapsedTime,\n          frameCount: frameCount\n        });\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.limbs.forEach(function (limb) {\n        return limb.destroy();\n      });\n      this.body.remove();\n      this.anchors.forEach(function (anchor) {\n        return anchor.remove();\n      });\n      this.anchor.remove();\n      delete this.anchor;\n      delete this.anchors;\n      delete this.body;\n      delete this.limbs;\n    }\n  }]);\n\n  return Creature;\n}();\n\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithoutHoles = __webpack_require__(44);\n\nvar iterableToArray = __webpack_require__(45);\n\nvar nonIterableSpread = __webpack_require__(46);\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Illustration\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(5),\n        __webpack_require__(24) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Illustration = factory( Zdog, Zdog.Anchor, Zdog.Dragger );\n  }\n}( this, function factory( utils, Anchor, Dragger ) {\n\nfunction noop() {}\nvar TAU = utils.TAU;\n\nvar Illustration = Anchor.subclass({\n  element: undefined,\n  centered: true,\n  zoom: 1,\n  dragRotate: false,\n  resize: false,\n  onPrerender: noop,\n  onDragStart: noop,\n  onDragMove: noop,\n  onDragEnd: noop,\n  onResize: noop,\n});\n\nutils.extend( Illustration.prototype, Dragger.prototype );\n\nIllustration.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  Dragger.prototype.create.call( this, options );\n  this.setElement( this.element );\n  this.setDragRotate( this.dragRotate );\n  this.setResize( this.resize );\n};\n\nIllustration.prototype.setElement = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    throw new Error( 'Zdog.Illustration element required. Set to ' + element );\n  }\n\n  var nodeName = element.nodeName.toLowerCase();\n  if ( nodeName == 'canvas' ) {\n    this.setCanvas( element );\n  } else if ( nodeName == 'svg' ) {\n    this.setSvg( element );\n  }\n};\n\nIllustration.prototype.setSize = function( width, height ) {\n  width = Math.round( width );\n  height = Math.round( height );\n  if ( this.isCanvas ) {\n    this.setSizeCanvas( width, height );\n  } else if ( this.isSvg ) {\n    this.setSizeSvg( width, height );\n  }\n};\n\nIllustration.prototype.setResize = function( resize ) {\n  this.resize = resize;\n  // create resize event listener\n  if ( !this.resizeListener ) {\n    this.resizeListener = this.onWindowResize.bind( this );\n  }\n  // add/remove event listener\n  if ( resize ) {\n    window.addEventListener( 'resize', this.resizeListener );\n    this.onWindowResize();\n  } else {\n    window.removeEventListener( 'resize', this.resizeListener );\n  }\n};\n\n// TODO debounce this?\nIllustration.prototype.onWindowResize = function() {\n  this.setMeasuredSize();\n  this.onResize( this.width, this.height );\n};\n\nIllustration.prototype.setMeasuredSize = function() {\n  var width, height;\n  var isFullscreen = this.resize == 'fullscreen';\n  if ( isFullscreen ) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n  } else {\n    var rect = this.element.getBoundingClientRect();\n    width = rect.width;\n    height = rect.height;\n  }\n  this.setSize( width, height );\n};\n\n// ----- render ----- //\n\nIllustration.prototype.renderGraph = function( item ) {\n  if ( this.isCanvas ) {\n    this.renderGraphCanvas( item );\n  } else if ( this.isSvg ) {\n    this.renderGraphSvg( item );\n  }\n};\n\n// combo method\nIllustration.prototype.updateRenderGraph = function( item ) {\n  this.updateGraph();\n  this.renderGraph( item );\n};\n\n// ----- canvas ----- //\n\nIllustration.prototype.setCanvas = function( element ) {\n  this.element = element;\n  this.isCanvas = true;\n  // update related properties\n  this.ctx = this.element.getContext('2d');\n  // set initial size\n  this.setSizeCanvas( element.width, element.height );\n};\n\nIllustration.prototype.setSizeCanvas = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  // up-rez for hi-DPI devices\n  var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;\n  this.element.width = this.canvasWidth = width * pixelRatio;\n  this.element.height = this.canvasHeight = height * pixelRatio;\n  var needsHighPixelRatioSizing = pixelRatio > 1 && !this.resize;\n  if ( needsHighPixelRatioSizing ) {\n    this.element.style.width = width + 'px';\n    this.element.style.height = height + 'px';\n  }\n};\n\nIllustration.prototype.renderGraphCanvas = function( item ) {\n  item = item || this;\n  this.prerenderCanvas();\n  Anchor.prototype.renderGraphCanvas.call( item, this.ctx );\n  this.postrenderCanvas();\n};\n\nIllustration.prototype.prerenderCanvas = function() {\n  var ctx = this.ctx;\n  ctx.lineCap = 'round';\n  ctx.lineJoin = 'round';\n  ctx.clearRect( 0, 0, this.canvasWidth, this.canvasHeight );\n  ctx.save();\n  if ( this.centered ) {\n    var centerX = this.width/2 * this.pixelRatio;\n    var centerY = this.height/2 * this.pixelRatio;\n    ctx.translate( centerX, centerY );\n  }\n  var scale = this.pixelRatio * this.zoom;\n  ctx.scale( scale, scale );\n  this.onPrerender( ctx );\n};\n\nIllustration.prototype.postrenderCanvas = function() {\n  this.ctx.restore();\n};\n\n// ----- svg ----- //\n\nIllustration.prototype.setSvg = function( element ) {\n  this.element = element;\n  this.isSvg = true;\n  this.pixelRatio = 1;\n  // set initial size from width & height attributes\n  var width = element.getAttribute('width');\n  var height = element.getAttribute('height');\n  this.setSizeSvg( width, height );\n};\n\nIllustration.prototype.setSizeSvg = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  var viewWidth = width / this.zoom;\n  var viewHeight = height / this.zoom;\n  var viewX = this.centered ? -viewWidth/2 : 0;\n  var viewY = this.centered ? -viewHeight/2 : 0;\n  this.element.setAttribute( 'viewBox', viewX + ' ' + viewY + ' ' +\n    viewWidth + ' ' + viewHeight );\n  if ( this.resize ) {\n    // remove size attributes, let size be determined by viewbox\n    this.element.removeAttribute('width');\n    this.element.removeAttribute('height');\n  } else {\n    this.element.setAttribute( 'width', width );\n    this.element.setAttribute( 'height', height );\n  }\n};\n\nIllustration.prototype.renderGraphSvg = function( item ) {\n  item = item || this;\n  empty( this.element );\n  this.onPrerender( this.element );\n  Anchor.prototype.renderGraphSvg.call( item, this.element );\n};\n\nfunction empty( element ) {\n  while ( element.firstChild ) {\n    element.removeChild( element.firstChild );\n  }\n}\n\n// ----- drag ----- //\n\nIllustration.prototype.setDragRotate = function( item ) {\n  if ( !item ) {\n    return;\n  } else if ( item === true ) {\n    /* eslint consistent-this: \"off\" */\n    item = this;\n  }\n  this.dragRotate = item;\n\n  this.bindDrag( this.element );\n};\n\nIllustration.prototype.dragStart = function(/* event, pointer */) {\n  this.dragStartRX = this.dragRotate.rotate.x;\n  this.dragStartRY = this.dragRotate.rotate.y;\n  Dragger.prototype.dragStart.apply( this, arguments );\n};\n\nIllustration.prototype.dragMove = function( event, pointer ) {\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  var displaySize = Math.min( this.width, this.height );\n  var moveRY = moveX / displaySize * TAU;\n  var moveRX = moveY / displaySize * TAU;\n  this.dragRotate.rotate.x = this.dragStartRX - moveRX;\n  this.dragRotate.rotate.y = this.dragStartRY - moveRY;\n  Dragger.prototype.dragMove.apply( this, arguments );\n};\n\nreturn Illustration;\n\n}));\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * RoundedRect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(6) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.RoundedRect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar RoundedRect = Shape.subclass({\n  width: 1,\n  height: 1,\n  cornerRadius: 0.25,\n  closed: false,\n});\n\nRoundedRect.prototype.setPath = function() {\n  /* eslint\n     id-length: [ \"error\", { \"min\": 2, \"exceptions\": [ \"x\", \"y\" ] }],\n     key-spacing: \"off\" */\n  var xA = this.width / 2;\n  var yA = this.height / 2;\n  var shortSide = Math.min( xA, yA );\n  var cornerRadius = Math.min( this.cornerRadius, shortSide );\n  var xB = xA - cornerRadius;\n  var yB = yA - cornerRadius;\n  var path = [\n    // top right corner\n    { x: xB, y: -yA },\n    { arc: [\n      { x: xA, y: -yA },\n      { x: xA, y: -yB },\n    ]},\n  ];\n  // bottom right corner\n  if ( yB ) {\n    path.push({ x: xA, y: yB });\n  }\n  path.push({ arc: [\n    { x: xA, y:  yA },\n    { x: xB, y:  yA },\n  ]});\n  // bottom left corner\n  if ( xB ) {\n    path.push({ x: -xB, y: yA });\n  }\n  path.push({ arc: [\n    { x: -xA, y:  yA },\n    { x: -xA, y:  yB },\n  ]});\n  // top left corner\n  if ( yB ) {\n    path.push({ x: -xA, y: -yB });\n  }\n  path.push({ arc: [\n    { x: -xA, y: -yA },\n    { x: -xB, y: -yA },\n  ]});\n\n  // back to top right corner\n  if ( xB ) {\n    path.push({ x: xB, y: -yA });\n  }\n\n  this.path = path;\n};\n\nreturn RoundedRect;\n\n}));\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(6) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Polygon = factory( Zdog, Zdog.Shape );\n  }\n}( this, function factory( utils, Shape ) {\n\nvar Polygon = Shape.subclass({\n  sides: 3,\n  radius: 0.5,\n});\n\nvar TAU = utils.TAU;\n\nPolygon.prototype.setPath = function() {\n  this.path = [];\n  for ( var i=0; i < this.sides; i++ ) {\n    var theta = i/this.sides * TAU - TAU/4;\n    var x = Math.cos( theta ) * this.radius;\n    var y = Math.sin( theta ) * this.radius;\n    this.path.push({ x: x, y: y });\n  }\n};\n\nreturn Polygon;\n\n}));\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Hemisphere composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(10),\n        __webpack_require__(5), __webpack_require__(13) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Hemisphere = factory( Zdog, Zdog.Vector, Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, Anchor, Ellipse ) {\n\nvar Hemisphere = Ellipse.subclass({\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nHemisphere.prototype.create = function(/* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.diameter/2 },\n  });\n  // vector used for calculation\n  this.renderCentroid = new Vector();\n};\n\nHemisphere.prototype.updateSortValue = function() {\n  // centroid of hemisphere is 3/8 between origin and apex\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 3/8 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nHemisphere.prototype.render = function( ctx, renderer ) {\n  this.renderDome( ctx, renderer );\n  // call super\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nHemisphere.prototype.renderDome = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  var elem = this.getDomeRenderElement( ctx, renderer );\n  var contourAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x );\n  var domeRadius = this.diameter/2 * this.renderNormal.magnitude();\n  var x = this.renderOrigin.x;\n  var y = this.renderOrigin.y;\n\n  if ( renderer.isCanvas ) {\n    // canvas\n    var startAngle = contourAngle + TAU/4;\n    var endAngle = contourAngle - TAU/4;\n    ctx.beginPath();\n    ctx.arc( x, y, domeRadius, startAngle, endAngle );\n  } else if ( renderer.isSvg ) {\n    // svg\n    contourAngle = (contourAngle - TAU/4) / TAU * 360;\n    this.domeSvgElement.setAttribute( 'd', 'M ' + -domeRadius + ',0 A ' +\n        domeRadius + ',' + domeRadius + ' 0 0 1 ' + domeRadius + ',0' );\n    this.domeSvgElement.setAttribute( 'transform',\n        'translate(' + x + ',' + y + ' ) rotate(' + contourAngle + ')' );\n  }\n\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nHemisphere.prototype.getDomeRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.domeSvgElement ) {\n    // create svgElement\n    this.domeSvgElement = document.createElementNS( svgURI, 'path');\n    this.domeSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.domeSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.domeSvgElement;\n};\n\nreturn Hemisphere;\n\n}));\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Cylinder composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0),\n        __webpack_require__(12), __webpack_require__(6), __webpack_require__(25),\n        __webpack_require__(13) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cylinder = factory( Zdog, Zdog.PathCommand, Zdog.Shape,\n        Zdog.Group, Zdog.Ellipse );\n  }\n}( this, function factory( utils, PathCommand, Shape, Group, Ellipse ) {\n\nfunction noop() {}\n\n// ----- CylinderGroup ----- //\n\nvar CylinderGroup = Group.subclass({\n  color: '#333',\n  updateSort: true,\n});\n\nCylinderGroup.prototype.create = function() {\n  Group.prototype.create.apply( this, arguments );\n  this.pathCommands = [\n    new PathCommand( 'move', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCylinderGroup.prototype.render = function( ctx, renderer ) {\n  this.renderCylinderSurface( ctx, renderer );\n  Group.prototype.render.apply( this, arguments );\n};\n\nCylinderGroup.prototype.renderCylinderSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  // render cylinder surface\n  var elem = this.getRenderElement( ctx, renderer );\n  var frontBase = this.frontBase;\n  var rearBase = this.rearBase;\n  var scale = frontBase.renderNormal.magnitude();\n  var strokeWidth = frontBase.diameter * scale + frontBase.getLineWidth();\n  // set path command render points\n  this.pathCommands[0].renderPoints[0].set( frontBase.renderOrigin );\n  this.pathCommands[1].renderPoints[0].set( rearBase.renderOrigin );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'butt'; // nice\n  }\n  renderer.renderPath( ctx, elem, this.pathCommands );\n  renderer.stroke( ctx, elem, true, this.color, strokeWidth );\n  renderer.end( ctx, elem );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'round'; // reset\n  }\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCylinderGroup.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path');\n  }\n  return this.svgElement;\n};\n\n// prevent double-creation in parent.copyGraph()\n// only create in Cylinder.create()\nCylinderGroup.prototype.copyGraph = noop;\n\n// ----- CylinderEllipse ----- //\n\nvar CylinderEllipse = Ellipse.subclass();\n\nCylinderEllipse.prototype.copyGraph = noop;\n\n// ----- Cylinder ----- //\n\nvar Cylinder = Shape.subclass({\n  diameter: 1,\n  length: 1,\n  frontFace: undefined,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCylinder.prototype.create = function(/* options */) {\n  // call super\n  Shape.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  // CylinderGroup to render cylinder surface then bases\n  this.group = new CylinderGroup({\n    addTo: this,\n    color: this.color,\n    visible: this.visible,\n  });\n  var baseZ = this.length/2;\n  var baseColor = this.backface || true;\n  // front outside base\n  this.frontBase = this.group.frontBase = new Ellipse({\n    addTo: this.group,\n    diameter: this.diameter,\n    translate: { z: baseZ },\n    rotate: { y: TAU/2 },\n    color: this.color,\n    stroke: this.stroke,\n    fill: this.fill,\n    backface: this.frontFace || baseColor,\n    visible: this.visible,\n  });\n  // back outside base\n  this.rearBase = this.group.rearBase = this.frontBase.copy({\n    translate: { z: -baseZ },\n    rotate: { y: 0 },\n    backface: baseColor,\n  });\n};\n\n// Cylinder shape does not render anything\nCylinder.prototype.render = function() {};\n\n// ----- set child properties ----- //\n\nvar childProperties = [ 'stroke', 'fill', 'color', 'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Cylinder.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      // set property on children\n      if ( this.frontBase ) {\n        this.frontBase[ property ] = value;\n        this.rearBase[ property ] = value;\n        this.group[ property ] = value;\n      }\n    },\n  });\n});\n\n// TODO child property setter for backface, frontBaseColor, & rearBaseColor\n\nreturn Cylinder;\n\n}));\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Cone composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(10),\n        __webpack_require__(12), __webpack_require__(5), __webpack_require__(13) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cone = factory( Zdog, Zdog.Vector, Zdog.PathCommand,\n        Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor, Ellipse ) {\n\nvar Cone = Ellipse.subclass({\n  length: 1,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCone.prototype.create = function(/* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.length },\n  });\n\n  // vectors used for calculation\n  this.renderApex = new Vector();\n  this.renderCentroid = new Vector();\n  this.tangentA = new Vector();\n  this.tangentB = new Vector();\n\n  this.surfacePathCommands = [\n    new PathCommand( 'move', [ {} ] ), // points set in renderConeSurface\n    new PathCommand( 'line', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCone.prototype.updateSortValue = function() {\n  // center of cone is one third of its length\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 1/3 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nCone.prototype.render = function( ctx, renderer ) {\n  this.renderConeSurface( ctx, renderer );\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nCone.prototype.renderConeSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  this.renderApex.set( this.apex.renderOrigin )\n    .subtract( this.renderOrigin );\n\n  var scale = this.renderNormal.magnitude();\n  var apexDistance = this.renderApex.magnitude2d();\n  var normalDistance = this.renderNormal.magnitude2d();\n  // eccentricity\n  var eccenAngle = Math.acos( normalDistance / scale );\n  var eccen = Math.sin( eccenAngle );\n  var radius = this.diameter/2 * scale;\n  // does apex extend beyond eclipse of face\n  var isApexVisible = radius * eccen < apexDistance;\n  if ( !isApexVisible ) {\n    return;\n  }\n  // update tangents\n  var apexAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x ) +\n      TAU/2;\n  var projectLength = apexDistance / eccen;\n  var projectAngle = Math.acos( radius / projectLength );\n  // set tangent points\n  var tangentA = this.tangentA;\n  var tangentB = this.tangentB;\n\n  tangentA.x = Math.cos( projectAngle ) * radius * eccen;\n  tangentA.y = Math.sin( projectAngle ) * radius;\n\n  tangentB.set( this.tangentA );\n  tangentB.y *= -1;\n\n  tangentA.rotateZ( apexAngle );\n  tangentB.rotateZ( apexAngle );\n  tangentA.add( this.renderOrigin );\n  tangentB.add( this.renderOrigin );\n\n  this.setSurfaceRenderPoint( 0, tangentA );\n  this.setSurfaceRenderPoint( 1, this.apex.renderOrigin );\n  this.setSurfaceRenderPoint( 2, tangentB );\n\n  // render\n  var elem = this.getSurfaceRenderElement( ctx, renderer );\n  renderer.renderPath( ctx, elem, this.surfacePathCommands );\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCone.prototype.getSurfaceRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.surfaceSvgElement ) {\n    // create svgElement\n    this.surfaceSvgElement = document.createElementNS( svgURI, 'path');\n    this.surfaceSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.surfaceSvgElement;\n};\n\nCone.prototype.setSurfaceRenderPoint = function( index, point ) {\n  var renderPoint = this.surfacePathCommands[ index ].renderPoints[0];\n  renderPoint.set( point );\n};\n\nreturn Cone;\n\n}));\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Box composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( __webpack_require__(0), __webpack_require__(5),\n        __webpack_require__(6), __webpack_require__(26) );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Box = factory( Zdog, Zdog.Anchor, Zdog.Shape, Zdog.Rect );\n  }\n}( this, function factory( utils, Anchor, Shape, Rect ) {\n\n// ----- BoxRect ----- //\n\nvar BoxRect = Rect.subclass();\n// prevent double-creation in parent.copyGraph()\n// only create in Box.create()\nBoxRect.prototype.copyGraph = function() {};\n\n// ----- Box ----- //\n\nvar TAU = utils.TAU;\nvar faceNames = [\n  'frontFace',\n  'rearFace',\n  'leftFace',\n  'rightFace',\n  'topFace',\n  'bottomFace',\n];\n\nvar boxDefaults = utils.extend( {}, Shape.defaults );\ndelete boxDefaults.path;\nfaceNames.forEach( function( faceName ) {\n  boxDefaults[ faceName ] = true;\n});\nutils.extend( boxDefaults, {\n  width: 1,\n  height: 1,\n  depth: 1,\n  fill: true,\n});\n\nvar Box = Anchor.subclass( boxDefaults );\n\nBox.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // HACK reset fill to trigger face setter\n  this.fill = this.fill;\n};\n\nBox.prototype.updatePath = function() {\n  // reset all faces to trigger setters\n  faceNames.forEach( function( faceName ) {\n    this[ faceName ] = this[ faceName ];\n  }, this );\n};\n\nfaceNames.forEach( function( faceName ) {\n  var _faceName = '_' + faceName;\n  Object.defineProperty( Box.prototype, faceName, {\n    get: function() {\n      return this[ _faceName ];\n    },\n    set: function( value ) {\n      this[ _faceName ] = value;\n      this.setFace( faceName, value );\n    },\n  });\n});\n\nBox.prototype.setFace = function( faceName, value ) {\n  var rectProperty = faceName + 'Rect';\n  var rect = this[ rectProperty ];\n  // remove if false\n  if ( !value ) {\n    this.removeChild( rect );\n    return;\n  }\n  // update & add face\n  var options = this.getFaceOptions( faceName );\n  options.color = typeof value == 'string' ? value : this.color;\n\n  if ( rect ) {\n    // update previous\n    rect.setOptions( options );\n  } else {\n    // create new\n    rect = this[ rectProperty ] = new BoxRect( options );\n  }\n  rect.updatePath();\n  this.addChild( rect );\n};\n\nBox.prototype.getFaceOptions = function( faceName ) {\n  return {\n    frontFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: this.depth/2 },\n    },\n    rearFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: -this.depth/2 },\n      rotate: { y: TAU/2 },\n    },\n    leftFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: -this.width/2 },\n      rotate: { y: -TAU/4 },\n    },\n    rightFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: this.width/2 },\n      rotate: { y: TAU/4 },\n    },\n    topFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: -this.height/2 },\n      rotate: { x: -TAU/4 },\n    },\n    bottomFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: this.height/2 },\n      rotate: { x: TAU/4 },\n    },\n  }[ faceName ];\n};\n\n// ----- set face properties ----- //\n\nvar childProperties = [ 'color', 'stroke', 'fill', 'backface', 'front',\n  'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Box.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      faceNames.forEach( function( faceName ) {\n        var rect = this[ faceName + 'Rect' ];\n        var isFaceColor = typeof this[ faceName ] == 'string';\n        var isColorUnderwrite = property == 'color' && isFaceColor;\n        if ( rect && !isColorUnderwrite ) {\n          rect[ property ] = value;\n        }\n      }, this );\n    },\n  });\n});\n\nreturn Box;\n\n}));\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Bone; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_zdog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_utils_prng__ = __webpack_require__(11);\n\n\n\n\n\n\n\n\n\n\n\nvar Bone =\n/*#__PURE__*/\nfunction (_Limb) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Bone, _Limb);\n\n  function Bone() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Bone);\n\n    return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Bone).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Bone, [{\n    key: \"render\",\n    value: function render(props) {\n      this.state.initialRotation = {\n        x: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomInt(0, 10) * Math.PI / 3 % Math.PI,\n        y: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomInt(0, 10) * Math.PI / 3 % Math.PI,\n        z: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomInt(0, 10) * Math.PI / 3 % Math.PI\n      };\n      this.refs.bone = new __WEBPACK_IMPORTED_MODULE_6_zdog__[\"Shape\"]({\n        addTo: this.anchor,\n        stroke: props.weight,\n        color: props.color,\n        path: [{\n          x: 0,\n          y: 0\n        }, {\n          x: props.length\n        }],\n        closed: false,\n        rotate: this.state.initialRotation\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var ellapsedTime = _ref.ellapsedTime,\n          frameCount = _ref.frameCount;\n      var wallFactor = __WEBPACK_IMPORTED_MODULE_5_store_store__[\"a\" /* default */].creature.buildLerp.get();\n      this.refs.bone.scale = 1 + 1 * Math.pow(wallFactor, 3);\n      this.refs.bone.rotate = Object(__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__[\"a\" /* default */])(this.state.initialRotation, {\n        x: 0,\n        y: Math.PI / 2,\n        z: 0\n      }, wallFactor);\n      this.refs.bone.updatePath();\n    }\n  }]);\n\n  return Bone;\n}(__WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__[\"a\" /* default */]);\n\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports) {\n\nfunction random(seed) {\n\tfunction _seed(s) {\n\t\tif ((seed = (s|0) % 2147483647) <= 0) {\n\t\t\tseed += 2147483646;\n\t\t}\n\t}\n\n\tfunction _nextInt() {\n\t\treturn seed = seed * 48271 % 2147483647;\n\t}\n\n\tfunction _nextFloat() {\n\t\treturn (_nextInt() - 1) / 2147483646;\n\t}\n\n\t_seed(seed);\n\n\treturn {\n\t\tseed: _seed,\n\t\tnextInt: _nextInt,\n\t\tnextFloat: _nextFloat\n\t};\n}\n\nmodule.exports = random;\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (arr) {\n  var rng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random;\n  return arr[Math.floor(rng() * arr.length)];\n});\n\n/***/ }),\n/* 57 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Eye; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_zdog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_abstractions_Limb__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_utils_prng__ = __webpack_require__(11);\n\n\n\n\n\n\n\n\n\nvar Eye =\n/*#__PURE__*/\nfunction (_Limb) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Eye, _Limb);\n\n  function Eye() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Eye);\n\n    return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Eye).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Eye, [{\n    key: \"render\",\n    value: function render(props) {\n      this.timeScale = __WEBPACK_IMPORTED_MODULE_7_utils_prng__[\"a\" /* default */].random();\n      this.refs.globe = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Shape\"]({\n        addTo: this.anchor,\n        stroke: props.radius,\n        color: 'black'\n      });\n      this.refs.pupil = new __WEBPACK_IMPORTED_MODULE_5_zdog__[\"Shape\"]({\n        addTo: this.refs.globe,\n        color: 'white',\n        stroke: props.radius * 0.3,\n        translate: {\n          z: props.radius / 2\n        },\n        rotate: {\n          z: __WEBPACK_IMPORTED_MODULE_7_utils_prng__[\"a\" /* default */].random()\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var ellapsedTime = _ref.ellapsedTime,\n          frameCount = _ref.frameCount;\n      this.anchor.rotate.x = Math.sin(this.timeScale * ellapsedTime / 500);\n      this.anchor.rotate.y = Math.sin(this.timeScale * ellapsedTime / 500);\n    }\n  }]);\n\n  return Eye;\n}(__WEBPACK_IMPORTED_MODULE_6_abstractions_Limb__[\"a\" /* default */]);\n\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Finn; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_zdog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_utils_prng__ = __webpack_require__(11);\n\n\n\n\n\n\n\n\n\n\nvar Finn =\n/*#__PURE__*/\nfunction (_Limb) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Finn, _Limb);\n\n  function Finn() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Finn);\n\n    return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Finn).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Finn, [{\n    key: \"render\",\n    value: function render(props) {\n      this.refs.finn = new __WEBPACK_IMPORTED_MODULE_6_zdog__[\"Shape\"]({\n        addTo: this.anchor,\n        color: props.color,\n        stroke: 4,\n        path: [{\n          x: 0,\n          z: -props.size / 2\n        }, {\n          x: -props.size,\n          z: 0\n        }, {\n          x: 0,\n          z: props.size / 2\n        }],\n        closed: true,\n        fill: true,\n        rotate: {\n          x: __WEBPACK_IMPORTED_MODULE_8_utils_prng__[\"a\" /* default */].random(),\n          y: __WEBPACK_IMPORTED_MODULE_8_utils_prng__[\"a\" /* default */].random()\n        },\n        scale: {\n          x: __WEBPACK_IMPORTED_MODULE_8_utils_prng__[\"a\" /* default */].random(),\n          z: __WEBPACK_IMPORTED_MODULE_8_utils_prng__[\"a\" /* default */].random()\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var ellapsedTime = _ref.ellapsedTime,\n          frameCount = _ref.frameCount;\n      var amp = 1 - __WEBPACK_IMPORTED_MODULE_5_store_store__[\"a\" /* default */].creature.planeLerp.get();\n      this.anchor.rotate.z = Math.sin((this.props.dir || 1) * ellapsedTime / 500) * amp;\n    }\n  }]);\n\n  return Finn;\n}(__WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__[\"a\" /* default */]);\n\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Tentacle; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_zdog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_zdog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_utils_prng__ = __webpack_require__(11);\n\n\n\n\n\n\n\n\n\n\n\nvar Tentacle =\n/*#__PURE__*/\nfunction (_Limb) {\n  __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_inherits___default()(Tentacle, _Limb);\n\n  function Tentacle() {\n    __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_classCallCheck___default()(this, Tentacle);\n\n    return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_possibleConstructorReturn___default()(this, __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_getPrototypeOf___default()(Tentacle).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_createClass___default()(Tentacle, [{\n    key: \"render\",\n    value: function render(props) {\n      this.state.speed = __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].random();\n      this.state.initialRotation = {\n        x: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomFloat(0, Math.PI),\n        y: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomFloat(0, Math.PI),\n        z: __WEBPACK_IMPORTED_MODULE_9_utils_prng__[\"a\" /* default */].randomFloat(0, Math.PI)\n      };\n      this.state.initialBezier = [{\n        x: props.length / 2,\n        y: -props.length\n      }, {\n        x: props.length / 2,\n        y: props.length\n      }, {\n        x: props.length,\n        y: props.length\n      }];\n      this.refs.tentacle = new __WEBPACK_IMPORTED_MODULE_6_zdog__[\"Shape\"]({\n        addTo: this.anchor,\n        stroke: props.weight,\n        color: props.color,\n        path: [{\n          x: 0,\n          y: 0\n        }, {\n          bezier: this.state.initialBezier\n        }],\n        closed: false,\n        rotate: this.state.initialRotation\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var ellapsedTime = _ref.ellapsedTime,\n          frameCount = _ref.frameCount;\n      var amp = 1 - __WEBPACK_IMPORTED_MODULE_5_store_store__[\"a\" /* default */].creature.planeLerp.get();\n      var wallFactor = __WEBPACK_IMPORTED_MODULE_5_store_store__[\"a\" /* default */].creature.buildLerp.get();\n      this.refs.tentacle.path[1].bezier[0].y = this.props.length / 2 * Math.sin(this.state.speed * ellapsedTime / 100) * amp;\n      this.refs.tentacle.path[1].bezier[0].z = this.props.length / 2 * Math.cos(this.state.speed * ellapsedTime / 100) * amp;\n      this.refs.tentacle.path[1].bezier[2].x = this.props.length * Math.cos(this.state.speed * ellapsedTime / 100) * amp;\n      this.refs.tentacle.rotate = Object(__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__[\"a\" /* default */])(this.state.initialRotation, {\n        x: Math.PI / 2,\n        y: 0,\n        z: 0\n      }, wallFactor);\n      this.refs.tentacle.path[1] = {\n        bezier: [Object(__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__[\"a\" /* default */])(this.state.initialBezier[0], {\n          x: 0,\n          y: 0,\n          z: 0\n        }, wallFactor), Object(__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__[\"a\" /* default */])(this.state.initialBezier[1], {\n          x: 0,\n          y: 20,\n          z: 0\n        }, wallFactor), Object(__WEBPACK_IMPORTED_MODULE_8_utils_point_lerp__[\"a\" /* default */])(this.state.initialBezier[2], {\n          x: 0,\n          y: 20,\n          z: 0\n        }, wallFactor)]\n      };\n      this.refs.tentacle.updatePath();\n    }\n  }]);\n\n  return Tentacle;\n}(__WEBPACK_IMPORTED_MODULE_7_abstractions_Limb__[\"a\" /* default */]);\n\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar point = function point(x, y) {\n  var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return {\n    x: x,\n    y: y,\n    z: z\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  cube: function cube(length) {\n    var points = [];\n    var size = Math.cbrt(length);\n\n    for (var z = 0; z < size; z++) {\n      for (var y = 0; y < size; y++) {\n        for (var x = 0; x < size; x++) {\n          points.push(point(x - (size - 1) / 2, y - (size - 1) / 2, z - (size - 1) / 2));\n        }\n      }\n    }\n\n    return points;\n  },\n  plane: function plane(length) {\n    var points = [];\n    var size = Math.sqrt(length);\n\n    for (var y = 0; y < size; y++) {\n      for (var x = 0; x < size; x++) {\n        points.push(point(x - (size - 1) / 2, y - (size - 1) / 2));\n      }\n    }\n\n    return points;\n  }\n});\n\n/***/ }),\n/* 61 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (a) {\n  var prng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random;\n  var j, x, i;\n\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(prng() * (i + 1));\n    x = a[i];\n    a[i] = a[j];\n    a[j] = x;\n  }\n\n  return a;\n});\n\n/***/ }),\n/* 62 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_store_store__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__internet_raf__ = __webpack_require__(63);\n\n // SEE https://answers.unity.com/questions/64331/accurate-frames-per-second-count.html\n\nvar fps = {\n  updateRate: 4,\n  frameCount: 0,\n  ellapsedTime: 0,\n  compute: function compute(dt) {\n    this.frameCount++;\n    this.ellapsedTime += dt / 1000;\n\n    if (this.ellapsedTime > 1 / this.updateRate) {\n      this._value = this.frameCount / this.ellapsedTime;\n      this.frameCount = 0;\n      this.ellapsedTime -= 1 / this.updateRate;\n    }\n\n    return this._value || 0;\n  }\n};\n__WEBPACK_IMPORTED_MODULE_1__internet_raf__[\"a\" /* default */].addBefore(function (dt) {\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.ellapsedTime.update(function (t) {\n    return t + dt;\n  });\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.frameCount.update(function (v) {\n    return v + 1;\n  });\n  __WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.fps.set(fps.compute(dt));\n});\n__WEBPACK_IMPORTED_MODULE_0_store_store__[\"a\" /* default */].raf.isRunning.subscribe(function (isRunning) {\n  return isRunning ? __WEBPACK_IMPORTED_MODULE_1__internet_raf__[\"a\" /* default */].start() : __WEBPACK_IMPORTED_MODULE_1__internet_raf__[\"a\" /* default */].stop();\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_1__internet_raf__[\"a\" /* default */]);\n\n/***/ }),\n/* 63 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__RafTimer_js__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__fpsLimiter_js__ = __webpack_require__(65);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__raf_js__ = __webpack_require__(66);\n/* unused harmony reexport RafTimer */\n/* unused harmony reexport fpsLimiter */\n/* unused harmony reexport raf */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_2__raf_js__[\"a\" /* default */]);\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Create a new RafTimer instance.\n * @class RafTimer\n * @param {number} delay Number of milliseconds before executing the callback.\n * @param {Function} cb Callback function executed when the timer hit 0. For convenience, a restart method will be passed as 1st arg of the cb function.\n * @param {boolean} [autostart=true] Optional (default true). Auto-start the timer (Don't need to call start() method).\n * @constructor\n * @example\n * import { raf, RafTimer } from '@internet/raf'\n *\n * const timer = new RafTimer(2000, restart => {\n *   console.log('Will be logged after 2000ms')\n *   restart() // Restart the timer. onDone will be called after another 2000ms.\n * })\n *\n * raf.add(dt => timer.update(dt))\n */\n\nfunction RafTimer (delay, cb, autostart) {\n  if (autostart === void 0) autostart = true\n\n  this._stopped = !autostart\n  this._remainder = 0\n  this._delay = delay | 0\n  this._remainingTime = delay\n  this._callback = cb === undefined ? function () {} : cb\n\n  // fast binding\n  var restart = this.restart\n  var self = this\n  this.restart = function (n, u) { restart.call(self, n, u) }\n\n  if (this._delay === 0) this._stopped = true\n}\n\n/**\n * Set a new callback function.\n * @method\n * @param {function} newCallback New callback function. For convenience, a restart method will be passed as 1st arg of the cb function.\n * @param {number} [newDelay] Optional. Set a new delay (in ms). If set, the timer will be restarted\n */\nRafTimer.prototype.setCallback = function setCallback (newCallback, newDelay) {\n  this._callback = newCallback === undefined ? function () {} : newCallback\n  if (newDelay) this.restart(newDelay)\n}\n\n/**\n * Stop the timer. update() calls will do nothing.\n * @method\n */\nRafTimer.prototype.stop = function stop () {\n  this._stopped = true\n}\n\n/**\n * Start the timer if stopped.\n * @method\n */\nRafTimer.prototype.start = function start () {\n  if (!this._stopped) return\n  this.restart()\n}\n\n/**\n * Restart the timer\n * @method\n * @param {number} newDelay\n * @param {boolean} [useRemainder=true] Optional (default true). Use deltatime's remainder from the last time the timer hits 0.\n */\nRafTimer.prototype.restart = function restart (newDelay, useRemainder) {\n  if (useRemainder === void 0) useRemainder = true\n\n  if (newDelay !== undefined) this._delay = newDelay\n  this._stopped = false\n  this._remainingTime = this._delay - (this._remainder * (+useRemainder))\n}\n\n/**\n * Update remaining time. Usually executed inside a requestAnimationFrame call.\n * @method\n * @param {number} dt Time elapsed since the last call (in ms).\n */\nRafTimer.prototype.update = function update (dt) {\n  if (this._stopped) return\n  this._remainingTime -= dt\n  if (this._remainingTime <= 0) {\n    this._stopped = true\n    this._remainder = (-this._remainingTime) % this._delay\n    this._callback(this.restart)\n  } else {\n    this._remainder = 0\n  }\n}\n\n/**\n * Stop the timer and remove callback reference\n * @method\n */\nRafTimer.prototype.dispose = function dispose () {\n  this._callback = this.restart = function () {}\n  this._stopped = true\n  this._remainder = 0\n  this._remainingTime = this._delay\n}\n\n/* unused harmony default export */ var _unused_webpack_default_export = (RafTimer);\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Limit function calls to a specific framerate\n * @param {number} [framerate=30] Framerate\n * @param {function} callback Function to be called at the specified frame interval\n * @return {function} Framerate-limited function to add to your raf\n * @example\n * import { raf, fpsLimiter } from '@internet/raf'\n *\n * function tick () {\n *   console.log('called each 10 fps')\n * }\n *\n * const limited = fpsLimiter(10, tick)\n * raf.add(limited)\n */\nfunction fpsLimiter (framerate, callback) {\n  if (callback === void 0) throw new Error('You must specify a callback')\n  if (framerate === void 0) framerate = 30\n  var _interval = 1000 / framerate\n  var _remainingTime = 0\n  var _elapsedTime = 0\n  return function (dt) {\n    _remainingTime -= dt\n    _elapsedTime += dt\n    if (_remainingTime <= 0) {\n      callback(_elapsedTime)\n      _elapsedTime = 0\n      _remainingTime = _interval + (_remainingTime % _interval)\n    }\n  }\n}\n\n/* unused harmony default export */ var _unused_webpack_default_export = (fpsLimiter);\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n/**\n * Core of the raf package\n * @module raf\n * @type {Object}\n * @example\n * import { raf } from '@internet/raf'\n *\n * function tick (dt) {\n *  console.log('called on new frame')\n * }\n *\n * raf.add(tick)\n */\n\nvar root = typeof window === 'undefined' ? global : window\nvar _observers = []\nvar _afterObservers = []\nvar _beforeObservers = []\nvar _rafHandler = null\nvar _lastDate = null\nvar _once = false\nvar _complex = false\n\n/**\n * Time elapsed between the previous and the current frame\n * @type {number}\n * @static\n * @category properties\n */\nvar time\n\n/**\n * Current delta time\n * @type {number}\n * @static\n * @category properties\n */\nvar dt\n\nfunction _frame (timestamp) {\n  // compute deltatime and time\n  if (timestamp === void 0) timestamp = 0\n  if (_lastDate === null) _lastDate = timestamp\n  dt = timestamp - _lastDate\n  time += dt\n  _lastDate = timestamp\n  // we request the frame now, allowing to cancel it from observers\n  _rafHandler = _once ? null : root.requestAnimationFrame(_frame)\n  if (_once) _once = false\n  // call all observers\n  var i\n  if (_complex) {\n    for (i = 0; i < _beforeObservers.length; i++) _beforeObservers[i](dt)\n    for (i = 0; i < _observers.length; i++) _observers[i](dt)\n    for (i = 0; i < _afterObservers.length; i++) _afterObservers[i](dt)\n  } else {\n    for (i = 0; i < _observers.length; i++) _observers[i](dt)\n  }\n}\n\nfunction _swapRunner () {\n  _complex = !!(_afterObservers.length > 0 || _beforeObservers.length > 0)\n}\n\nfunction _addObserver (arr, fn, prepend) {\n  if (!fn || !arr) return false\n  if (~arr.indexOf(fn)) return false\n  prepend = !!prepend\n  prepend ? arr.unshift(fn) : arr.push(fn)\n  return true\n}\n\nfunction _removeObserver (arr, fn) {\n  if (!fn) return false\n  var index = arr.indexOf(fn)\n  if (!~index) return false\n  arr.splice(index, 1)\n  return !!(arr.length === 0)\n}\n\n/**\n * Add a function for execution at the beginning of the raf call\n * Calling addBefore will not start the raf.\n * @param {function} fn Function to be called at the start of the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction addBefore (fn, prepend) {\n  _addObserver(_beforeObservers, fn, prepend) && _swapRunner()\n}\n\n/**\n * Add a function for execution at the end of the raf call\n * Calling addAfter will not start the raf.\n * @param {function} fn Function to be called at the end of the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction addAfter (fn, prepend) {\n  _addObserver(_afterObservers, fn, prepend) && _swapRunner()\n}\n\n/**\n * Add a function for execution on each frame\n * @param {function} fn Function to be called\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction add (fn, prepend) {\n  _addObserver(_observers, fn, prepend) && start()\n}\n\n/**\n * Remove a function for execution at the beginning of the raf call\n * Calling removeBefore will not stop the raf.\n * @param {function} fn Function to remove from the raf\n * @static\n * @category methods\n */\nfunction removeBefore (fn) {\n  _removeObserver(_beforeObservers, fn) && _swapRunner()\n}\n\n/**\n * Remove a function for execution at the end of the raf call\n * Calling removeAfter will not stop the raf.\n * @param {function} fn Function to remove from the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction removeAfter (fn, prepend) {\n  _removeObserver(_afterObservers, fn) && _swapRunner()\n}\n\n/**\n * Remove a function for execution on each frame\n * @param {function} fn Function to remove from the raf\n * @static\n * @category methods\n */\nfunction remove (fn) {\n  _removeObserver(_observers, fn) && stop()\n}\n\n/**\n * Force start the raf. You usually don't need to use it.\n * @param {boolean} [instant=false] Directly make a raf call without waiting for the next frame (default false)\n * @static\n * @category methods\n */\nfunction start (instant) {\n  _once = false\n  if (_rafHandler) return\n  instant = !!instant\n  _lastDate = null\n  if (instant) _frame()\n  else _rafHandler = root.requestAnimationFrame(_frame)\n}\n\n/**\n * Request once the raf. Will not be executed if the raf is already running.\n * @static\n * @category methods\n */\nfunction requestOnce () {\n  if (_rafHandler) return\n  _once = true\n  _lastDate = null\n  _rafHandler = root.requestAnimationFrame(_frame)\n}\n\n/**\n * Force stop the raf. You usually don't need to use it.\n * @static\n * @category methods\n */\nfunction stop () {\n  if (!_rafHandler) return\n  root.cancelAnimationFrame(_rafHandler)\n  _rafHandler = null\n}\n\n/**\n * Remove all observers from the raf singleton and stop the raf if it's running. Reset time.\n * @static\n * @category methods\n */\nfunction dispose () {\n  stop()\n  _observers.length = 0\n  _afterObservers.length = 0\n  _beforeObservers.length = 0\n  _complex = false\n  _lastDate = null\n  time = 0\n  dt = 0\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  add: add,\n  addAfter: addAfter,\n  addBefore: addBefore,\n  remove: remove,\n  removeAfter: removeAfter,\n  removeBefore: removeBefore,\n  start: start,\n  stop: stop,\n  time: time,\n  dt: dt,\n  requestOnce: requestOnce,\n  dispose: dispose\n});\n\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(67)))\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// d54e5fb4f5491049626c.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/sedimentation/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d54e5fb4f5491049626c","/*!\n * Zdog v1.1.2\n * Round, flat, designer-friendly pseudo-3D engine\n * Licensed MIT\n * https://zzz.dog\n * Copyright 2020 Metafizzy\n */\n\n/**\n * Boilerplate & utils\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog = factory();\n  }\n}( this, function factory() {\n\nvar Zdog = {};\n\nZdog.TAU = Math.PI * 2;\n\nZdog.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\nZdog.lerp = function( a, b, alpha ) {\n  return ( b - a ) * alpha + a;\n};\n\nZdog.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\nvar powerMultipliers = {\n  2: function( a ) {\n    return a * a;\n  },\n  3: function( a ) {\n    return a * a * a;\n  },\n  4: function( a ) {\n    return a * a * a * a;\n  },\n  5: function( a ) {\n    return a * a * a * a * a;\n  },\n};\n\nZdog.easeInOut = function( alpha, power ) {\n  if ( power == 1 ) {\n    return alpha;\n  }\n  alpha = Math.max( 0, Math.min( 1, alpha ) );\n  var isFirstHalf = alpha < 0.5;\n  var slope = isFirstHalf ? alpha : 1 - alpha;\n  slope /= 0.5;\n  // make easing steeper with more multiples\n  var powerMultiplier = powerMultipliers[ power ] || powerMultipliers[2];\n  var curve = powerMultiplier( slope );\n  curve /= 2;\n  return isFirstHalf ? curve : 1 - curve;\n};\n\nreturn Zdog;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/boilerplate.js\n// module id = 0\n// module chunks = 0","import { readable, writable } from 'utils/state'\n\nconst Store = {\n  seed: writable(Date.now()),\n\n  creature: {\n    debug: writable(false),\n    anchorsLength: readable(4 * 4 * 4), // because 4^3 = 8^2\n    colorsLength: readable(2),\n    colors: readable([\n      '#369378',\n      '#e8322d',\n      '#6bedad',\n      '#218bfc',\n      '#7264c7',\n      '#fff713',\n      '#805c00',\n      '#94b4e3',\n      '#80fc73',\n      '#ff7a0f',\n      '#a8a2f5',\n      '#7de624',\n      '#9dd073',\n      '#d2203e',\n      '#ff3bd3',\n      '#3937a6',\n      '#df9d13',\n      '#e65cb9',\n      '#f9a923',\n      '#57f893',\n      '#f9d921',\n      '#cbd3ac'\n    ]),\n    density: writable(20),\n    scaleX: writable(1),\n    scaleY: writable(1),\n    planeLerp: writable(1),\n    buildLerp: writable(0)\n  },\n\n  raf: {\n    isRunning: writable(false),\n    ellapsedTime: writable(0),\n    frameCount: writable(0),\n    fps: writable(0)\n  },\n\n  scene: {\n    debug: writable(true),\n    zoom: writable(4),\n    rotation: writable({ x: 0, y: 0, z: 0 }),\n    dimensions: writable([0, 0])\n  },\n\n  midi: {\n    debug: writable(false),\n    ready: writable(false),\n    input: readable('nanoKONTROL2 SLIDER/KNOB')\n  }\n}\n\nwindow.Store = Store\nexport default Store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/classCallCheck.js\n// module id = 2\n// module chunks = 0","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/createClass.js\n// module id = 3\n// module chunks = 0","/**\n * Index\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('./boilerplate'),\n        require('./canvas-renderer'),\n        require('./svg-renderer'),\n        require('./vector'),\n        require('./anchor'),\n        require('./dragger'),\n        require('./illustration'),\n        require('./path-command'),\n        require('./shape'),\n        require('./group'),\n        require('./rect'),\n        require('./rounded-rect'),\n        require('./ellipse'),\n        require('./polygon'),\n        require('./hemisphere'),\n        require('./cylinder'),\n        require('./cone'),\n        require('./box')\n    );\n  } else if ( typeof define == 'function' && define.amd ) {\n    /* globals define */ // AMD\n    define( 'zdog', [], root.Zdog );\n  }\n})( this, function factory( Zdog, CanvasRenderer, SvgRenderer, Vector, Anchor,\n    Dragger, Illustration, PathCommand, Shape, Group, Rect, RoundedRect,\n    Ellipse, Polygon, Hemisphere, Cylinder, Cone, Box ) {\n\n      Zdog.CanvasRenderer = CanvasRenderer;\n      Zdog.SvgRenderer = SvgRenderer;\n      Zdog.Vector = Vector;\n      Zdog.Anchor = Anchor;\n      Zdog.Dragger = Dragger;\n      Zdog.Illustration = Illustration;\n      Zdog.PathCommand = PathCommand;\n      Zdog.Shape = Shape;\n      Zdog.Group = Group;\n      Zdog.Rect = Rect;\n      Zdog.RoundedRect = RoundedRect;\n      Zdog.Ellipse = Ellipse;\n      Zdog.Polygon = Polygon;\n      Zdog.Hemisphere = Hemisphere;\n      Zdog.Cylinder = Cylinder;\n      Zdog.Cone = Cone;\n      Zdog.Box = Box;\n\n      return Zdog;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/index.js\n// module id = 4\n// module chunks = 0","/**\n * Anchor\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./canvas-renderer'), require('./svg-renderer') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Anchor = factory( Zdog, Zdog.Vector, Zdog.CanvasRenderer,\n        Zdog.SvgRenderer );\n  }\n}( this, function factory( utils, Vector, CanvasRenderer, SvgRenderer ) {\n\nvar TAU = utils.TAU;\nvar onePoint = { x: 1, y: 1, z: 1 };\n\nfunction Anchor( options ) {\n  this.create( options || {} );\n}\n\nAnchor.prototype.create = function( options ) {\n  this.children = [];\n  // set defaults & options\n  utils.extend( this, this.constructor.defaults );\n  this.setOptions( options );\n\n  // transform\n  this.translate = new Vector( options.translate );\n  this.rotate = new Vector( options.rotate );\n  this.scale = new Vector( onePoint ).multiply( this.scale );\n  // origin\n  this.origin = new Vector();\n  this.renderOrigin = new Vector();\n\n  if ( this.addTo ) {\n    this.addTo.addChild( this );\n  }\n};\n\nAnchor.defaults = {};\n\nAnchor.optionKeys = Object.keys( Anchor.defaults ).concat([\n  'rotate',\n  'translate',\n  'scale',\n  'addTo',\n]);\n\nAnchor.prototype.setOptions = function( options ) {\n  var optionKeys = this.constructor.optionKeys;\n\n  for ( var key in options ) {\n    if ( optionKeys.indexOf( key ) != -1 ) {\n      this[ key ] = options[ key ];\n    }\n  }\n};\n\nAnchor.prototype.addChild = function( shape ) {\n  if ( this.children.indexOf( shape ) != -1 ) {\n    return;\n  }\n  shape.remove(); // remove previous parent\n  shape.addTo = this; // keep parent reference\n  this.children.push( shape );\n};\n\nAnchor.prototype.removeChild = function( shape ) {\n  var index = this.children.indexOf( shape );\n  if ( index != -1 ) {\n    this.children.splice( index, 1 );\n  }\n};\n\nAnchor.prototype.remove = function() {\n  if ( this.addTo ) {\n    this.addTo.removeChild( this );\n  }\n};\n\n// ----- update ----- //\n\nAnchor.prototype.update = function() {\n  // update self\n  this.reset();\n  // update children\n  this.children.forEach( function( child ) {\n    child.update();\n  });\n  this.transform( this.translate, this.rotate, this.scale );\n};\n\nAnchor.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n};\n\nAnchor.prototype.transform = function( translation, rotation, scale ) {\n  this.renderOrigin.transform( translation, rotation, scale );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  });\n};\n\nAnchor.prototype.updateGraph = function() {\n  this.update();\n  this.updateFlatGraph();\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n  });\n  // z-sort\n  this.flatGraph.sort( Anchor.shapeSorter );\n};\n\nAnchor.shapeSorter = function( a, b ) {\n  return a.sortValue - b.sortValue;\n};\n\n// custom getter to check for flatGraph before using it\nObject.defineProperty( Anchor.prototype, 'flatGraph', {\n  get: function() {\n    if ( !this._flatGraph ) {\n      this.updateFlatGraph();\n    }\n    return this._flatGraph;\n  },\n  set: function( graph ) {\n    this._flatGraph = graph;\n  },\n});\n\nAnchor.prototype.updateFlatGraph = function() {\n  this.flatGraph = this.getFlatGraph();\n};\n\n// return Array of self & all child graph items\nAnchor.prototype.getFlatGraph = function() {\n  var flatGraph = [ this ];\n  return this.addChildFlatGraph( flatGraph );\n};\n\nAnchor.prototype.addChildFlatGraph = function( flatGraph ) {\n  this.children.forEach( function( child ) {\n    var childFlatGraph = child.getFlatGraph();\n    Array.prototype.push.apply( flatGraph, childFlatGraph );\n  });\n  return flatGraph;\n};\n\nAnchor.prototype.updateSortValue = function() {\n  this.sortValue = this.renderOrigin.z;\n};\n\n// ----- render ----- //\n\nAnchor.prototype.render = function() {};\n\n// TODO refactor out CanvasRenderer so its not a dependency within anchor.js\nAnchor.prototype.renderGraphCanvas = function( ctx ) {\n  if ( !ctx ) {\n    throw new Error( 'ctx is ' + ctx + '. ' +\n      'Canvas context required for render. Check .renderGraphCanvas( ctx ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, CanvasRenderer );\n  });\n};\n\nAnchor.prototype.renderGraphSvg = function( svg ) {\n  if ( !svg ) {\n    throw new Error( 'svg is ' + svg + '. ' +\n      'SVG required for render. Check .renderGraphSvg( svg ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( svg, SvgRenderer );\n  });\n};\n\n// ----- misc ----- //\n\nAnchor.prototype.copy = function( options ) {\n  // copy options\n  var itemOptions = {};\n  var optionKeys = this.constructor.optionKeys;\n  optionKeys.forEach( function( key ) {\n    itemOptions[ key ] = this[ key ];\n  }, this );\n  // add set options\n  utils.extend( itemOptions, options );\n  var ItemClass = this.constructor;\n  return new ItemClass( itemOptions );\n};\n\nAnchor.prototype.copyGraph = function( options ) {\n  var clone = this.copy( options );\n  this.children.forEach( function( child ) {\n    child.copyGraph({\n      addTo: clone,\n    });\n  });\n  return clone;\n};\n\nAnchor.prototype.normalizeRotate = function() {\n  this.rotate.x = utils.modulo( this.rotate.x, TAU );\n  this.rotate.y = utils.modulo( this.rotate.y, TAU );\n  this.rotate.z = utils.modulo( this.rotate.z, TAU );\n};\n\n// ----- subclass ----- //\n\nfunction getSubclass( Super ) {\n  return function( defaults ) {\n    // create constructor\n    function Item( options ) {\n      this.create( options || {} );\n    }\n\n    Item.prototype = Object.create( Super.prototype );\n    Item.prototype.constructor = Item;\n\n    Item.defaults = utils.extend( {}, Super.defaults );\n    utils.extend( Item.defaults, defaults );\n    // create optionKeys\n    Item.optionKeys = Super.optionKeys.slice(0);\n    // add defaults keys to optionKeys, dedupe\n    Object.keys( Item.defaults ).forEach( function( key ) {\n      if ( !Item.optionKeys.indexOf( key ) != 1 ) {\n        Item.optionKeys.push( key );\n      }\n    });\n\n    Item.subclass = getSubclass( Item );\n\n    return Item;\n  };\n}\n\nAnchor.subclass = getSubclass( Anchor );\n\nreturn Anchor;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/anchor.js\n// module id = 5\n// module chunks = 0","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Shape = factory( Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor ) {\n\nvar Shape = Anchor.subclass({\n  stroke: 1,\n  fill: false,\n  color: '#333',\n  closed: true,\n  visible: true,\n  path: [ {} ],\n  front: { z: 1 },\n  backface: true,\n});\n\nShape.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // front\n  this.front = new Vector( options.front || this.front );\n  this.renderFront = new Vector( this.front );\n  this.renderNormal = new Vector();\n};\n\nvar actionNames = [\n  'move',\n  'line',\n  'bezier',\n  'arc',\n];\n\nShape.prototype.updatePath = function() {\n  this.setPath();\n  this.updatePathCommands();\n};\n\n// place holder for Ellipse, Rect, etc.\nShape.prototype.setPath = function() {};\n\n// parse path into PathCommands\nShape.prototype.updatePathCommands = function() {\n  var previousPoint;\n  this.pathCommands = this.path.map( function( pathPart, i ) {\n    // pathPart can be just vector coordinates -> { x, y, z }\n    // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }\n    var keys = Object.keys( pathPart );\n    var method = keys[0];\n    var points = pathPart[ method ];\n    // default to line if no instruction\n    var isInstruction = keys.length == 1 && actionNames.indexOf( method ) != -1;\n    if ( !isInstruction ) {\n      method = 'line';\n      points = pathPart;\n    }\n    // munge single-point methods like line & move without arrays\n    var isLineOrMove = method == 'line' || method == 'move';\n    var isPointsArray = Array.isArray( points );\n    if ( isLineOrMove && !isPointsArray ) {\n      points = [ points ];\n    }\n\n    // first action is always move\n    method = i === 0 ? 'move' : method;\n    // arcs require previous last point\n    var command = new PathCommand( method, points, previousPoint );\n    // update previousLastPoint\n    previousPoint = command.endRenderPoint;\n    return command;\n  });\n};\n\n// ----- update ----- //\n\nShape.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n  this.renderFront.set( this.front );\n  // reset command render points\n  this.pathCommands.forEach( function( command ) {\n    command.reset();\n  });\n};\n\nShape.prototype.transform = function( translation, rotation, scale ) {\n  // calculate render points backface visibility & cone/hemisphere shapes\n  this.renderOrigin.transform( translation, rotation, scale );\n  this.renderFront.transform( translation, rotation, scale );\n  this.renderNormal.set( this.renderOrigin ).subtract( this.renderFront );\n  // transform points\n  this.pathCommands.forEach( function( command ) {\n    command.transform( translation, rotation, scale );\n  });\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  });\n};\n\nShape.prototype.updateSortValue = function() {\n  // sort by average z of all points\n  // def not geometrically correct, but works for me\n  var pointCount = this.pathCommands.length;\n  var firstPoint = this.pathCommands[0].endRenderPoint;\n  var lastPoint = this.pathCommands[ pointCount - 1 ].endRenderPoint;\n  // ignore the final point if self closing shape\n  var isSelfClosing = pointCount > 2 && firstPoint.isSame( lastPoint );\n  if ( isSelfClosing ) {\n    pointCount -= 1;\n  }\n\n  var sortValueTotal = 0;\n  for ( var i = 0; i < pointCount; i++ ) {\n    sortValueTotal += this.pathCommands[i].endRenderPoint.z;\n  }\n  this.sortValue = sortValueTotal / pointCount;\n};\n\n// ----- render ----- //\n\nShape.prototype.render = function( ctx, renderer ) {\n  var length = this.pathCommands.length;\n  if ( !this.visible || !length ) {\n    return;\n  }\n  // do not render if hiding backface\n  this.isFacingBack = this.renderNormal.z > 0;\n  if ( !this.backface && this.isFacingBack ) {\n    return;\n  }\n  if ( !renderer ) {\n    throw new Error( 'Zdog renderer required. Set to ' + renderer );\n  }\n  // render dot or path\n  var isDot = length == 1;\n  if ( renderer.isCanvas && isDot ) {\n    this.renderCanvasDot( ctx, renderer );\n  } else {\n    this.renderPath( ctx, renderer );\n  }\n};\n\nvar TAU = utils.TAU;\n// Safari does not render lines with no size, have to render circle instead\nShape.prototype.renderCanvasDot = function( ctx ) {\n  var lineWidth = this.getLineWidth();\n  if ( !lineWidth ) {\n    return;\n  }\n  ctx.fillStyle = this.getRenderColor();\n  var point = this.pathCommands[0].endRenderPoint;\n  ctx.beginPath();\n  var radius = lineWidth/2;\n  ctx.arc( point.x, point.y, radius, 0, TAU );\n  ctx.fill();\n};\n\nShape.prototype.getLineWidth = function() {\n  if ( !this.stroke ) {\n    return 0;\n  }\n  if ( this.stroke == true ) {\n    return 1;\n  }\n  return this.stroke;\n};\n\nShape.prototype.getRenderColor = function() {\n  // use backface color if applicable\n  var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;\n  var color = isBackfaceColor ? this.backface : this.color;\n  return color;\n};\n\nShape.prototype.renderPath = function( ctx, renderer ) {\n  var elem = this.getRenderElement( ctx, renderer );\n  var isTwoPoints = this.pathCommands.length == 2 &&\n    this.pathCommands[1].method == 'line';\n  var isClosed = !isTwoPoints && this.closed;\n  var color = this.getRenderColor();\n\n  renderer.renderPath( ctx, elem, this.pathCommands, isClosed );\n  renderer.stroke( ctx, elem, this.stroke, color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nShape.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path');\n    this.svgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.svgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.svgElement;\n};\n\nreturn Shape;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/shape.js\n// module id = 6\n// module chunks = 0","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\n// module id = 7\n// module chunks = 0","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/getPrototypeOf.js\n// module id = 8\n// module chunks = 0","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/inherits.js\n// module id = 9\n// module chunks = 0","/**\n * Vector\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Vector = factory( Zdog );\n  }\n\n}( this, function factory( utils ) {\n\nfunction Vector( position ) {\n  this.set( position );\n}\n\nvar TAU = utils.TAU;\n\n// 'pos' = 'position'\nVector.prototype.set = function( pos ) {\n  this.x = pos && pos.x || 0;\n  this.y = pos && pos.y || 0;\n  this.z = pos && pos.z || 0;\n  return this;\n};\n\n// set coordinates without sanitizing\n// vec.write({ y: 2 }) only sets y coord\nVector.prototype.write = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x = pos.x != undefined ? pos.x : this.x;\n  this.y = pos.y != undefined ? pos.y : this.y;\n  this.z = pos.z != undefined ? pos.z : this.z;\n  return this;\n};\n\nVector.prototype.rotate = function( rotation ) {\n  if ( !rotation ) {\n    return;\n  }\n  this.rotateZ( rotation.z );\n  this.rotateY( rotation.y );\n  this.rotateX( rotation.x );\n  return this;\n};\n\nVector.prototype.rotateZ = function( angle ) {\n  rotateProperty( this, angle, 'x', 'y' );\n};\n\nVector.prototype.rotateX = function( angle ) {\n  rotateProperty( this, angle, 'y', 'z' );\n};\n\nVector.prototype.rotateY = function( angle ) {\n  rotateProperty( this, angle, 'x', 'z' );\n};\n\nfunction rotateProperty( vec, angle, propA, propB ) {\n  if ( !angle || angle % TAU === 0 ) {\n    return;\n  }\n  var cos = Math.cos( angle );\n  var sin = Math.sin( angle );\n  var a = vec[ propA ];\n  var b = vec[ propB ];\n  vec[ propA ] = a*cos - b*sin;\n  vec[ propB ] = b*cos + a*sin;\n}\n\nVector.prototype.isSame = function( pos ) {\n  if ( !pos ) {\n    return false;\n  }\n  return this.x === pos.x && this.y === pos.y && this.z === pos.z;\n};\n\nVector.prototype.add = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x += pos.x || 0;\n  this.y += pos.y || 0;\n  this.z += pos.z || 0;\n  return this;\n};\n\nVector.prototype.subtract = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x -= pos.x || 0;\n  this.y -= pos.y || 0;\n  this.z -= pos.z || 0;\n  return this;\n};\n\nVector.prototype.multiply = function( pos ) {\n  if ( pos == undefined ) {\n    return this;\n  }\n  // multiple all values by same number\n  if ( typeof pos == 'number' ) {\n    this.x *= pos;\n    this.y *= pos;\n    this.z *= pos;\n  } else {\n    // multiply object\n    this.x *= pos.x != undefined ? pos.x : 1;\n    this.y *= pos.y != undefined ? pos.y : 1;\n    this.z *= pos.z != undefined ? pos.z : 1;\n  }\n  return this;\n};\n\nVector.prototype.transform = function( translation, rotation, scale ) {\n  this.multiply( scale );\n  this.rotate( rotation );\n  this.add( translation );\n  return this;\n};\n\nVector.prototype.lerp = function( pos, alpha ) {\n  this.x = utils.lerp( this.x, pos.x || 0, alpha );\n  this.y = utils.lerp( this.y, pos.y || 0, alpha );\n  this.z = utils.lerp( this.z, pos.z || 0, alpha );\n  return this;\n};\n\nVector.prototype.magnitude = function() {\n  var sum = this.x*this.x + this.y*this.y + this.z*this.z;\n  return getMagnitudeSqrt( sum );\n};\n\nfunction getMagnitudeSqrt( sum ) {\n  // PERF: check if sum ~= 1 and skip sqrt\n  if ( Math.abs( sum - 1 ) < 0.00000001 ) {\n    return 1;\n  }\n  return Math.sqrt( sum );\n}\n\nVector.prototype.magnitude2d = function() {\n  var sum = this.x*this.x + this.y*this.y;\n  return getMagnitudeSqrt( sum );\n};\n\nVector.prototype.copy = function() {\n  return new Vector( this );\n};\n\nreturn Vector;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/vector.js\n// module id = 10\n// module chunks = 0","import fastRandom from 'fast-random'\nimport arrayRandom from 'utils/array-random'\n\nlet seed = Date.now()\nlet randomizer = fastRandom(seed)\n\nexport default {\n  set seed (newSeed) {\n    // Seed must be an integer\n    seed = newSeed\n    randomizer = fastRandom(seed)\n  },\n\n  get seed () {\n    return seed\n  },\n\n  reset: () => {\n    randomizer = fastRandom(seed)\n  },\n\n  random: () => randomizer.nextFloat(),\n  randomOf: arr => arrayRandom(arr, randomizer.nextFloat),\n  randomFloat: (min, max) => randomizer.nextFloat() * (max - min) + min,\n  randomInt: (min, max) => Math.floor(randomizer.nextFloat() * (max - min) + min)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/prng.js","/**\n * PathCommand\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./vector') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.PathCommand = factory( Zdog.Vector );\n  }\n}( this, function factory( Vector ) {\n\nfunction PathCommand( method, points, previousPoint ) {\n  this.method = method;\n  this.points = points.map( mapVectorPoint );\n  this.renderPoints = points.map( mapNewVector );\n  this.previousPoint = previousPoint;\n  this.endRenderPoint = this.renderPoints[ this.renderPoints.length - 1 ];\n  // arc actions come with previous point & corner point\n  // but require bezier control points\n  if ( method == 'arc' ) {\n    this.controlPoints = [ new Vector(), new Vector() ];\n  }\n}\n\nfunction mapVectorPoint( point ) {\n  if ( point instanceof Vector ) {\n    return point;\n  } else {\n    return new Vector( point );\n  }\n}\n\nfunction mapNewVector( point ) {\n  return new Vector( point );\n}\n\nPathCommand.prototype.reset = function() {\n  // reset renderPoints back to orignal points position\n  var points = this.points;\n  this.renderPoints.forEach( function( renderPoint, i ) {\n    var point = points[i];\n    renderPoint.set( point );\n  });\n};\n\nPathCommand.prototype.transform = function( translation, rotation, scale ) {\n  this.renderPoints.forEach( function( renderPoint ) {\n    renderPoint.transform( translation, rotation, scale );\n  });\n};\n\nPathCommand.prototype.render = function( ctx, elem, renderer ) {\n  return this[ this.method ]( ctx, elem, renderer );\n};\n\nPathCommand.prototype.move = function( ctx, elem, renderer ) {\n  return renderer.move( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.line = function( ctx, elem, renderer ) {\n  return renderer.line( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.bezier = function( ctx, elem, renderer ) {\n  var cp0 = this.renderPoints[0];\n  var cp1 = this.renderPoints[1];\n  var end = this.renderPoints[2];\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nvar arcHandleLength = 9/16;\n\nPathCommand.prototype.arc = function( ctx, elem, renderer ) {\n  var prev = this.previousPoint;\n  var corner = this.renderPoints[0];\n  var end = this.renderPoints[1];\n  var cp0 = this.controlPoints[0];\n  var cp1 = this.controlPoints[1];\n  cp0.set( prev ).lerp( corner, arcHandleLength );\n  cp1.set( end ).lerp( corner, arcHandleLength );\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nreturn PathCommand;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/path-command.js\n// module id = 12\n// module chunks = 0","/**\n * Ellipse\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Ellipse = factory( Zdog.Shape );\n  }\n\n}( this, function factory( Shape ) {\n\nvar Ellipse = Shape.subclass({\n  diameter: 1,\n  width: undefined,\n  height: undefined,\n  quarters: 4,\n  closed: false,\n});\n\nEllipse.prototype.setPath = function() {\n  var width = this.width != undefined ? this.width : this.diameter;\n  var height = this.height != undefined ? this.height : this.diameter;\n  var x = width / 2;\n  var y = height / 2;\n  this.path = [\n    { x: 0, y: -y },\n    { arc: [ // top right\n      { x: x, y: -y },\n      { x: x, y: 0 },\n    ]},\n  ];\n  // bottom right\n  if ( this.quarters > 1 ) {\n    this.path.push({ arc: [\n      { x: x, y: y },\n      { x: 0, y: y },\n    ]});\n  }\n  // bottom left\n  if ( this.quarters > 2 ) {\n    this.path.push({ arc: [\n      { x: -x, y: y },\n      { x: -x, y: 0 },\n    ]});\n  }\n  // top left\n  if ( this.quarters > 3 ) {\n    this.path.push({ arc: [\n      { x: -x, y: -y },\n      { x: 0, y: -y },\n    ]});\n  }\n};\n\nreturn Ellipse;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/ellipse.js\n// module id = 13\n// module chunks = 0","import { Anchor, Shape } from 'zdog'\n\nexport default class Limb {\n  static Shape (anchor, props) {\n    const limb = new Limb(anchor, props)\n    limb.refs.shape = new Shape({\n      addTo: limb.anchor,\n      ...props\n    })\n    return limb\n  }\n\n  constructor (anchor, props) {\n    this.anchor = new Anchor({ addTo: anchor })\n    this.props = props\n    this.refs = {}\n    this.state = {}\n    this.render(props)\n  }\n\n  render () {}\n  update () {}\n\n  get visible () { return this.anchor.visible }\n  set visible (v) {\n    Object.values(this.refs).forEach(ref => { ref.visible = v })\n  }\n\n  copy (anchor, props = this.props) {\n    const copy = Object.assign(Object.create(Object.getPrototypeOf(this)), this)\n    copy.anchor = new Anchor({ addTo: anchor })\n    copy.props = props\n    copy.refs = {}\n    Object.entries(this.refs).forEach(([key, ref]) => {\n      copy.refs[key] = ref.copy({ addTo: copy.anchor, ...props })\n    })\n\n    copy.clonedFrom = this\n    return copy\n  }\n\n  flip () {\n    this.flipped = !this.flipped\n    return this\n  }\n\n  destroy () {\n    Object.values(this.refs).forEach(ref => ref.remove())\n    this.anchor.remove()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Limb.js","import { lerp } from 'missing-math'\n\nexport default (a, b, t) => ({\n  x: lerp(a.x, b.x, t),\n  y: lerp(a.y, b.y, t),\n  z: lerp(a.z, b.z, t)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/point-lerp.js","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/defineProperty.js\n// module id = 16\n// module chunks = 0","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/slicedToArray.js\n// module id = 17\n// module chunks = 0","import { Signal } from './signal'\n\nclass Readable extends Signal {\n  constructor (initialValue) {\n    super()\n    this.current = initialValue\n  }\n\n  set () {\n    throw new Error('Cannot set a different value for a Readable Signal. Use Writable instead')\n  }\n\n  get () {\n    return this.current\n  }\n}\n\nexport { Readable }\nexport default function readable (v) {\n  return new Readable(v)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/state/readable.js","function SignalListener (owner, fn, ctx, once) {\n  this.fn = fn\n  this.ctx = ctx || null\n  this.owner = owner\n  this.once = !!once\n}\n\nfunction removeNode (owner, node) {\n  if (node.prev) node.prev.next = node.next\n  if (node.next) node.next.prev = node.prev\n  node.ctx = node.fn = node.owner = null\n  if (node === owner._first) owner._first = node.next\n  if (node === owner._last) owner._last = node.prev\n}\n\nclass Signal {\n  constructor () {\n    this._first = this._last = null\n  }\n\n  dispatch (a0, a1, a2, a3, a4) {\n    let node = this._first\n    while (node) {\n      node.fn.call(node.ctx, a0, a1, a2, a3, a4)\n      node.once && this.unsubscribe(node)\n      node = node.next\n    }\n  }\n\n  subscribe (fn, ctx, once) {\n    const node = new SignalListener(this, fn, ctx, once)\n    if (!this._first) {\n      this._first = node\n      this._last = node\n    } else {\n      this._last.next = node\n      node.prev = this._last\n      this._last = node\n    }\n    return node\n  }\n\n  subscribeOnce (fn, ctx) {\n    return this.subscribe(fn, ctx, true)\n  }\n\n  unsubscribe (fn, ctx) {\n    if (fn instanceof SignalListener) return removeNode(this, fn)\n    if (!ctx) ctx = null\n    let node = this._first\n    while (node) {\n      if (node.fn === fn && node.ctx === ctx) removeNode(this, node)\n      node = node.next\n    }\n  }\n\n  unsubscribeAll () {\n    let node = this._first\n    this._first = this._last = null\n    while (node) {\n      removeNode(this, node)\n      node = node.next\n    }\n  }\n}\n\nexport { Signal }\nexport default function signal () {\n  return new Signal()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/state/signal.js","import { Readable } from './readable'\n\nclass Writable extends Readable {\n  set (value, force) {\n    if (!force && this.current === value) return\n    const previous = this.current\n\n    this.current = value\n    let node = this._first\n    while (node) {\n      node.fn.call(node.ctx, this.current, previous)\n      node.once && this.unsubscribe(node)\n      node = node.next\n    }\n  }\n\n  update (cb, force) {\n    const value = cb(this.current)\n    this.set(value !== undefined ? value : this.current, force)\n  }\n}\n\nexport { Writable }\nexport default function writable (v) {\n  return new Writable(v)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/state/writable.js","function n(n,t,r){return Math.max(t,Math.min(n,r))}function t(n,t,o,u){return void 0===u&&(u=!1),r(n,t,o,0,1,u)}function r(t,r,o,u,i,a){void 0===a&&(a=!1);var e=(t-r)*(i-u)/(o-r)+u;return a?n(e,u,i):e}function o(n,t,r){return n+r*(t-n)}function u(n,t,r){return void 0===r&&(r=Math.random),void 0!==t?o(n,t,r()):o(0,n,r())}function i(n,t,r){return void 0===r&&(r=Math.random),Math.floor(u(n,t,r))}function a(n){return 180*n/Math.PI}function e(n){return n*Math.PI/180}function f(n,t){return Math.ceil(n/t)*t}function c(n,t){return Math.floor(n/t)*t}function h(n,t){var r=n-Math.floor(n);return t?+r.toFixed(t):r}export{n as clamp,t as normalize,r as map,o as lerp,u as random,i as randomInt,a as degrees,e as radians,f as roundTo,c as floorTo,h as fract};\n//# sourceMappingURL=missing-math.m.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/missing-math/dist/missing-math.m.js\n// module id = 21\n// module chunks = 0","/**\n * CanvasRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.CanvasRenderer = factory();\n  }\n}( this, function factory() {\n\nvar CanvasRenderer = { isCanvas: true };\n\nCanvasRenderer.begin = function( ctx ) {\n  ctx.beginPath();\n};\n\nCanvasRenderer.move = function( ctx, elem, point ) {\n  ctx.moveTo( point.x, point.y );\n};\n\nCanvasRenderer.line = function( ctx, elem, point ) {\n  ctx.lineTo( point.x, point.y );\n};\n\nCanvasRenderer.bezier = function( ctx, elem, cp0, cp1, end ) {\n  ctx.bezierCurveTo( cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y );\n};\n\nCanvasRenderer.closePath = function( ctx ) {\n  ctx.closePath();\n};\n\nCanvasRenderer.setPath = function() {};\n\nCanvasRenderer.renderPath = function( ctx, elem, pathCommands, isClosed ) {\n  this.begin( ctx, elem );\n  pathCommands.forEach( function( command ) {\n    command.render( ctx, elem, CanvasRenderer );\n  });\n  if ( isClosed ) {\n    this.closePath( ctx, elem );\n  }\n};\n\nCanvasRenderer.stroke = function( ctx, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.stroke();\n};\n\nCanvasRenderer.fill = function( ctx, elem, isFill, color ) {\n  if ( !isFill ) {\n    return;\n  }\n  ctx.fillStyle = color;\n  ctx.fill();\n};\n\nCanvasRenderer.end = function() {};\n\nreturn CanvasRenderer;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/canvas-renderer.js\n// module id = 22\n// module chunks = 0","/**\n * SvgRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.SvgRenderer = factory();\n  }\n}( this, function factory() {\n\nvar SvgRenderer = { isSvg: true };\n\n// round path coordinates to 3 decimals\nvar round = SvgRenderer.round = function( num ) {\n  return Math.round( num * 1000 ) / 1000;\n};\n\nfunction getPointString( point ) {\n  return round( point.x ) + ',' + round( point.y ) + ' ';\n}\n\nSvgRenderer.begin = function() {};\n\nSvgRenderer.move = function( svg, elem, point ) {\n  return 'M' + getPointString( point );\n};\n\nSvgRenderer.line = function( svg, elem, point ) {\n  return 'L' + getPointString( point );\n};\n\nSvgRenderer.bezier = function( svg, elem, cp0, cp1, end ) {\n  return 'C' + getPointString( cp0 ) + getPointString( cp1 ) +\n    getPointString( end );\n};\n\nSvgRenderer.closePath = function(/* elem */) {\n  return 'Z';\n};\n\nSvgRenderer.setPath = function( svg, elem, pathValue ) {\n  elem.setAttribute( 'd', pathValue );\n};\n\nSvgRenderer.renderPath = function( svg, elem, pathCommands, isClosed ) {\n  var pathValue = '';\n  pathCommands.forEach( function( command ) {\n    pathValue += command.render( svg, elem, SvgRenderer );\n  });\n  if ( isClosed ) {\n    pathValue += this.closePath( svg, elem );\n  }\n  this.setPath( svg, elem, pathValue );\n};\n\nSvgRenderer.stroke = function( svg, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  elem.setAttribute( 'stroke', color );\n  elem.setAttribute( 'stroke-width', lineWidth );\n};\n\nSvgRenderer.fill = function( svg, elem, isFill, color ) {\n  var fillColor = isFill ? color : 'none';\n  elem.setAttribute( 'fill', fillColor );\n};\n\nSvgRenderer.end = function( svg, elem ) {\n  svg.appendChild( elem );\n};\n\nreturn SvgRenderer;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/svg-renderer.js\n// module id = 23\n// module chunks = 0","/**\n * Dragger\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.Dragger = factory();\n  }\n}( this, function factory() {\n\n// quick & dirty drag event stuff\n// messes up if multiple pointers/touches\n\n// check for browser window #85\nvar hasWindow = typeof window != 'undefined';\n// event support, default to mouse events\nvar downEvent = 'mousedown';\nvar moveEvent = 'mousemove';\nvar upEvent = 'mouseup';\nif ( hasWindow ) {\n  if ( window.PointerEvent ) {\n    // PointerEvent, Chrome\n    downEvent = 'pointerdown';\n    moveEvent = 'pointermove';\n    upEvent = 'pointerup';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events, iOS Safari\n    downEvent = 'touchstart';\n    moveEvent = 'touchmove';\n    upEvent = 'touchend';\n  }\n}\n\nfunction noop() {}\n\nfunction Dragger( options ) {\n  this.create( options || {} );\n}\n\nDragger.prototype.create = function( options ) {\n  this.onDragStart = options.onDragStart || noop;\n  this.onDragMove = options.onDragMove || noop;\n  this.onDragEnd = options.onDragEnd || noop;\n\n  this.bindDrag( options.startElement );\n};\n\nDragger.prototype.bindDrag = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    return;\n  }\n  // disable browser gestures #53\n  element.style.touchAction = 'none';\n  element.addEventListener( downEvent, this );\n};\n\nDragger.prototype.getQueryElement = function( element ) {\n  if ( typeof element == 'string' ) {\n    // with string, query selector\n    element = document.querySelector( element );\n  }\n  return element;\n};\n\nDragger.prototype.handleEvent = function( event ) {\n  var method = this[ 'on' + event.type ];\n  if ( method ) {\n    method.call( this, event );\n  }\n};\n\nDragger.prototype.onmousedown =\nDragger.prototype.onpointerdown = function( event ) {\n  this.dragStart( event, event );\n};\n\nDragger.prototype.ontouchstart = function( event ) {\n  this.dragStart( event, event.changedTouches[0] );\n};\n\nDragger.prototype.dragStart = function( event, pointer ) {\n  event.preventDefault();\n  this.dragStartX = pointer.pageX;\n  this.dragStartY = pointer.pageY;\n  if ( hasWindow ) {\n    window.addEventListener( moveEvent, this );\n    window.addEventListener( upEvent, this );\n  }\n  this.onDragStart( pointer );\n};\n\nDragger.prototype.ontouchmove = function( event ) {\n  // HACK, moved touch may not be first\n  this.dragMove( event, event.changedTouches[0] );\n};\n\nDragger.prototype.onmousemove =\nDragger.prototype.onpointermove = function( event ) {\n  this.dragMove( event, event );\n};\n\nDragger.prototype.dragMove = function( event, pointer ) {\n  event.preventDefault();\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  this.onDragMove( pointer, moveX, moveY );\n};\n\nDragger.prototype.onmouseup =\nDragger.prototype.onpointerup =\nDragger.prototype.ontouchend =\nDragger.prototype.dragEnd = function(/* event */) {\n  window.removeEventListener( moveEvent, this );\n  window.removeEventListener( upEvent, this );\n  this.onDragEnd();\n};\n\nreturn Dragger;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/dragger.js\n// module id = 24\n// module chunks = 0","/**\n * Group\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Group = factory( Zdog.Anchor );\n  }\n}( this, function factory( Anchor ) {\n\nvar Group = Anchor.subclass({\n  updateSort: false,\n  visible: true,\n});\n\n// ----- update ----- //\n\nGroup.prototype.updateSortValue = function() {\n  var sortValueTotal = 0;\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n    sortValueTotal += item.sortValue;\n  });\n  // average sort value of all points\n  // def not geometrically correct, but works for me\n  this.sortValue = sortValueTotal / this.flatGraph.length;\n\n  if ( this.updateSort ) {\n    this.flatGraph.sort( Anchor.shapeSorter );\n  }\n};\n\n// ----- render ----- //\n\nGroup.prototype.render = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, renderer );\n  });\n};\n\n// actual group flatGraph only used inside group\nGroup.prototype.updateFlatGraph = function() {\n  // do not include self\n  var flatGraph = [];\n  this.flatGraph = this.addChildFlatGraph( flatGraph );\n};\n\n// do not include children, group handles rendering & sorting internally\nGroup.prototype.getFlatGraph = function() {\n  return [ this ];\n};\n\nreturn Group;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/group.js\n// module id = 25\n// module chunks = 0","/**\n * Rect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Rect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar Rect = Shape.subclass({\n  width: 1,\n  height: 1,\n});\n\nRect.prototype.setPath = function() {\n  var x = this.width / 2;\n  var y = this.height / 2;\n  /* eslint key-spacing: \"off\" */\n  this.path = [\n    { x: -x, y: -y },\n    { x:  x, y: -y },\n    { x:  x, y:  y },\n    { x: -x, y:  y },\n  ];\n};\n\nreturn Rect;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/rect.js\n// module id = 26\n// module chunks = 0","import Store from 'store/store'\nimport { Anchor, Dragger, Shape } from 'zdog'\n\nconst anchor = new Anchor()\nconst canvas = document.querySelector('canvas#Scene')\nconst ctx = canvas.getContext('2d')\n\nconst add = (ZdogClass, props) => new ZdogClass({ addTo: anchor, ...props })\n\n// Update Scene canvas when Store dimensions change\nStore.scene.dimensions.subscribe(([width, height]) => {\n  canvas.width = window.innerWidth\n  canvas.height = window.innerHeight\n  canvas.style.width = canvas.width + 'px'\n  canvas.style.height = canvas.height + 'px'\n})\n\n// Enable drag-to-rotate\nlet dragStartRX\nlet dragStartRY\nadd(Dragger, {\n  startElement: canvas,\n  onDragStart: function () {\n    dragStartRX = anchor.rotate.x\n    dragStartRY = anchor.rotate.y\n  },\n\n  onDragMove: function (pointer, moveX, moveY) {\n    const minSize = Math.min(canvas.width, canvas.height)\n    Store.scene.rotation.update(rotation => ({\n      ...rotation,\n      x: dragStartRX - (moveY / minSize * Math.PI * 2),\n      y: dragStartRY - (moveX / minSize * Math.PI * 2)\n    }), true)\n  }\n})\n\n\nexport default {\n  get anchor () { return anchor },\n  get canvas () { return canvas },\n  get ctx () { return ctx },\n\n  add,\n  render: function () {\n    const zoom = Store.scene.zoom.get()\n    const rotation = Store.scene.rotation.get()\n    const [width, height] = Store.scene.dimensions.get()\n\n    anchor.rotate = rotation\n\n    ctx.clearRect(0, 0, width, height)\n    anchor.updateGraph()\n\n    ctx.save()\n    ctx.translate(width / 2, height / 2)\n    ctx.scale(zoom, zoom)\n    ctx.lineJoin = 'round'\n    ctx.lineCap = 'round'\n    anchor.renderGraphCanvas(ctx)\n    ctx.restore()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/scene.js","import Store from 'store/store'\nimport { debounce } from 'tiny-throttle'\n\nimport Midi from 'controllers/midi'\nimport Animation from 'controllers/animation'\nimport Raf from 'controllers/raf'\nimport Scene from 'controllers/scene'\n\nwindow.onresize = debounce(() => {\n  Store.scene.dimensions.set([window.innerWidth, window.innerHeight])\n}, 10)\n\nwindow.onload = () => {\n  window.onresize()\n  document.body.classList.remove('is-loading')\n  Store.raf.isRunning.set(true)\n}\n\nMidi.derive(Store.seed, { cc: 18, update: v => Date.now() })\nMidi.derive(Store.creature.scaleX, { cc: 16 })\nMidi.derive(Store.creature.scaleY, { cc: 17 })\nMidi.derive(Store.creature.density, { cc: 0, update: v => 10 + v * 190 })\nMidi.derive(Store.creature.planeLerp, { cc: 1 })\nMidi.derive(Store.creature.buildLerp, { cc: 2 })\n\nRaf.add(() => {\n  if (!window.ENV.production) {\n    document.title = `${window.ENV.pageTitle} | [${Store.raf.fps.current.toFixed(0)} fps]`\n  }\n\n  if (!Store.midi.ready.get()) {\n    const t = Math.sin(Date.now() / 1000) + 1\n    Store.creature.planeLerp.set(Math.min(t, 1))\n    Store.creature.buildLerp.set(Math.max(1, t) - 1)\n  }\n\n  Animation.update()\n  Scene.render()\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import readable from './readable'\nimport writable from './writable'\nimport derived from './derived'\nimport signal from './signal'\n\nexport {\n  readable as r,\n  writable as w,\n  derived as d,\n  signal as s,\n  readable,\n  writable,\n  derived,\n  signal\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/state/index.js","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/typeof.js\n// module id = 31\n// module chunks = 0","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/assertThisInitialized.js\n// module id = 32\n// module chunks = 0","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/setPrototypeOf.js\n// module id = 33\n// module chunks = 0","import { Writable } from './writable'\n\nfunction derived (observables, cb) {\n  const value = new Writable()\n\n  const setValue = value.set.bind(value)\n  delete value.set\n\n  const isArray = Array.isArray(observables)\n  let values = isArray ? (new Array(observables.length)) : null\n\n  if (isArray) {\n    for (let i = 0, l = observables.length; i < l; i++) {\n      values[i] = observables[i].current\n      observables[i].subscribe(function (v) {\n        values[i] = v\n        derive()\n      })\n    }\n  } else {\n    values = observables.current\n    observables.subscribe(function (v) {\n      values = v\n      derive()\n    })\n  }\n\n  derive()\n\n  function derive () {\n    const result = cb(values)\n    if (result && result.then) result.then(setValue)\n    else setValue(result)\n  }\n\n  return value\n}\n\nexport default derived\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/state/derived.js","var debounceLead = function (callback, offset) {\n  var baseTime = 0;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var currentTime = Date.now();\n    if (baseTime + offset <= currentTime) {\n      callback.apply(void 0, args);\n      baseTime = currentTime;\n    } else {\n      baseTime = currentTime;\n    }\n  }\n};\n\nvar debounceTail = function (callback, offset) {\n  var timeoutFunc = null;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    clearTimeout(timeoutFunc);\n    timeoutFunc = setTimeout(function () {\n      callback.apply(void 0, args);\n    }, offset);\n  }\n};\n\n// call the correct debounce function\nvar debounce = function (callback, offset, leading) {\n    if ( leading === void 0 ) leading = false;\n\n    return (leading ? debounceLead(callback, offset) : debounceTail(callback, offset));\n};\n\n\nvar throttle = function (callback, offset) {\n  var baseTime = 0;\n  return function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var currentTime = Date.now();\n    if (baseTime + offset <= currentTime) {\n      baseTime = currentTime;\n      callback.apply(void 0, args);\n    }\n  }\n};\n\nexport { debounce, throttle };\n//# sourceMappingURL=tiny-throttle.es.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tiny-throttle/dist/tiny-throttle.es.js\n// module id = 35\n// module chunks = 0","import Store from 'store/store'\nimport WebMidi from 'webmidi'\n\nimport { normalize } from 'missing-math'\n\nconst derivations = []\n\nfunction setup () {\n  if (Store.midi.ready.get()) return\n\n  const input = WebMidi.getInputByName(Store.midi.input.get())\n  if (!input) return\n\n  Store.midi.ready.set(true)\n\n  input.addListener('controlchange', 'all', e => {\n    if (Store.midi.debug.get()) console.log(e.controller, e.value)\n    const cc = e.controller.number\n    if (derivations[cc]) {\n      const { signal, update } = derivations[cc]\n      signal.set(update(normalize(e.value, 0, 127), signal.current))\n    }\n  })\n}\n\nWebMidi.enable(error => {\n  if (error) {\n    console.error('WebMidi could not be enabled.', error)\n    return\n  }\n\n  setup()\n  WebMidi.addListener('connected', setup)\n})\n\nexport default {\n  derive: (signal, { cc, update = v => v } = {}) => {\n    derivations[cc] = { signal, update }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/midi.js","/*\n\nWebMidi v2.5.1\n\nWebMidi.js helps you tame the Web MIDI API. Send and receive MIDI messages with ease. Control instruments with user-friendly functions (playNote, sendPitchBend, etc.). React to MIDI input with simple event listeners (noteon, pitchbend, controlchange, etc.).\nhttps://github.com/djipco/webmidi\n\n\nThe MIT License (MIT)\n\nCopyright (c) 2015-2019, Jean-Philippe Côté\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and\nassociated documentation files (the \"Software\"), to deal in the Software without restriction,\nincluding without limitation the rights to use, copy, modify, merge, publish, distribute,\nsublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial\nportions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\nNOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES\nOR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\n!function(scope){\"use strict\";function WebMidi(){if(WebMidi.prototype._singleton)throw new Error(\"WebMidi is a singleton, it cannot be instantiated directly.\");(WebMidi.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=[\"connected\",\"disconnected\"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=[\"entry\",\"increment\",\"decrement\"],this._notes=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return\"requestMIDIAccess\"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(enabled){return this._nrpnEventsEnabled=enabled,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var wm=new WebMidi;function Input(midiInput){var that=this;this._userHandlers={channel:{},system:{}},this._midiInput=midiInput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiInput.connection}},id:{enumerable:!0,get:function(){return that._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiInput.name}},state:{enumerable:!0,get:function(){return that._midiInput.state}},type:{enumerable:!0,get:function(){return that._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function Output(midiOutput){var that=this;this._midiOutput=midiOutput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiOutput.connection}},id:{enumerable:!0,get:function(){return that._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiOutput.name}},state:{enumerable:!0,get:function(){return that._midiOutput.state}},type:{enumerable:!0,get:function(){return that._midiOutput.type}}})}WebMidi.prototype.enable=function(callback,sysex){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:sysex}).then(function(midiAccess){var promiseTimeout,events=[],promises=[];this.interface=midiAccess,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){events.push(e)};for(var inputs=midiAccess.inputs.values(),input=inputs.next();input&&!input.done;input=inputs.next())promises.push(input.value.open());for(var outputs=midiAccess.outputs.values(),output=outputs.next();output&&!output.done;output=outputs.next())promises.push(output.value.open());function onPortsOpen(){clearTimeout(promiseTimeout),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),\"function\"==typeof callback&&callback.call(this),events.forEach(function(event){this._onInterfaceStateChange(event)}.bind(this))}promiseTimeout=setTimeout(onPortsOpen.bind(this),200),Promise&&Promise.all(promises).catch(function(err){}).then(onPortsOpen.bind(this))}.bind(this),function(err){\"function\"==typeof callback&&callback.call(this,err)}.bind(this)):\"function\"==typeof callback&&callback(new Error(\"The Web MIDI API is not supported by your browser.\")))},WebMidi.prototype.disable=function(){if(!this.supported)throw new Error(\"The Web MIDI API is not supported by your browser.\");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},WebMidi.prototype.addListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before adding event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");return this._userHandlers[type].push(listener),this},WebMidi.prototype.hasListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before checking event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");for(var o=0;o<this._userHandlers[type].length;o++)if(this._userHandlers[type][o]===listener)return!0;return!1},WebMidi.prototype.removeListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before removing event listeners.\");if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(0<=this._midiInterfaceEvents.indexOf(type))if(listener)for(var o=0;o<this._userHandlers[type].length;o++)this._userHandlers[type][o]===listener&&this._userHandlers[type].splice(o,1);else this._userHandlers[type]=[];else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._resetInterfaceUserHandlers()}return this},WebMidi.prototype.toMIDIChannels=function(channel){var channels;if(\"all\"===channel||void 0===channel)channels=[\"all\"];else{if(\"none\"===channel)return channels=[];channels=Array.isArray(channel)?channel:[channel]}return-1<channels.indexOf(\"all\")&&(channels=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),channels.map(function(ch){return parseInt(ch)}).filter(function(ch){return 1<=ch&&ch<=16})},WebMidi.prototype.getInputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.inputs.length;i++)if(this.inputs[i].id===id)return this.inputs[i];return!1},WebMidi.prototype.getOutputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.outputs.length;i++)if(this.outputs[i].id===id)return this.outputs[i];return!1},WebMidi.prototype.getInputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.inputs.length;i++)if(~this.inputs[i].name.indexOf(name))return this.inputs[i];return!1},WebMidi.prototype.getOctave=function(number){if(null!=number&&0<=number&&number<=127)return Math.floor(Math.floor(number)/12-1)+Math.floor(wm.octaveOffset)},WebMidi.prototype.getOutputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.outputs.length;i++)if(~this.outputs[i].name.indexOf(name))return this.outputs[i];return!1},WebMidi.prototype.guessNoteNumber=function(input){var output=!1;if(input&&input.toFixed&&0<=input&&input<=127?output=Math.round(input):0<=parseInt(input)&&parseInt(input)<=127?output=parseInt(input):(\"string\"==typeof input||input instanceof String)&&(output=this.noteNameToNumber(input)),!1===output)throw new Error(\"Invalid input value (\"+input+\").\");return output},WebMidi.prototype.noteNameToNumber=function(name){\"string\"!=typeof name&&(name=\"\");var matches=name.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\\d+)/i);if(!matches)throw new RangeError(\"Invalid note name.\");var semitones=wm._semitones[matches[1].toUpperCase()],result=12*(parseInt(matches[3])+1-Math.floor(wm.octaveOffset))+semitones;if(-1<matches[2].toLowerCase().indexOf(\"b\")?result-=matches[2].length:-1<matches[2].toLowerCase().indexOf(\"#\")&&(result+=matches[2].length),result<0||127<result)throw new RangeError(\"Invalid note name or note outside valid range.\");return result},WebMidi.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},WebMidi.prototype._updateInputs=function(){for(var i=0;i<this._inputs.length;i++){for(var remove=!0,updated=this.interface.inputs.values(),input=updated.next();input&&!input.done;input=updated.next())if(this._inputs[i]._midiInput===input.value){remove=!1;break}remove&&this._inputs.splice(i,1)}this.interface&&this.interface.inputs.forEach(function(nInput){for(var add=!0,j=0;j<this._inputs.length;j++)this._inputs[j]._midiInput===nInput&&(add=!1);add&&this._inputs.push(new Input(nInput))}.bind(this))},WebMidi.prototype._updateOutputs=function(){for(var i=0;i<this._outputs.length;i++){for(var remove=!0,updated=this.interface.outputs.values(),output=updated.next();output&&!output.done;output=updated.next())if(this._outputs[i]._midiOutput===output.value){remove=!1;break}remove&&this._outputs.splice(i,1)}this.interface&&this.interface.outputs.forEach(function(nOutput){for(var add=!0,j=0;j<this._outputs.length;j++)this._outputs[j]._midiOutput===nOutput&&(add=!1);add&&this._outputs.push(new Output(nOutput))}.bind(this))},WebMidi.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var event={timestamp:e.timeStamp,type:e.port.state};this.interface&&\"connected\"===e.port.state?\"output\"===e.port.type?event.port=this.getOutputById(e.port.id):\"input\"===e.port.type&&(event.port=this.getInputById(e.port.id)):event.port={connection:\"closed\",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach(function(handler){handler(event)})},WebMidi.prototype._resetInterfaceUserHandlers=function(){for(var i=0;i<this._midiInterfaceEvents.length;i++)this._userHandlers[this._midiInterfaceEvents[i]]=[]},Input.prototype.on=Input.prototype.addListener=function(type,channel,listener){var that=this;if(void 0===channel&&(channel=\"all\"),Array.isArray(channel)||(channel=[channel]),channel.forEach(function(item){if(\"all\"!==item&&!(1<=item&&item<=16))throw new RangeError(\"The 'channel' parameter is invalid.\")}),\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0!==wm.MIDI_SYSTEM_MESSAGES[type])this._userHandlers.system[type]||(this._userHandlers.system[type]=[]),this._userHandlers.system[type].push(listener);else{if(void 0===wm.MIDI_CHANNEL_MESSAGES[type])throw new TypeError(\"The specified event type is not supported.\");if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}this._userHandlers.channel[type]||(this._userHandlers.channel[type]=[]),channel.forEach(function(ch){that._userHandlers.channel[type][ch]||(that._userHandlers.channel[type][ch]=[]),that._userHandlers.channel[type][ch].push(listener)})}return this},Input.prototype.hasListener=function(type,channel,listener){var that=this;if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type]){for(var o=0;o<this._userHandlers.system[type].length;o++)if(this._userHandlers.system[type][o]===listener)return!0}else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}return!!this._userHandlers.channel[type]&&channel.every(function(chNum){var listeners=that._userHandlers.channel[type][chNum];return listeners&&-1<listeners.indexOf(listener)})}return!1},Input.prototype.removeListener=function(type,channel,listener){var that=this;if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type])if(void 0===listener)this._userHandlers.system[type]=[];else for(var o=0;o<this._userHandlers.system[type].length;o++)this._userHandlers.system[type][o]===listener&&this._userHandlers.system[type].splice(o,1);else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}if(!this._userHandlers.channel[type])return this;channel.forEach(function(chNum){var listeners=that._userHandlers.channel[type][chNum];if(listeners)if(void 0===listener)that._userHandlers.channel[type][chNum]=[];else for(var l=0;l<listeners.length;l++)listeners[l]===listener&&listeners.splice(l,1)})}else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._initializeUserHandlers()}return this},Input.prototype._initializeUserHandlers=function(){for(var prop1 in wm.MIDI_CHANNEL_MESSAGES)wm.MIDI_CHANNEL_MESSAGES.hasOwnProperty(prop1)&&(this._userHandlers.channel[prop1]={});for(var prop2 in wm.MIDI_SYSTEM_MESSAGES)wm.MIDI_SYSTEM_MESSAGES.hasOwnProperty(prop2)&&(this._userHandlers.system[prop2]=[])},Input.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var event={target:this,data:e.data,timestamp:e.timeStamp,type:\"midimessage\"};this._userHandlers.system.midimessage.forEach(function(callback){callback(event)})}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},Input.prototype._parseNrpnEvent=function(e){var data1,data2,command=e.data[0]>>4,channelBufferIndex=15&e.data[0],channel=1+channelBufferIndex;if(1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0),wm.nrpnEventsEnabled&&command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&(data1>=wm.MIDI_NRPN_MESSAGES.increment&&data1<=wm.MIDI_NRPN_MESSAGES.parammsb||data1===wm.MIDI_NRPN_MESSAGES.entrymsb||data1===wm.MIDI_NRPN_MESSAGES.entrylsb)){var ccEvent={target:this,type:\"controlchange\",data:e.data,timestamp:e.timeStamp,channel:channel,controller:{number:data1,name:this.getCcNameByNumber(data1)},value:data2};if(ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value!=wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex]=[],wm._nrpnBuffer[channelBufferIndex][0]=ccEvent;else if(1===wm._nrpnBuffer[channelBufferIndex].length&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(2!==wm._nrpnBuffer[channelBufferIndex].length||ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.increment&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.decrement&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.entrymsb)if(3===wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex][2].number===wm.MIDI_NRPN_MESSAGES.entrymsb&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.entrylsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(3<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=4&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(4<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=5&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter){wm._nrpnBuffer[channelBufferIndex].push(ccEvent);var rawData=[];wm._nrpnBuffer[channelBufferIndex].forEach(function(ev){rawData.push(ev.data)});var nrpnNumber=wm._nrpnBuffer[channelBufferIndex][0].value<<7|wm._nrpnBuffer[channelBufferIndex][1].value,nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value;6===wm._nrpnBuffer[channelBufferIndex].length&&(nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value<<7|wm._nrpnBuffer[channelBufferIndex][3].value);var nrpnControllerType=\"\";switch(wm._nrpnBuffer[channelBufferIndex][2].controller.number){case wm.MIDI_NRPN_MESSAGES.entrymsb:nrpnControllerType=wm._nrpnTypes[0];break;case wm.MIDI_NRPN_MESSAGES.increment:nrpnControllerType=wm._nrpnTypes[1];break;case wm.MIDI_NRPN_MESSAGES.decrement:nrpnControllerType=wm._nrpnTypes[2];break;default:throw new Error(\"The NPRN type was unidentifiable.\")}var nrpnEvent={timestamp:ccEvent.timestamp,channel:ccEvent.channel,type:\"nrpn\",data:rawData,controller:{number:nrpnNumber,type:nrpnControllerType,name:\"Non-Registered Parameter \"+nrpnNumber},value:nrpnValue};wm._nrpnBuffer[channelBufferIndex]=[],this._userHandlers.channel[nrpnEvent.type]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel].forEach(function(callback){callback(nrpnEvent)})}else wm._nrpnBuffer[channelBufferIndex]=[];else wm._nrpnBuffer[channelBufferIndex].push(ccEvent)}},Input.prototype._parseChannelEvent=function(e){var data1,data2,command=e.data[0]>>4,channel=1+(15&e.data[0]);1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0);var event={target:this,data:e.data,timestamp:e.timeStamp,channel:channel};command===wm.MIDI_CHANNEL_MESSAGES.noteoff||command===wm.MIDI_CHANNEL_MESSAGES.noteon&&0===data2?(event.type=\"noteoff\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.noteon?(event.type=\"noteon\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.keyaftertouch?(event.type=\"keyaftertouch\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.value=data2/127):command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&0<=data1&&data1<=119?(event.type=\"controlchange\",event.controller={number:data1,name:this.getCcNameByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.channelmode&&120<=data1&&data1<=127?(event.type=\"channelmode\",event.controller={number:data1,name:this.getChannelModeByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.programchange?(event.type=\"programchange\",event.value=data1):command===wm.MIDI_CHANNEL_MESSAGES.channelaftertouch?(event.type=\"channelaftertouch\",event.value=data1/127):command===wm.MIDI_CHANNEL_MESSAGES.pitchbend?(event.type=\"pitchbend\",event.value=((data2<<7)+data1-8192)/8192):event.type=\"unknownchannelmessage\",this._userHandlers.channel[event.type]&&this._userHandlers.channel[event.type][channel]&&this._userHandlers.channel[event.type][channel].forEach(function(callback){callback(event)})},Input.prototype.getCcNameByNumber=function(number){if(!(0<=(number=Math.floor(number))&&number<=119))throw new RangeError(\"The control change number must be between 0 and 119.\");for(var cc in wm.MIDI_CONTROL_CHANGE_MESSAGES)if(wm.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(cc)&&number===wm.MIDI_CONTROL_CHANGE_MESSAGES[cc])return cc},Input.prototype.getChannelModeByNumber=function(number){if(!(120<=(number=Math.floor(number))&&status<=127))throw new RangeError(\"The control change number must be between 120 and 127.\");for(var cm in wm.MIDI_CHANNEL_MODE_MESSAGES)if(wm.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(cm)&&number===wm.MIDI_CHANNEL_MODE_MESSAGES[cm])return cm},Input.prototype._parseSystemEvent=function(e){var command=e.data[0],event={target:this,data:e.data,timestamp:e.timeStamp};command===wm.MIDI_SYSTEM_MESSAGES.sysex?event.type=\"sysex\":command===wm.MIDI_SYSTEM_MESSAGES.timecode?event.type=\"timecode\":command===wm.MIDI_SYSTEM_MESSAGES.songposition?event.type=\"songposition\":command===wm.MIDI_SYSTEM_MESSAGES.songselect?(event.type=\"songselect\",event.song=e.data[1]):command===wm.MIDI_SYSTEM_MESSAGES.tuningrequest?event.type=\"tuningrequest\":command===wm.MIDI_SYSTEM_MESSAGES.clock?event.type=\"clock\":command===wm.MIDI_SYSTEM_MESSAGES.start?event.type=\"start\":command===wm.MIDI_SYSTEM_MESSAGES.continue?event.type=\"continue\":command===wm.MIDI_SYSTEM_MESSAGES.stop?event.type=\"stop\":command===wm.MIDI_SYSTEM_MESSAGES.activesensing?event.type=\"activesensing\":command===wm.MIDI_SYSTEM_MESSAGES.reset?event.type=\"reset\":event.type=\"unknownsystemmessage\",this._userHandlers.system[event.type]&&this._userHandlers.system[event.type].forEach(function(callback){callback(event)})},Output.prototype.send=function(status,data,timestamp){if(!(128<=status&&status<=255))throw new RangeError(\"The status byte must be an integer between 128 (0x80) and 255 (0xFF).\");void 0===data&&(data=[]),Array.isArray(data)||(data=[data]);var message=[];return data.forEach(function(item){var parsed=Math.floor(item);if(!(0<=parsed&&parsed<=255))throw new RangeError(\"Data bytes must be integers between 0 (0x00) and 255 (0xFF).\");message.push(parsed)}),this._midiOutput.send([status].concat(message),parseFloat(timestamp)||0),this},Output.prototype.sendSysex=function(manufacturer,data,options){if(!wm.sysexEnabled)throw new Error(\"Sysex message support must first be activated.\");return options=options||{},manufacturer=[].concat(manufacturer),data.forEach(function(item){if(item<0||127<item)throw new RangeError(\"The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).\")}),data=manufacturer.concat(data,wm.MIDI_SYSTEM_MESSAGES.sysexend),this.send(wm.MIDI_SYSTEM_MESSAGES.sysex,data,this._parseTimeParameter(options.time)),this},Output.prototype.sendTimecodeQuarterFrame=function(value,options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.timecode,value,this._parseTimeParameter(options.time)),this},Output.prototype.sendSongPosition=function(value,options){options=options||{};var msb=(value=Math.floor(value)||0)>>7&127,lsb=127&value;return this.send(wm.MIDI_SYSTEM_MESSAGES.songposition,[msb,lsb],this._parseTimeParameter(options.time)),this},Output.prototype.sendSongSelect=function(value,options){if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The song number must be between 0 and 127.\");return this.send(wm.MIDI_SYSTEM_MESSAGES.songselect,[value],this._parseTimeParameter(options.time)),this},Output.prototype.sendTuningRequest=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendClock=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStart=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendContinue=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStop=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendActiveSensing=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(options.time)),this},Output.prototype.sendReset=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.stopNote=function(note,channel,options){if(\"all\"===note)return this.sendChannelMode(\"allnotesoff\",0,channel,options);var nVelocity=64;return(options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nVelocity)],this._parseTimeParameter(options.time))}.bind(this))}.bind(this)),this},Output.prototype.playNote=function(note,channel,options){var time,nVelocity=64;if((options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),time=this._parseTimeParameter(options.time),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteon<<4)+(ch-1),[item,Math.round(nVelocity)],time)}.bind(this))}.bind(this)),!isNaN(options.duration)){options.duration<=0&&(options.duration=0);var nRelease=64;options.rawVelocity?!isNaN(options.release)&&0<=options.release&&options.release<=127&&(nRelease=options.release):!isNaN(options.release)&&0<=options.release&&options.release<=1&&(nRelease=127*options.release),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nRelease)],(time||wm.time)+options.duration)}.bind(this))}.bind(this))}return this},Output.prototype.sendKeyAftertouch=function(note,channel,pressure,options){var that=this;if(options=options||{},channel<1||16<channel)throw new RangeError(\"The channel must be between 1 and 16.\");(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(ch-1),[item,nPressure],that._parseTimeParameter(options.time))})}),this},Output.prototype.sendControlChange=function(controller,value,channel,options){if(options=options||{},\"string\"==typeof controller){if(void 0===(controller=wm.MIDI_CONTROL_CHANGE_MESSAGES[controller]))throw new TypeError(\"Invalid controller name.\")}else if(!(0<=(controller=Math.floor(controller))&&controller<=119))throw new RangeError(\"Controller numbers must be between 0 and 119.\");if(!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"Controller value must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(ch-1),[controller,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype._selectRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control65 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control64 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,parameter[0],channel,{time:time}),that.sendControlChange(100,parameter[1],channel,{time:time})}),this},Output.prototype._selectNonRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control63 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control62 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(99,parameter[0],channel,{time:time}),that.sendControlChange(98,parameter[1],channel,{time:time})}),this},Output.prototype._setCurrentRegisteredParameter=function(data,channel,time){var that=this;if((data=[].concat(data))[0]=Math.floor(data[0]),!(0<=data[0]&&data[0]<=127))throw new RangeError(\"The msb value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(6,data[0],channel,{time:time})}),data[1]=Math.floor(data[1]),0<=data[1]&&data[1]<=127&&wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(38,data[1],channel,{time:time})}),this},Output.prototype._deselectRegisteredParameter=function(channel,time){var that=this;return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,127,channel,{time:time}),that.sendControlChange(100,127,channel,{time:time})}),this},Output.prototype.setRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.setNonRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!(0<=parameter[0]&&parameter[0]<=127&&0<=parameter[1]&&parameter[1]<=127))throw new Error(\"Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.\");return data=[].concat(data),wm.toMIDIChannels(channel).forEach(function(){that._selectNonRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.incrementRegisteredParameter=function(parameter,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that.sendControlChange(96,0,channel,{time:options.time}),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.decrementRegisteredParameter=function(parameter,channel,options){if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new TypeError(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){this._selectRegisteredParameter(parameter,channel,options.time),this.sendControlChange(97,0,channel,{time:options.time}),this._deselectRegisteredParameter(channel,options.time)}.bind(this)),this},Output.prototype.setPitchBendRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"pitchbendrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setModulationRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"modulationrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setMasterTuning=function(value,channel,options){var that=this;if(options=options||{},(value=parseFloat(value)||0)<=-65||64<=value)throw new RangeError(\"The value must be a decimal number larger than -65 and smaller than 64.\");var coarse=Math.floor(value)+64,fine=value-Math.floor(value),msb=(fine=Math.round((fine+1)/2*16383))>>7&127,lsb=127&fine;return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"channelcoarsetuning\",coarse,channel,{time:options.time}),that.setRegisteredParameter(\"channelfinetuning\",[msb,lsb],channel,{time:options.time})}),this},Output.prototype.setTuningProgram=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The program value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningprogram\",value,channel,{time:options.time})}),this},Output.prototype.setTuningBank=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"The bank value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningbank\",value,channel,{time:options.time})}),this},Output.prototype.sendChannelMode=function(command,value,channel,options){if(options=options||{},\"string\"==typeof command){if(!(command=wm.MIDI_CHANNEL_MODE_MESSAGES[command]))throw new TypeError(\"Invalid channel mode message name.\")}else if(!(120<=(command=Math.floor(command))&&command<=127))throw new RangeError(\"Channel mode numerical identifiers must be between 120 and 127.\");if((value=Math.floor(value)||0)<0||127<value)throw new RangeError(\"Value must be an integer between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(ch-1),[command,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype.sendProgramChange=function(program,channel,options){var that=this;if(options=options||{},program=Math.floor(program),isNaN(program)||program<0||127<program)throw new RangeError(\"Program numbers must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.programchange<<4)+(ch-1),[program],that._parseTimeParameter(options.time))}),this},Output.prototype.sendChannelAftertouch=function(pressure,channel,options){var that=this;options=options||{},pressure=parseFloat(pressure),(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(ch-1),[nPressure],that._parseTimeParameter(options.time))}),this},Output.prototype.sendPitchBend=function(bend,channel,options){var that=this;if(options=options||{},isNaN(bend)||bend<-1||1<bend)throw new RangeError(\"Pitch bend value must be between -1 and 1.\");var nLevel=Math.round((bend+1)/2*16383),msb=nLevel>>7&127,lsb=127&nLevel;return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(ch-1),[lsb,msb],that._parseTimeParameter(options.time))}),this},Output.prototype._parseTimeParameter=function(time){var value,parsed=parseFloat(time);return\"string\"==typeof time&&\"+\"===time.substring(0,1)?parsed&&0<parsed&&(value=wm.time+parsed):parsed>wm.time&&(value=parsed),value},Output.prototype._convertNoteToArray=function(note){var notes=[];return Array.isArray(note)||(note=[note]),note.forEach(function(item){notes.push(wm.guessNoteNumber(item))}),notes},\"function\"==typeof define&&\"object\"==typeof define.amd?define([],function(){return wm}):\"undefined\"!=typeof module&&module.exports?module.exports=wm:scope.WebMidi||(scope.WebMidi=wm)}(this);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webmidi/webmidi.min.js\n// module id = 37\n// module chunks = 0","import Store from 'store/store'\n\nimport Creature from 'abstractions/Creature'\nimport Scene from 'controllers/scene'\n\nimport lerpPoint from 'utils/point-lerp'\n\nlet creature\n\nStore.seed.subscribe(spawn)\nspawn()\n\nfunction spawn () {\n  if (creature) creature.destroy()\n  creature = new Creature(Scene.anchor)\n}\n\nfunction update () {\n  const ellapsedTime = Store.raf.ellapsedTime.get()\n  const frameCount = Store.raf.frameCount.get()\n\n  creature.update({ ellapsedTime, frameCount })\n\n  Store.scene.rotation.update(rotation => {\n    // const t = Store.creature.planeLerp.get()\n    // return lerpPoint(rotation, { x: 0, y: 0, z: 0 }, t)\n    return {\n      ...rotation,\n      x: Store.creature.buildLerp.get(),\n      z: Store.creature.buildLerp.get()\n    }\n  })\n}\n\nexport default { update }\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/animation.js","import Store from 'store/store'\nimport { Anchor, Shape } from 'zdog'\n\nimport Bone from 'abstractions/Limbs/Bone'\nimport Eye from 'abstractions/Limbs/Eye'\nimport Finn from 'abstractions/Limbs/Finn'\nimport Tentacle from 'abstractions/Limbs/Tentacle'\n\nimport arrayPoints from 'utils/create-array-points'\nimport shuffle from 'utils/array-shuffle'\nimport Prng from 'utils/prng'\nimport lerpPoint from 'utils/point-lerp'\n\nexport default class Creature {\n  constructor (sceneAnchor) {\n    this.seed = Prng.seed = Store.seed.get()\n    this.anchor = new Anchor({ addTo: sceneAnchor })\n    this.anchors = this.createAnchors()\n    this.colors = shuffle([...Store.creature.colors.current], Prng.random)\n      .splice(0, Store.creature.colorsLength.get())\n    this.body = new Shape({\n      addTo: this.anchor,\n      color: 'rgba(255, 255, 255, 0.1)',\n      stroke: 100\n    })\n    this.limbs = this.render()\n  }\n\n  // Create all anchors, with a custom .positions prop so that we can lerp\n  // each anchor position from two different grid configurations (cube and plane)\n  createAnchors (length = Store.creature.anchorsLength.get()) {\n    const CUBE = arrayPoints.cube(length)\n    const PLANE = shuffle(arrayPoints.plane(length), Prng.random)\n\n    const anchors = []\n    for (let index = 0; index < length; index++) {\n      const anchor = new Anchor({ addTo: this.anchor })\n      anchor.positions = { CUBE: CUBE[index], PLANE: PLANE[index] }\n      anchor.dot = new Shape({\n        addTo: anchor,\n        color: 'white',\n        translate: { z: -0.1 },\n        path: [{ x: 0.5, y: 0.5 }, { x: -0.5, y: 0.5 }, { x: -0.5, y: -0.5 }, { x: 0.5, y: -0.5 }],\n        scale: 0\n      })\n\n      anchors.push(anchor)\n    }\n\n    anchors.forEach(anchor => {\n      anchor.cubeMirror = anchors.find(candidate => {\n        const { x, y, z } = candidate.positions.CUBE\n        return anchor.positions.CUBE.y === y &&\n          anchor.positions.CUBE.z === z &&\n          anchor.positions.CUBE.x === -x\n      })\n    })\n\n    return anchors\n  }\n\n  render () {\n    const limbs = []\n\n    // Finns\n    for (let index = 0; index < Prng.randomInt(0, 10); index++) {\n      const anchor = Prng.randomOf(this.anchors.filter(a => a.positions.CUBE.x < 1))\n      const props = {\n        color: Prng.randomOf(this.colors),\n        size: Prng.randomInt(10, 30)\n      }\n      const finn = new Finn(anchor, props)\n      limbs.push(finn)\n      limbs.push(finn.copy(anchor.cubeMirror, { dir: -1 }).flip())\n    }\n\n    // Eyes\n    for (let index = 0; index < (Prng.random() ** 2) * 3; index++) {\n      const anchor = Prng.randomOf(this.anchors.filter(a => a.positions.CUBE.z > 1))\n      const props = {\n        radius: Prng.randomInt(3, 30)\n      }\n      limbs.push(new Eye(anchor, props))\n      limbs.push(new Eye(anchor.cubeMirror, props))\n    }\n\n    // Tentacles\n    for (let index = 0; index < Prng.randomInt(3, 20); index++) {\n      const anchor = Prng.randomOf(this.anchors)\n      const props = {\n        color: Prng.randomOf(this.colors),\n        length: Prng.randomInt(10, 30),\n        weight: Prng.randomInt(1, 5)\n      }\n      const tentacle = new Tentacle(anchor, props)\n      limbs.push(tentacle)\n      limbs.push(tentacle.copy(anchor.cubeMirror).flip())\n    }\n\n    // Bones\n    for (let index = 0; index < Prng.randomInt(3, 10); index++) {\n      const anchor = Prng.randomOf(this.anchors)\n      const props = {\n        color: Prng.randomOf(this.colors),\n        length: Prng.randomInt(10, 50),\n        weight: Prng.randomInt(1, 30)\n      }\n      const bone = new Bone(anchor, props)\n      limbs.push(bone)\n      limbs.push(bone.copy(anchor.cubeMirror).flip())\n    }\n\n    return limbs\n  }\n\n  update ({ ellapsedTime, frameCount }) {\n    const [width, height] = Store.scene.dimensions.get()\n    const density = Store.creature.density.get()\n    const planeLerp = Store.creature.planeLerp.get()\n    this.anchor.scale = {\n      x: density * Store.creature.scaleX.get(),\n      y: density * Store.creature.scaleY.get(),\n      z: density\n    }\n\n    this.anchors.forEach(anchor => {\n      anchor.translate = lerpPoint(anchor.positions.CUBE, anchor.positions.PLANE, planeLerp)\n      const opacity = planeLerp ** 4\n      anchor.dot.color = `rgba(255, 255, 255, ${opacity})`\n      anchor.dot.scale = Store.creature.buildLerp.get()\n    })\n\n    { // Body\n      const opacity = 0.2 + (1 + Math.sin(ellapsedTime / 500)) * 0.05\n      const bodyFade = planeLerp ** 2\n      const maxSize = Math.max(width, height)\n      this.body.color = `rgba(255, 255, 255, ${opacity * (1 - bodyFade)})`\n      this.body.stroke = density * 4 + ((maxSize / 4) * bodyFade)\n    }\n\n    this.limbs.forEach(limb => {\n      limb.anchor.scale = !limb.flipped\n        ? 1 / density\n        : {\n          x: -1 / density,\n          y: 1 / density,\n          z: 1 / density\n        }\n\n      limb.update({ ellapsedTime, frameCount })\n    })\n  }\n\n  destroy () {\n    this.limbs.forEach(limb => limb.destroy())\n    this.body.remove()\n    this.anchors.forEach(anchor => anchor.remove())\n    this.anchor.remove()\n    delete this.anchor\n    delete this.anchors\n    delete this.body\n    delete this.limbs\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Creature.js","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/arrayWithHoles.js\n// module id = 40\n// module chunks = 0","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\n// module id = 41\n// module chunks = 0","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/nonIterableRest.js\n// module id = 42\n// module chunks = 0","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/toConsumableArray.js\n// module id = 43\n// module chunks = 0","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\n// module id = 44\n// module chunks = 0","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/iterableToArray.js\n// module id = 45\n// module chunks = 0","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@babel/runtime/helpers/nonIterableSpread.js\n// module id = 46\n// module chunks = 0","/**\n * Illustration\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./dragger') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Illustration = factory( Zdog, Zdog.Anchor, Zdog.Dragger );\n  }\n}( this, function factory( utils, Anchor, Dragger ) {\n\nfunction noop() {}\nvar TAU = utils.TAU;\n\nvar Illustration = Anchor.subclass({\n  element: undefined,\n  centered: true,\n  zoom: 1,\n  dragRotate: false,\n  resize: false,\n  onPrerender: noop,\n  onDragStart: noop,\n  onDragMove: noop,\n  onDragEnd: noop,\n  onResize: noop,\n});\n\nutils.extend( Illustration.prototype, Dragger.prototype );\n\nIllustration.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  Dragger.prototype.create.call( this, options );\n  this.setElement( this.element );\n  this.setDragRotate( this.dragRotate );\n  this.setResize( this.resize );\n};\n\nIllustration.prototype.setElement = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    throw new Error( 'Zdog.Illustration element required. Set to ' + element );\n  }\n\n  var nodeName = element.nodeName.toLowerCase();\n  if ( nodeName == 'canvas' ) {\n    this.setCanvas( element );\n  } else if ( nodeName == 'svg' ) {\n    this.setSvg( element );\n  }\n};\n\nIllustration.prototype.setSize = function( width, height ) {\n  width = Math.round( width );\n  height = Math.round( height );\n  if ( this.isCanvas ) {\n    this.setSizeCanvas( width, height );\n  } else if ( this.isSvg ) {\n    this.setSizeSvg( width, height );\n  }\n};\n\nIllustration.prototype.setResize = function( resize ) {\n  this.resize = resize;\n  // create resize event listener\n  if ( !this.resizeListener ) {\n    this.resizeListener = this.onWindowResize.bind( this );\n  }\n  // add/remove event listener\n  if ( resize ) {\n    window.addEventListener( 'resize', this.resizeListener );\n    this.onWindowResize();\n  } else {\n    window.removeEventListener( 'resize', this.resizeListener );\n  }\n};\n\n// TODO debounce this?\nIllustration.prototype.onWindowResize = function() {\n  this.setMeasuredSize();\n  this.onResize( this.width, this.height );\n};\n\nIllustration.prototype.setMeasuredSize = function() {\n  var width, height;\n  var isFullscreen = this.resize == 'fullscreen';\n  if ( isFullscreen ) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n  } else {\n    var rect = this.element.getBoundingClientRect();\n    width = rect.width;\n    height = rect.height;\n  }\n  this.setSize( width, height );\n};\n\n// ----- render ----- //\n\nIllustration.prototype.renderGraph = function( item ) {\n  if ( this.isCanvas ) {\n    this.renderGraphCanvas( item );\n  } else if ( this.isSvg ) {\n    this.renderGraphSvg( item );\n  }\n};\n\n// combo method\nIllustration.prototype.updateRenderGraph = function( item ) {\n  this.updateGraph();\n  this.renderGraph( item );\n};\n\n// ----- canvas ----- //\n\nIllustration.prototype.setCanvas = function( element ) {\n  this.element = element;\n  this.isCanvas = true;\n  // update related properties\n  this.ctx = this.element.getContext('2d');\n  // set initial size\n  this.setSizeCanvas( element.width, element.height );\n};\n\nIllustration.prototype.setSizeCanvas = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  // up-rez for hi-DPI devices\n  var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;\n  this.element.width = this.canvasWidth = width * pixelRatio;\n  this.element.height = this.canvasHeight = height * pixelRatio;\n  var needsHighPixelRatioSizing = pixelRatio > 1 && !this.resize;\n  if ( needsHighPixelRatioSizing ) {\n    this.element.style.width = width + 'px';\n    this.element.style.height = height + 'px';\n  }\n};\n\nIllustration.prototype.renderGraphCanvas = function( item ) {\n  item = item || this;\n  this.prerenderCanvas();\n  Anchor.prototype.renderGraphCanvas.call( item, this.ctx );\n  this.postrenderCanvas();\n};\n\nIllustration.prototype.prerenderCanvas = function() {\n  var ctx = this.ctx;\n  ctx.lineCap = 'round';\n  ctx.lineJoin = 'round';\n  ctx.clearRect( 0, 0, this.canvasWidth, this.canvasHeight );\n  ctx.save();\n  if ( this.centered ) {\n    var centerX = this.width/2 * this.pixelRatio;\n    var centerY = this.height/2 * this.pixelRatio;\n    ctx.translate( centerX, centerY );\n  }\n  var scale = this.pixelRatio * this.zoom;\n  ctx.scale( scale, scale );\n  this.onPrerender( ctx );\n};\n\nIllustration.prototype.postrenderCanvas = function() {\n  this.ctx.restore();\n};\n\n// ----- svg ----- //\n\nIllustration.prototype.setSvg = function( element ) {\n  this.element = element;\n  this.isSvg = true;\n  this.pixelRatio = 1;\n  // set initial size from width & height attributes\n  var width = element.getAttribute('width');\n  var height = element.getAttribute('height');\n  this.setSizeSvg( width, height );\n};\n\nIllustration.prototype.setSizeSvg = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  var viewWidth = width / this.zoom;\n  var viewHeight = height / this.zoom;\n  var viewX = this.centered ? -viewWidth/2 : 0;\n  var viewY = this.centered ? -viewHeight/2 : 0;\n  this.element.setAttribute( 'viewBox', viewX + ' ' + viewY + ' ' +\n    viewWidth + ' ' + viewHeight );\n  if ( this.resize ) {\n    // remove size attributes, let size be determined by viewbox\n    this.element.removeAttribute('width');\n    this.element.removeAttribute('height');\n  } else {\n    this.element.setAttribute( 'width', width );\n    this.element.setAttribute( 'height', height );\n  }\n};\n\nIllustration.prototype.renderGraphSvg = function( item ) {\n  item = item || this;\n  empty( this.element );\n  this.onPrerender( this.element );\n  Anchor.prototype.renderGraphSvg.call( item, this.element );\n};\n\nfunction empty( element ) {\n  while ( element.firstChild ) {\n    element.removeChild( element.firstChild );\n  }\n}\n\n// ----- drag ----- //\n\nIllustration.prototype.setDragRotate = function( item ) {\n  if ( !item ) {\n    return;\n  } else if ( item === true ) {\n    /* eslint consistent-this: \"off\" */\n    item = this;\n  }\n  this.dragRotate = item;\n\n  this.bindDrag( this.element );\n};\n\nIllustration.prototype.dragStart = function(/* event, pointer */) {\n  this.dragStartRX = this.dragRotate.rotate.x;\n  this.dragStartRY = this.dragRotate.rotate.y;\n  Dragger.prototype.dragStart.apply( this, arguments );\n};\n\nIllustration.prototype.dragMove = function( event, pointer ) {\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  var displaySize = Math.min( this.width, this.height );\n  var moveRY = moveX / displaySize * TAU;\n  var moveRX = moveY / displaySize * TAU;\n  this.dragRotate.rotate.x = this.dragStartRX - moveRX;\n  this.dragRotate.rotate.y = this.dragStartRY - moveRY;\n  Dragger.prototype.dragMove.apply( this, arguments );\n};\n\nreturn Illustration;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/illustration.js\n// module id = 47\n// module chunks = 0","/**\n * RoundedRect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.RoundedRect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar RoundedRect = Shape.subclass({\n  width: 1,\n  height: 1,\n  cornerRadius: 0.25,\n  closed: false,\n});\n\nRoundedRect.prototype.setPath = function() {\n  /* eslint\n     id-length: [ \"error\", { \"min\": 2, \"exceptions\": [ \"x\", \"y\" ] }],\n     key-spacing: \"off\" */\n  var xA = this.width / 2;\n  var yA = this.height / 2;\n  var shortSide = Math.min( xA, yA );\n  var cornerRadius = Math.min( this.cornerRadius, shortSide );\n  var xB = xA - cornerRadius;\n  var yB = yA - cornerRadius;\n  var path = [\n    // top right corner\n    { x: xB, y: -yA },\n    { arc: [\n      { x: xA, y: -yA },\n      { x: xA, y: -yB },\n    ]},\n  ];\n  // bottom right corner\n  if ( yB ) {\n    path.push({ x: xA, y: yB });\n  }\n  path.push({ arc: [\n    { x: xA, y:  yA },\n    { x: xB, y:  yA },\n  ]});\n  // bottom left corner\n  if ( xB ) {\n    path.push({ x: -xB, y: yA });\n  }\n  path.push({ arc: [\n    { x: -xA, y:  yA },\n    { x: -xA, y:  yB },\n  ]});\n  // top left corner\n  if ( yB ) {\n    path.push({ x: -xA, y: -yB });\n  }\n  path.push({ arc: [\n    { x: -xA, y: -yA },\n    { x: -xB, y: -yA },\n  ]});\n\n  // back to top right corner\n  if ( xB ) {\n    path.push({ x: xB, y: -yA });\n  }\n\n  this.path = path;\n};\n\nreturn RoundedRect;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/rounded-rect.js\n// module id = 48\n// module chunks = 0","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Polygon = factory( Zdog, Zdog.Shape );\n  }\n}( this, function factory( utils, Shape ) {\n\nvar Polygon = Shape.subclass({\n  sides: 3,\n  radius: 0.5,\n});\n\nvar TAU = utils.TAU;\n\nPolygon.prototype.setPath = function() {\n  this.path = [];\n  for ( var i=0; i < this.sides; i++ ) {\n    var theta = i/this.sides * TAU - TAU/4;\n    var x = Math.cos( theta ) * this.radius;\n    var y = Math.sin( theta ) * this.radius;\n    this.path.push({ x: x, y: y });\n  }\n};\n\nreturn Polygon;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/polygon.js\n// module id = 49\n// module chunks = 0","/**\n * Hemisphere composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Hemisphere = factory( Zdog, Zdog.Vector, Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, Anchor, Ellipse ) {\n\nvar Hemisphere = Ellipse.subclass({\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nHemisphere.prototype.create = function(/* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.diameter/2 },\n  });\n  // vector used for calculation\n  this.renderCentroid = new Vector();\n};\n\nHemisphere.prototype.updateSortValue = function() {\n  // centroid of hemisphere is 3/8 between origin and apex\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 3/8 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nHemisphere.prototype.render = function( ctx, renderer ) {\n  this.renderDome( ctx, renderer );\n  // call super\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nHemisphere.prototype.renderDome = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  var elem = this.getDomeRenderElement( ctx, renderer );\n  var contourAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x );\n  var domeRadius = this.diameter/2 * this.renderNormal.magnitude();\n  var x = this.renderOrigin.x;\n  var y = this.renderOrigin.y;\n\n  if ( renderer.isCanvas ) {\n    // canvas\n    var startAngle = contourAngle + TAU/4;\n    var endAngle = contourAngle - TAU/4;\n    ctx.beginPath();\n    ctx.arc( x, y, domeRadius, startAngle, endAngle );\n  } else if ( renderer.isSvg ) {\n    // svg\n    contourAngle = (contourAngle - TAU/4) / TAU * 360;\n    this.domeSvgElement.setAttribute( 'd', 'M ' + -domeRadius + ',0 A ' +\n        domeRadius + ',' + domeRadius + ' 0 0 1 ' + domeRadius + ',0' );\n    this.domeSvgElement.setAttribute( 'transform',\n        'translate(' + x + ',' + y + ' ) rotate(' + contourAngle + ')' );\n  }\n\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nHemisphere.prototype.getDomeRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.domeSvgElement ) {\n    // create svgElement\n    this.domeSvgElement = document.createElementNS( svgURI, 'path');\n    this.domeSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.domeSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.domeSvgElement;\n};\n\nreturn Hemisphere;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/hemisphere.js\n// module id = 50\n// module chunks = 0","/**\n * Cylinder composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'),\n        require('./path-command'), require('./shape'), require('./group'),\n        require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cylinder = factory( Zdog, Zdog.PathCommand, Zdog.Shape,\n        Zdog.Group, Zdog.Ellipse );\n  }\n}( this, function factory( utils, PathCommand, Shape, Group, Ellipse ) {\n\nfunction noop() {}\n\n// ----- CylinderGroup ----- //\n\nvar CylinderGroup = Group.subclass({\n  color: '#333',\n  updateSort: true,\n});\n\nCylinderGroup.prototype.create = function() {\n  Group.prototype.create.apply( this, arguments );\n  this.pathCommands = [\n    new PathCommand( 'move', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCylinderGroup.prototype.render = function( ctx, renderer ) {\n  this.renderCylinderSurface( ctx, renderer );\n  Group.prototype.render.apply( this, arguments );\n};\n\nCylinderGroup.prototype.renderCylinderSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  // render cylinder surface\n  var elem = this.getRenderElement( ctx, renderer );\n  var frontBase = this.frontBase;\n  var rearBase = this.rearBase;\n  var scale = frontBase.renderNormal.magnitude();\n  var strokeWidth = frontBase.diameter * scale + frontBase.getLineWidth();\n  // set path command render points\n  this.pathCommands[0].renderPoints[0].set( frontBase.renderOrigin );\n  this.pathCommands[1].renderPoints[0].set( rearBase.renderOrigin );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'butt'; // nice\n  }\n  renderer.renderPath( ctx, elem, this.pathCommands );\n  renderer.stroke( ctx, elem, true, this.color, strokeWidth );\n  renderer.end( ctx, elem );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'round'; // reset\n  }\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCylinderGroup.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path');\n  }\n  return this.svgElement;\n};\n\n// prevent double-creation in parent.copyGraph()\n// only create in Cylinder.create()\nCylinderGroup.prototype.copyGraph = noop;\n\n// ----- CylinderEllipse ----- //\n\nvar CylinderEllipse = Ellipse.subclass();\n\nCylinderEllipse.prototype.copyGraph = noop;\n\n// ----- Cylinder ----- //\n\nvar Cylinder = Shape.subclass({\n  diameter: 1,\n  length: 1,\n  frontFace: undefined,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCylinder.prototype.create = function(/* options */) {\n  // call super\n  Shape.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  // CylinderGroup to render cylinder surface then bases\n  this.group = new CylinderGroup({\n    addTo: this,\n    color: this.color,\n    visible: this.visible,\n  });\n  var baseZ = this.length/2;\n  var baseColor = this.backface || true;\n  // front outside base\n  this.frontBase = this.group.frontBase = new Ellipse({\n    addTo: this.group,\n    diameter: this.diameter,\n    translate: { z: baseZ },\n    rotate: { y: TAU/2 },\n    color: this.color,\n    stroke: this.stroke,\n    fill: this.fill,\n    backface: this.frontFace || baseColor,\n    visible: this.visible,\n  });\n  // back outside base\n  this.rearBase = this.group.rearBase = this.frontBase.copy({\n    translate: { z: -baseZ },\n    rotate: { y: 0 },\n    backface: baseColor,\n  });\n};\n\n// Cylinder shape does not render anything\nCylinder.prototype.render = function() {};\n\n// ----- set child properties ----- //\n\nvar childProperties = [ 'stroke', 'fill', 'color', 'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Cylinder.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      // set property on children\n      if ( this.frontBase ) {\n        this.frontBase[ property ] = value;\n        this.rearBase[ property ] = value;\n        this.group[ property ] = value;\n      }\n    },\n  });\n});\n\n// TODO child property setter for backface, frontBaseColor, & rearBaseColor\n\nreturn Cylinder;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/cylinder.js\n// module id = 51\n// module chunks = 0","/**\n * Cone composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cone = factory( Zdog, Zdog.Vector, Zdog.PathCommand,\n        Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor, Ellipse ) {\n\nvar Cone = Ellipse.subclass({\n  length: 1,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCone.prototype.create = function(/* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.length },\n  });\n\n  // vectors used for calculation\n  this.renderApex = new Vector();\n  this.renderCentroid = new Vector();\n  this.tangentA = new Vector();\n  this.tangentB = new Vector();\n\n  this.surfacePathCommands = [\n    new PathCommand( 'move', [ {} ] ), // points set in renderConeSurface\n    new PathCommand( 'line', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCone.prototype.updateSortValue = function() {\n  // center of cone is one third of its length\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 1/3 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nCone.prototype.render = function( ctx, renderer ) {\n  this.renderConeSurface( ctx, renderer );\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nCone.prototype.renderConeSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  this.renderApex.set( this.apex.renderOrigin )\n    .subtract( this.renderOrigin );\n\n  var scale = this.renderNormal.magnitude();\n  var apexDistance = this.renderApex.magnitude2d();\n  var normalDistance = this.renderNormal.magnitude2d();\n  // eccentricity\n  var eccenAngle = Math.acos( normalDistance / scale );\n  var eccen = Math.sin( eccenAngle );\n  var radius = this.diameter/2 * scale;\n  // does apex extend beyond eclipse of face\n  var isApexVisible = radius * eccen < apexDistance;\n  if ( !isApexVisible ) {\n    return;\n  }\n  // update tangents\n  var apexAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x ) +\n      TAU/2;\n  var projectLength = apexDistance / eccen;\n  var projectAngle = Math.acos( radius / projectLength );\n  // set tangent points\n  var tangentA = this.tangentA;\n  var tangentB = this.tangentB;\n\n  tangentA.x = Math.cos( projectAngle ) * radius * eccen;\n  tangentA.y = Math.sin( projectAngle ) * radius;\n\n  tangentB.set( this.tangentA );\n  tangentB.y *= -1;\n\n  tangentA.rotateZ( apexAngle );\n  tangentB.rotateZ( apexAngle );\n  tangentA.add( this.renderOrigin );\n  tangentB.add( this.renderOrigin );\n\n  this.setSurfaceRenderPoint( 0, tangentA );\n  this.setSurfaceRenderPoint( 1, this.apex.renderOrigin );\n  this.setSurfaceRenderPoint( 2, tangentB );\n\n  // render\n  var elem = this.getSurfaceRenderElement( ctx, renderer );\n  renderer.renderPath( ctx, elem, this.surfacePathCommands );\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCone.prototype.getSurfaceRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.surfaceSvgElement ) {\n    // create svgElement\n    this.surfaceSvgElement = document.createElementNS( svgURI, 'path');\n    this.surfaceSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.surfaceSvgElement;\n};\n\nCone.prototype.setSurfaceRenderPoint = function( index, point ) {\n  var renderPoint = this.surfacePathCommands[ index ].renderPoints[0];\n  renderPoint.set( point );\n};\n\nreturn Cone;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/cone.js\n// module id = 52\n// module chunks = 0","/**\n * Box composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./shape'), require('./rect') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Box = factory( Zdog, Zdog.Anchor, Zdog.Shape, Zdog.Rect );\n  }\n}( this, function factory( utils, Anchor, Shape, Rect ) {\n\n// ----- BoxRect ----- //\n\nvar BoxRect = Rect.subclass();\n// prevent double-creation in parent.copyGraph()\n// only create in Box.create()\nBoxRect.prototype.copyGraph = function() {};\n\n// ----- Box ----- //\n\nvar TAU = utils.TAU;\nvar faceNames = [\n  'frontFace',\n  'rearFace',\n  'leftFace',\n  'rightFace',\n  'topFace',\n  'bottomFace',\n];\n\nvar boxDefaults = utils.extend( {}, Shape.defaults );\ndelete boxDefaults.path;\nfaceNames.forEach( function( faceName ) {\n  boxDefaults[ faceName ] = true;\n});\nutils.extend( boxDefaults, {\n  width: 1,\n  height: 1,\n  depth: 1,\n  fill: true,\n});\n\nvar Box = Anchor.subclass( boxDefaults );\n\nBox.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // HACK reset fill to trigger face setter\n  this.fill = this.fill;\n};\n\nBox.prototype.updatePath = function() {\n  // reset all faces to trigger setters\n  faceNames.forEach( function( faceName ) {\n    this[ faceName ] = this[ faceName ];\n  }, this );\n};\n\nfaceNames.forEach( function( faceName ) {\n  var _faceName = '_' + faceName;\n  Object.defineProperty( Box.prototype, faceName, {\n    get: function() {\n      return this[ _faceName ];\n    },\n    set: function( value ) {\n      this[ _faceName ] = value;\n      this.setFace( faceName, value );\n    },\n  });\n});\n\nBox.prototype.setFace = function( faceName, value ) {\n  var rectProperty = faceName + 'Rect';\n  var rect = this[ rectProperty ];\n  // remove if false\n  if ( !value ) {\n    this.removeChild( rect );\n    return;\n  }\n  // update & add face\n  var options = this.getFaceOptions( faceName );\n  options.color = typeof value == 'string' ? value : this.color;\n\n  if ( rect ) {\n    // update previous\n    rect.setOptions( options );\n  } else {\n    // create new\n    rect = this[ rectProperty ] = new BoxRect( options );\n  }\n  rect.updatePath();\n  this.addChild( rect );\n};\n\nBox.prototype.getFaceOptions = function( faceName ) {\n  return {\n    frontFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: this.depth/2 },\n    },\n    rearFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: -this.depth/2 },\n      rotate: { y: TAU/2 },\n    },\n    leftFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: -this.width/2 },\n      rotate: { y: -TAU/4 },\n    },\n    rightFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: this.width/2 },\n      rotate: { y: TAU/4 },\n    },\n    topFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: -this.height/2 },\n      rotate: { x: -TAU/4 },\n    },\n    bottomFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: this.height/2 },\n      rotate: { x: TAU/4 },\n    },\n  }[ faceName ];\n};\n\n// ----- set face properties ----- //\n\nvar childProperties = [ 'color', 'stroke', 'fill', 'backface', 'front',\n  'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Box.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      faceNames.forEach( function( faceName ) {\n        var rect = this[ faceName + 'Rect' ];\n        var isFaceColor = typeof this[ faceName ] == 'string';\n        var isColorUnderwrite = property == 'color' && isFaceColor;\n        if ( rect && !isColorUnderwrite ) {\n          rect[ property ] = value;\n        }\n      }, this );\n    },\n  });\n});\n\nreturn Box;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/zdog/js/box.js\n// module id = 53\n// module chunks = 0","import Store from 'store/store'\nimport { Shape } from 'zdog'\nimport Limb from 'abstractions/Limb'\n\nimport lerpPoint from 'utils/point-lerp'\nimport Prng from 'utils/prng'\n\nexport default class Bone extends Limb {\n  render (props) {\n    this.state.initialRotation = {\n      x: (Prng.randomInt(0, 10) * Math.PI / 3) % Math.PI,\n      y: (Prng.randomInt(0, 10) * Math.PI / 3) % Math.PI,\n      z: (Prng.randomInt(0, 10) * Math.PI / 3) % Math.PI\n    }\n\n    this.refs.bone = new Shape({\n      addTo: this.anchor,\n      stroke: props.weight,\n      color: props.color,\n      path: [\n        { x: 0, y: 0 },\n        { x: props.length }\n      ],\n      closed: false,\n      rotate: this.state.initialRotation\n    })\n  }\n\n  update ({ ellapsedTime, frameCount }) {\n    const wallFactor = Store.creature.buildLerp.get()\n    this.refs.bone.scale = 1 + 1 * wallFactor ** 3\n    this.refs.bone.rotate = lerpPoint(this.state.initialRotation, { x: 0, y: Math.PI / 2, z: 0 }, wallFactor)\n    this.refs.bone.updatePath()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Limbs/Bone.js","function random(seed) {\n\tfunction _seed(s) {\n\t\tif ((seed = (s|0) % 2147483647) <= 0) {\n\t\t\tseed += 2147483646;\n\t\t}\n\t}\n\n\tfunction _nextInt() {\n\t\treturn seed = seed * 48271 % 2147483647;\n\t}\n\n\tfunction _nextFloat() {\n\t\treturn (_nextInt() - 1) / 2147483646;\n\t}\n\n\t_seed(seed);\n\n\treturn {\n\t\tseed: _seed,\n\t\tnextInt: _nextInt,\n\t\tnextFloat: _nextFloat\n\t};\n}\n\nmodule.exports = random;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fast-random/index.js\n// module id = 55\n// module chunks = 0","export default (arr, rng = Math.random) => arr[Math.floor(rng() * arr.length)]\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/array-random.js","import { Shape } from 'zdog'\nimport Limb from 'abstractions/Limb'\nimport Prng from 'utils/prng'\n\nexport default class Eye extends Limb {\n  render (props) {\n    this.timeScale = Prng.random()\n\n    this.refs.globe = new Shape({\n      addTo: this.anchor,\n      stroke: props.radius,\n      color: 'black'\n    })\n\n    this.refs.pupil = new Shape({\n      addTo: this.refs.globe,\n      color: 'white',\n      stroke: props.radius * 0.3,\n      translate: { z: props.radius / 2 },\n      rotate: { z: Prng.random() }\n    })\n  }\n\n  update ({ ellapsedTime, frameCount }) {\n    this.anchor.rotate.x = Math.sin(this.timeScale * ellapsedTime / 500)\n    this.anchor.rotate.y = Math.sin(this.timeScale * ellapsedTime / 500)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Limbs/Eye.js","import Store from 'store/store'\nimport { Shape } from 'zdog'\nimport Limb from 'abstractions/Limb'\nimport Prng from 'utils/prng'\n\nexport default class Finn extends Limb {\n  render (props) {\n    this.refs.finn = new Shape({\n      addTo: this.anchor,\n      color: props.color,\n      stroke: 4,\n      path: [\n        { x: 0, z: -props.size / 2 },\n        { x: -props.size, z: 0 },\n        { x: 0, z: props.size / 2 }\n      ],\n      closed: true,\n      fill: true,\n      rotate: {\n        x: Prng.random(),\n        y: Prng.random()\n      },\n      scale: {\n        x: Prng.random(),\n        z: Prng.random()\n      }\n    })\n  }\n\n  update ({ ellapsedTime, frameCount }) {\n    const amp = 1 - Store.creature.planeLerp.get()\n    this.anchor.rotate.z = Math.sin((this.props.dir || 1) * ellapsedTime / 500) * amp\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Limbs/Finn.js","import Store from 'store/store'\nimport { Shape } from 'zdog'\nimport Limb from 'abstractions/Limb'\n\nimport lerpPoint from 'utils/point-lerp'\nimport Prng from 'utils/prng'\n\nexport default class Tentacle extends Limb {\n  render (props) {\n    this.state.speed = Prng.random()\n\n    this.state.initialRotation = {\n      x: Prng.randomFloat(0, Math.PI),\n      y: Prng.randomFloat(0, Math.PI),\n      z: Prng.randomFloat(0, Math.PI)\n    }\n\n    this.state.initialBezier = [\n      { x: props.length / 2, y: -props.length },\n      { x: props.length / 2, y: props.length },\n      { x: props.length, y: props.length }\n    ]\n\n    this.refs.tentacle = new Shape({\n      addTo: this.anchor,\n      stroke: props.weight,\n      color: props.color,\n      path: [\n        { x: 0, y: 0 },\n        {\n          bezier: this.state.initialBezier\n        }\n      ],\n      closed: false,\n      rotate: this.state.initialRotation\n    })\n  }\n\n  update ({ ellapsedTime, frameCount }) {\n    const amp = 1 - Store.creature.planeLerp.get()\n    const wallFactor = Store.creature.buildLerp.get()\n\n    this.refs.tentacle.path[1].bezier[0].y = this.props.length / 2 * Math.sin(this.state.speed * ellapsedTime / 100) * amp\n    this.refs.tentacle.path[1].bezier[0].z = this.props.length / 2 * Math.cos(this.state.speed * ellapsedTime / 100) * amp\n    this.refs.tentacle.path[1].bezier[2].x = this.props.length * Math.cos(this.state.speed * ellapsedTime / 100) * amp\n\n    this.refs.tentacle.rotate = lerpPoint(this.state.initialRotation, { x: Math.PI / 2, y: 0, z: 0 }, wallFactor)\n\n    this.refs.tentacle.path[1] = {\n      bezier: [\n        lerpPoint(this.state.initialBezier[0], { x: 0, y: 0, z: 0 }, wallFactor),\n        lerpPoint(this.state.initialBezier[1], { x: 0, y: 20, z: 0 }, wallFactor),\n        lerpPoint(this.state.initialBezier[2], { x: 0, y: 20, z: 0 }, wallFactor)\n      ]\n    }\n\n    this.refs.tentacle.updatePath()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstractions/Limbs/Tentacle.js","const point = (x, y, z = 0) => ({ x, y, z })\n\nexport default {\n  cube: length => {\n    const points = []\n    const size = Math.cbrt(length)\n    for (let z = 0; z < size; z++) {\n      for (let y = 0; y < size; y++) {\n        for (let x = 0; x < size; x++) {\n          points.push(point(\n            x - (size - 1) / 2,\n            y - (size - 1) / 2,\n            z - (size - 1) / 2\n          ))\n        }\n      }\n    }\n    return points\n  },\n\n  plane: length => {\n    const points = []\n    const size = Math.sqrt(length)\n    for (let y = 0; y < size; y++) {\n      for (let x = 0; x < size; x++) {\n        points.push(point(x - (size - 1) / 2, y - (size - 1) / 2))\n      }\n    }\n    return points\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/create-array-points.js","export default (a, prng = Math.random) => {\n  var j, x, i\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(prng() * (i + 1))\n    x = a[i]\n    a[i] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/array-shuffle.js","import Store from 'store/store'\nimport raf from '@internet/raf'\n\n// SEE https://answers.unity.com/questions/64331/accurate-frames-per-second-count.html\nconst fps = {\n  updateRate: 4,\n  frameCount: 0,\n  ellapsedTime: 0,\n  compute: function (dt) {\n    this.frameCount++\n    this.ellapsedTime += dt / 1000\n    if (this.ellapsedTime > 1 / this.updateRate) {\n      this._value = this.frameCount / this.ellapsedTime\n      this.frameCount = 0\n      this.ellapsedTime -= 1 / this.updateRate\n    }\n    return this._value || 0\n  }\n}\n\nraf.addBefore(dt => {\n  Store.raf.ellapsedTime.update(t => t + dt)\n  Store.raf.frameCount.update(v => v + 1)\n  Store.raf.fps.set(fps.compute(dt))\n})\n\nStore.raf.isRunning.subscribe(isRunning => isRunning ? raf.start() : raf.stop())\n\nexport default raf\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/raf.js","import RafTimer from './RafTimer.js'\nimport fpsLimiter from './fpsLimiter.js'\nimport raf from './raf.js'\n\nexport { RafTimer, fpsLimiter, raf }\nexport default raf\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@internet/raf/lib/index.js\n// module id = 63\n// module chunks = 0","'use strict'\n\n/**\n * Create a new RafTimer instance.\n * @class RafTimer\n * @param {number} delay Number of milliseconds before executing the callback.\n * @param {Function} cb Callback function executed when the timer hit 0. For convenience, a restart method will be passed as 1st arg of the cb function.\n * @param {boolean} [autostart=true] Optional (default true). Auto-start the timer (Don't need to call start() method).\n * @constructor\n * @example\n * import { raf, RafTimer } from '@internet/raf'\n *\n * const timer = new RafTimer(2000, restart => {\n *   console.log('Will be logged after 2000ms')\n *   restart() // Restart the timer. onDone will be called after another 2000ms.\n * })\n *\n * raf.add(dt => timer.update(dt))\n */\n\nfunction RafTimer (delay, cb, autostart) {\n  if (autostart === void 0) autostart = true\n\n  this._stopped = !autostart\n  this._remainder = 0\n  this._delay = delay | 0\n  this._remainingTime = delay\n  this._callback = cb === undefined ? function () {} : cb\n\n  // fast binding\n  var restart = this.restart\n  var self = this\n  this.restart = function (n, u) { restart.call(self, n, u) }\n\n  if (this._delay === 0) this._stopped = true\n}\n\n/**\n * Set a new callback function.\n * @method\n * @param {function} newCallback New callback function. For convenience, a restart method will be passed as 1st arg of the cb function.\n * @param {number} [newDelay] Optional. Set a new delay (in ms). If set, the timer will be restarted\n */\nRafTimer.prototype.setCallback = function setCallback (newCallback, newDelay) {\n  this._callback = newCallback === undefined ? function () {} : newCallback\n  if (newDelay) this.restart(newDelay)\n}\n\n/**\n * Stop the timer. update() calls will do nothing.\n * @method\n */\nRafTimer.prototype.stop = function stop () {\n  this._stopped = true\n}\n\n/**\n * Start the timer if stopped.\n * @method\n */\nRafTimer.prototype.start = function start () {\n  if (!this._stopped) return\n  this.restart()\n}\n\n/**\n * Restart the timer\n * @method\n * @param {number} newDelay\n * @param {boolean} [useRemainder=true] Optional (default true). Use deltatime's remainder from the last time the timer hits 0.\n */\nRafTimer.prototype.restart = function restart (newDelay, useRemainder) {\n  if (useRemainder === void 0) useRemainder = true\n\n  if (newDelay !== undefined) this._delay = newDelay\n  this._stopped = false\n  this._remainingTime = this._delay - (this._remainder * (+useRemainder))\n}\n\n/**\n * Update remaining time. Usually executed inside a requestAnimationFrame call.\n * @method\n * @param {number} dt Time elapsed since the last call (in ms).\n */\nRafTimer.prototype.update = function update (dt) {\n  if (this._stopped) return\n  this._remainingTime -= dt\n  if (this._remainingTime <= 0) {\n    this._stopped = true\n    this._remainder = (-this._remainingTime) % this._delay\n    this._callback(this.restart)\n  } else {\n    this._remainder = 0\n  }\n}\n\n/**\n * Stop the timer and remove callback reference\n * @method\n */\nRafTimer.prototype.dispose = function dispose () {\n  this._callback = this.restart = function () {}\n  this._stopped = true\n  this._remainder = 0\n  this._remainingTime = this._delay\n}\n\nexport default RafTimer\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@internet/raf/lib/RafTimer.js\n// module id = 64\n// module chunks = 0","'use strict'\n\n/**\n * Core of the raf package\n * @module raf\n * @type {Object}\n * @example\n * import { raf } from '@internet/raf'\n *\n * function tick (dt) {\n *  console.log('called on new frame')\n * }\n *\n * raf.add(tick)\n */\n\nvar root = typeof window === 'undefined' ? global : window\nvar _observers = []\nvar _afterObservers = []\nvar _beforeObservers = []\nvar _rafHandler = null\nvar _lastDate = null\nvar _once = false\nvar _complex = false\n\n/**\n * Time elapsed between the previous and the current frame\n * @type {number}\n * @static\n * @category properties\n */\nvar time\n\n/**\n * Current delta time\n * @type {number}\n * @static\n * @category properties\n */\nvar dt\n\nfunction _frame (timestamp) {\n  // compute deltatime and time\n  if (timestamp === void 0) timestamp = 0\n  if (_lastDate === null) _lastDate = timestamp\n  dt = timestamp - _lastDate\n  time += dt\n  _lastDate = timestamp\n  // we request the frame now, allowing to cancel it from observers\n  _rafHandler = _once ? null : root.requestAnimationFrame(_frame)\n  if (_once) _once = false\n  // call all observers\n  var i\n  if (_complex) {\n    for (i = 0; i < _beforeObservers.length; i++) _beforeObservers[i](dt)\n    for (i = 0; i < _observers.length; i++) _observers[i](dt)\n    for (i = 0; i < _afterObservers.length; i++) _afterObservers[i](dt)\n  } else {\n    for (i = 0; i < _observers.length; i++) _observers[i](dt)\n  }\n}\n\nfunction _swapRunner () {\n  _complex = !!(_afterObservers.length > 0 || _beforeObservers.length > 0)\n}\n\nfunction _addObserver (arr, fn, prepend) {\n  if (!fn || !arr) return false\n  if (~arr.indexOf(fn)) return false\n  prepend = !!prepend\n  prepend ? arr.unshift(fn) : arr.push(fn)\n  return true\n}\n\nfunction _removeObserver (arr, fn) {\n  if (!fn) return false\n  var index = arr.indexOf(fn)\n  if (!~index) return false\n  arr.splice(index, 1)\n  return !!(arr.length === 0)\n}\n\n/**\n * Add a function for execution at the beginning of the raf call\n * Calling addBefore will not start the raf.\n * @param {function} fn Function to be called at the start of the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction addBefore (fn, prepend) {\n  _addObserver(_beforeObservers, fn, prepend) && _swapRunner()\n}\n\n/**\n * Add a function for execution at the end of the raf call\n * Calling addAfter will not start the raf.\n * @param {function} fn Function to be called at the end of the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction addAfter (fn, prepend) {\n  _addObserver(_afterObservers, fn, prepend) && _swapRunner()\n}\n\n/**\n * Add a function for execution on each frame\n * @param {function} fn Function to be called\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction add (fn, prepend) {\n  _addObserver(_observers, fn, prepend) && start()\n}\n\n/**\n * Remove a function for execution at the beginning of the raf call\n * Calling removeBefore will not stop the raf.\n * @param {function} fn Function to remove from the raf\n * @static\n * @category methods\n */\nfunction removeBefore (fn) {\n  _removeObserver(_beforeObservers, fn) && _swapRunner()\n}\n\n/**\n * Remove a function for execution at the end of the raf call\n * Calling removeAfter will not stop the raf.\n * @param {function} fn Function to remove from the raf\n * @param {function} [prepend=false] Prepend the function to the beginning of the functions list\n * @static\n * @category methods\n */\nfunction removeAfter (fn, prepend) {\n  _removeObserver(_afterObservers, fn) && _swapRunner()\n}\n\n/**\n * Remove a function for execution on each frame\n * @param {function} fn Function to remove from the raf\n * @static\n * @category methods\n */\nfunction remove (fn) {\n  _removeObserver(_observers, fn) && stop()\n}\n\n/**\n * Force start the raf. You usually don't need to use it.\n * @param {boolean} [instant=false] Directly make a raf call without waiting for the next frame (default false)\n * @static\n * @category methods\n */\nfunction start (instant) {\n  _once = false\n  if (_rafHandler) return\n  instant = !!instant\n  _lastDate = null\n  if (instant) _frame()\n  else _rafHandler = root.requestAnimationFrame(_frame)\n}\n\n/**\n * Request once the raf. Will not be executed if the raf is already running.\n * @static\n * @category methods\n */\nfunction requestOnce () {\n  if (_rafHandler) return\n  _once = true\n  _lastDate = null\n  _rafHandler = root.requestAnimationFrame(_frame)\n}\n\n/**\n * Force stop the raf. You usually don't need to use it.\n * @static\n * @category methods\n */\nfunction stop () {\n  if (!_rafHandler) return\n  root.cancelAnimationFrame(_rafHandler)\n  _rafHandler = null\n}\n\n/**\n * Remove all observers from the raf singleton and stop the raf if it's running. Reset time.\n * @static\n * @category methods\n */\nfunction dispose () {\n  stop()\n  _observers.length = 0\n  _afterObservers.length = 0\n  _beforeObservers.length = 0\n  _complex = false\n  _lastDate = null\n  time = 0\n  dt = 0\n}\n\nexport default {\n  add: add,\n  addAfter: addAfter,\n  addBefore: addBefore,\n  remove: remove,\n  removeAfter: removeAfter,\n  removeBefore: removeBefore,\n  start: start,\n  stop: stop,\n  time: time,\n  dt: dt,\n  requestOnce: requestOnce,\n  dispose: dispose\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@internet/raf/lib/raf.js\n// module id = 66\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 67\n// module chunks = 0"],"sourceRoot":""}