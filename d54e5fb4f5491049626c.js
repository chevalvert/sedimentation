!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/sedimentation/",e(e.s=28)}([function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=n():e.Zdog=n()}(this,function(){var t={};t.TAU=2*Math.PI,t.extend=function(t,e){for(var n in e)t[n]=e[n];return t},t.lerp=function(t,e,n){return(e-t)*n+t},t.modulo=function(t,e){return(t%e+e)%e};var e={2:function(t){return t*t},3:function(t){return t*t*t},4:function(t){return t*t*t*t},5:function(t){return t*t*t*t*t}};return t.easeInOut=function(t,n){if(1==n)return t;t=Math.max(0,Math.min(1,t));var r=t<.5,i=r?t:1-t;i/=.5;var o=e[n]||e[2],s=o(i);return s/=2,r?s:1-s},t})},function(t,e,n){"use strict";var r=n(30),i={seed:Object(r.b)(Date.now()),creature:{debug:Object(r.b)(!1),anchorsLength:Object(r.a)(64),colorsLength:Object(r.a)(2),colors:Object(r.a)(["#369378","#e8322d","#6bedad","#218bfc","#7264c7","#fff713","#805c00","#94b4e3","#80fc73","#ff7a0f","#a8a2f5","#7de624","#9dd073","#d2203e","#ff3bd3","#3937a6","#df9d13","#e65cb9","#f9a923","#57f893","#f9d921","#cbd3ac"]),density:Object(r.b)(20),scaleX:Object(r.b)(1),scaleY:Object(r.b)(1),planeLerp:Object(r.b)(1),buildLerp:Object(r.b)(0)},raf:{isRunning:Object(r.b)(!1),ellapsedTime:Object(r.b)(0),frameCount:Object(r.b)(0),fps:Object(r.b)(0)},scene:{debug:Object(r.b)(!0),zoom:Object(r.b)(4),rotation:Object(r.b)({x:0,y:0,z:0}),dimensions:Object(r.b)([0,0])},midi:{debug:Object(r.b)(!1),ready:Object(r.b)(!1),input:Object(r.a)("nanoKONTROL2 SLIDER/KNOB")}};window.Store=i,e.a=i},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r},function(t,e,n){var r,i,o;!function(s,a){"object"==typeof t&&t.exports?t.exports=function(t,e,n,r,i,o,s,a,h,u,c,p,f,l,d,m,y,v){return t.CanvasRenderer=e,t.SvgRenderer=n,t.Vector=r,t.Anchor=i,t.Dragger=o,t.Illustration=s,t.PathCommand=a,t.Shape=h,t.Group=u,t.Rect=c,t.RoundedRect=p,t.Ellipse=f,t.Polygon=l,t.Hemisphere=d,t.Cylinder=m,t.Cone=y,t.Box=v,t}(n(0),n(22),n(23),n(10),n(5),n(24),n(47),n(12),n(6),n(25),n(26),n(48),n(13),n(49),n(50),n(51),n(52),n(53)):(i=[],r=s.Zdog,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o))}(this)},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(10),n(22),n(23));else{var i=e.Zdog;i.Anchor=r(i,i.Vector,i.CanvasRenderer,i.SvgRenderer)}}(this,function(t,e,n,r){function i(t){this.create(t||{})}function o(e){return function(n){function r(t){this.create(t||{})}return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.defaults=t.extend({},e.defaults),t.extend(r.defaults,n),r.optionKeys=e.optionKeys.slice(0),Object.keys(r.defaults).forEach(function(t){1!=!r.optionKeys.indexOf(t)&&r.optionKeys.push(t)}),r.subclass=o(r),r}}var s=t.TAU,a={x:1,y:1,z:1};return i.prototype.create=function(n){this.children=[],t.extend(this,this.constructor.defaults),this.setOptions(n),this.translate=new e(n.translate),this.rotate=new e(n.rotate),this.scale=new e(a).multiply(this.scale),this.origin=new e,this.renderOrigin=new e,this.addTo&&this.addTo.addChild(this)},i.defaults={},i.optionKeys=Object.keys(i.defaults).concat(["rotate","translate","scale","addTo"]),i.prototype.setOptions=function(t){var e=this.constructor.optionKeys;for(var n in t)-1!=e.indexOf(n)&&(this[n]=t[n])},i.prototype.addChild=function(t){-1==this.children.indexOf(t)&&(t.remove(),t.addTo=this,this.children.push(t))},i.prototype.removeChild=function(t){var e=this.children.indexOf(t);-1!=e&&this.children.splice(e,1)},i.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},i.prototype.update=function(){this.reset(),this.children.forEach(function(t){t.update()}),this.transform(this.translate,this.rotate,this.scale)},i.prototype.reset=function(){this.renderOrigin.set(this.origin)},i.prototype.transform=function(t,e,n){this.renderOrigin.transform(t,e,n),this.children.forEach(function(r){r.transform(t,e,n)})},i.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(t){t.updateSortValue()}),this.flatGraph.sort(i.shapeSorter)},i.shapeSorter=function(t,e){return t.sortValue-e.sortValue},Object.defineProperty(i.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(t){this._flatGraph=t}}),i.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},i.prototype.getFlatGraph=function(){var t=[this];return this.addChildFlatGraph(t)},i.prototype.addChildFlatGraph=function(t){return this.children.forEach(function(e){var n=e.getFlatGraph();Array.prototype.push.apply(t,n)}),t},i.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},i.prototype.render=function(){},i.prototype.renderGraphCanvas=function(t){if(!t)throw new Error("ctx is "+t+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(e){e.render(t,n)})},i.prototype.renderGraphSvg=function(t){if(!t)throw new Error("svg is "+t+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(e){e.render(t,r)})},i.prototype.copy=function(e){var n={};return this.constructor.optionKeys.forEach(function(t){n[t]=this[t]},this),t.extend(n,e),new(0,this.constructor)(n)},i.prototype.copyGraph=function(t){var e=this.copy(t);return this.children.forEach(function(t){t.copyGraph({addTo:e})}),e},i.prototype.normalizeRotate=function(){this.rotate.x=t.modulo(this.rotate.x,s),this.rotate.y=t.modulo(this.rotate.y,s),this.rotate.z=t.modulo(this.rotate.z,s)},i.subclass=o(i),i})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(10),n(12),n(5));else{var i=e.Zdog;i.Shape=r(i,i.Vector,i.PathCommand,i.Anchor)}}(this,function(t,e,n,r){var i=r.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});i.prototype.create=function(t){r.prototype.create.call(this,t),this.updatePath(),this.front=new e(t.front||this.front),this.renderFront=new e(this.front),this.renderNormal=new e};var o=["move","line","bezier","arc"];i.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},i.prototype.setPath=function(){},i.prototype.updatePathCommands=function(){var t;this.pathCommands=this.path.map(function(e,r){var i=Object.keys(e),s=i[0],a=e[s];1==i.length&&-1!=o.indexOf(s)||(s="line",a=e);var h="line"==s||"move"==s,u=Array.isArray(a);h&&!u&&(a=[a]),s=0===r?"move":s;var c=new n(s,a,t);return t=c.endRenderPoint,c})},i.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(t){t.reset()})},i.prototype.transform=function(t,e,n){this.renderOrigin.transform(t,e,n),this.renderFront.transform(t,e,n),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(r){r.transform(t,e,n)}),this.children.forEach(function(r){r.transform(t,e,n)})},i.prototype.updateSortValue=function(){var t=this.pathCommands.length,e=this.pathCommands[0].endRenderPoint,n=this.pathCommands[t-1].endRenderPoint;t>2&&e.isSame(n)&&(t-=1);for(var r=0,i=0;i<t;i++)r+=this.pathCommands[i].endRenderPoint.z;this.sortValue=r/t},i.prototype.render=function(t,e){var n=this.pathCommands.length;if(this.visible&&n&&(this.isFacingBack=this.renderNormal.z>0,this.backface||!this.isFacingBack)){if(!e)throw new Error("Zdog renderer required. Set to "+e);var r=1==n;e.isCanvas&&r?this.renderCanvasDot(t,e):this.renderPath(t,e)}};var s=t.TAU;i.prototype.renderCanvasDot=function(t){var e=this.getLineWidth();if(e){t.fillStyle=this.getRenderColor();var n=this.pathCommands[0].endRenderPoint;t.beginPath();var r=e/2;t.arc(n.x,n.y,r,0,s),t.fill()}},i.prototype.getLineWidth=function(){return this.stroke?1==this.stroke?1:this.stroke:0},i.prototype.getRenderColor=function(){return"string"==typeof this.backface&&this.isFacingBack?this.backface:this.color},i.prototype.renderPath=function(t,e){var n=this.getRenderElement(t,e),r=2==this.pathCommands.length&&"line"==this.pathCommands[1].method,i=!r&&this.closed,o=this.getRenderColor();e.renderPath(t,n,this.pathCommands,i),e.stroke(t,n,this.stroke,o,this.getLineWidth()),e.fill(t,n,this.fill,o),e.end(t,n)};return i.prototype.getRenderElement=function(t,e){if(e.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},i})},function(t,e,n){function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?o(t):e}var i=n(31),o=n(32);t.exports=r},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}var i=n(33);t.exports=r},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0));else{var i=e.Zdog;i.Vector=r(i)}}(this,function(t){function e(t){this.set(t)}function n(t,e,n,r){if(e&&e%i!=0){var o=Math.cos(e),s=Math.sin(e),a=t[n],h=t[r];t[n]=a*o-h*s,t[r]=h*o+a*s}}function r(t){return Math.abs(t-1)<1e-8?1:Math.sqrt(t)}var i=t.TAU;return e.prototype.set=function(t){return this.x=t&&t.x||0,this.y=t&&t.y||0,this.z=t&&t.z||0,this},e.prototype.write=function(t){return t?(this.x=void 0!=t.x?t.x:this.x,this.y=void 0!=t.y?t.y:this.y,this.z=void 0!=t.z?t.z:this.z,this):this},e.prototype.rotate=function(t){if(t)return this.rotateZ(t.z),this.rotateY(t.y),this.rotateX(t.x),this},e.prototype.rotateZ=function(t){n(this,t,"x","y")},e.prototype.rotateX=function(t){n(this,t,"y","z")},e.prototype.rotateY=function(t){n(this,t,"x","z")},e.prototype.isSame=function(t){return!!t&&(this.x===t.x&&this.y===t.y&&this.z===t.z)},e.prototype.add=function(t){return t?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0,this):this},e.prototype.subtract=function(t){return t?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0,this):this},e.prototype.multiply=function(t){return void 0==t?this:("number"==typeof t?(this.x*=t,this.y*=t,this.z*=t):(this.x*=void 0!=t.x?t.x:1,this.y*=void 0!=t.y?t.y:1,this.z*=void 0!=t.z?t.z:1),this)},e.prototype.transform=function(t,e,n){return this.multiply(n),this.rotate(e),this.add(t),this},e.prototype.lerp=function(e,n){return this.x=t.lerp(this.x,e.x||0,n),this.y=t.lerp(this.y,e.y||0,n),this.z=t.lerp(this.z,e.z||0,n),this},e.prototype.magnitude=function(){return r(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.magnitude2d=function(){return r(this.x*this.x+this.y*this.y)},e.prototype.copy=function(){return new e(this)},e})},function(t,e,n){"use strict";var r=n(55),i=n.n(r),o=n(56),s=Date.now(),a=i()(s);e.a={set seed(t){s=t,a=i()(s)},get seed(){return s},reset:function(){a=i()(s)},random:function(){return a.nextFloat()},randomOf:function(t){return Object(o.a)(t,a.nextFloat)},randomFloat:function(t,e){return a.nextFloat()*(e-t)+t},randomInt:function(t,e){return Math.floor(a.nextFloat()*(e-t)+t)}}},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(10));else{var i=e.Zdog;i.PathCommand=r(i.Vector)}}(this,function(t){function e(e,i,o){this.method=e,this.points=i.map(n),this.renderPoints=i.map(r),this.previousPoint=o,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],"arc"==e&&(this.controlPoints=[new t,new t])}function n(e){return e instanceof t?e:new t(e)}function r(e){return new t(e)}e.prototype.reset=function(){var t=this.points;this.renderPoints.forEach(function(e,n){var r=t[n];e.set(r)})},e.prototype.transform=function(t,e,n){this.renderPoints.forEach(function(r){r.transform(t,e,n)})},e.prototype.render=function(t,e,n){return this[this.method](t,e,n)},e.prototype.move=function(t,e,n){return n.move(t,e,this.renderPoints[0])},e.prototype.line=function(t,e,n){return n.line(t,e,this.renderPoints[0])},e.prototype.bezier=function(t,e,n){var r=this.renderPoints[0],i=this.renderPoints[1],o=this.renderPoints[2];return n.bezier(t,e,r,i,o)};return e.prototype.arc=function(t,e,n){var r=this.previousPoint,i=this.renderPoints[0],o=this.renderPoints[1],s=this.controlPoints[0],a=this.controlPoints[1];return s.set(r).lerp(i,9/16),a.set(o).lerp(i,9/16),n.bezier(t,e,s,a,o)},e})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(6));else{var i=e.Zdog;i.Ellipse=r(i.Shape)}}(this,function(t){var e=t.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return e.prototype.setPath=function(){var t=void 0!=this.width?this.width:this.diameter,e=void 0!=this.height?this.height:this.diameter,n=t/2,r=e/2;this.path=[{x:0,y:-r},{arc:[{x:n,y:-r},{x:n,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:n,y:r},{x:0,y:r}]}),this.quarters>2&&this.path.push({arc:[{x:-n,y:r},{x:-n,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-n,y:-r},{x:0,y:-r}]})},e})},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}n.d(e,"a",function(){return d});var o=n(17),s=n.n(o),a=n(16),h=n.n(a),u=n(2),c=n.n(u),p=n(3),f=n.n(p),l=n(4),d=(n.n(l),function(){function t(e,n){c()(this,t),this.anchor=new l.Anchor({addTo:e}),this.props=n,this.refs={},this.state={},this.render(n)}return f()(t,null,[{key:"Shape",value:function(e,n){var r=new t(e,n);return r.refs.shape=new l.Shape(i({addTo:r.anchor},n)),r}}]),f()(t,[{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return n.anchor=new l.Anchor({addTo:t}),n.props=e,n.refs={},Object.entries(this.refs).forEach(function(t){var r=s()(t,2),o=r[0],a=r[1];n.refs[o]=a.copy(i({addTo:n.anchor},e))}),n.clonedFrom=this,n}},{key:"flip",value:function(){return this.flipped=!this.flipped,this}},{key:"destroy",value:function(){Object.values(this.refs).forEach(function(t){return t.remove()}),this.anchor.remove()}},{key:"visible",get:function(){return this.anchor.visible},set:function(t){Object.values(this.refs).forEach(function(e){e.visible=t})}}]),t}())},function(t,e,n){"use strict";var r=n(21);e.a=function(t,e,n){return{x:Object(r.a)(t.x,e.x,n),y:Object(r.a)(t.y,e.y,n),z:Object(r.a)(t.z,e.z,n)}}},function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n},function(t,e,n){function r(t,e){return i(t)||o(t,e)||s()}var i=n(40),o=n(41),s=n(42);t.exports=r},function(t,e,n){"use strict";function r(t){return new m(t)}n.d(e,"a",function(){return m}),e.b=r;var i=n(2),o=n.n(i),s=n(3),a=n.n(s),h=n(7),u=n.n(h),c=n(8),p=n.n(c),f=n(9),l=n.n(f),d=n(19),m=function(t){function e(t){var n;return o()(this,e),n=u()(this,p()(e).call(this)),n.current=t,n}return l()(e,t),a()(e,[{key:"set",value:function(){throw new Error("Cannot set a different value for a Readable Signal. Use Writable instead")}},{key:"get",value:function(){return this.current}}]),e}(d.a)},function(t,e,n){"use strict";function r(t,e,n,r){this.fn=e,this.ctx=n||null,this.owner=t,this.once=!!r}function i(t,e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.ctx=e.fn=e.owner=null,e===t._first&&(t._first=e.next),e===t._last&&(t._last=e.prev)}n.d(e,"a",function(){return u});var o=n(2),s=n.n(o),a=n(3),h=n.n(a),u=function(){function t(){s()(this,t),this._first=this._last=null}return h()(t,[{key:"dispatch",value:function(t,e,n,r,i){for(var o=this._first;o;)o.fn.call(o.ctx,t,e,n,r,i),o.once&&this.unsubscribe(o),o=o.next}},{key:"subscribe",value:function(t,e,n){var i=new r(this,t,e,n);return this._first?(this._last.next=i,i.prev=this._last,this._last=i):(this._first=i,this._last=i),i}},{key:"subscribeOnce",value:function(t,e){return this.subscribe(t,e,!0)}},{key:"unsubscribe",value:function(t,e){if(t instanceof r)return i(this,t);e||(e=null);for(var n=this._first;n;)n.fn===t&&n.ctx===e&&i(this,n),n=n.next}},{key:"unsubscribeAll",value:function(){var t=this._first;for(this._first=this._last=null;t;)i(this,t),t=t.next}}]),t}()},function(t,e,n){"use strict";function r(t){return new m(t)}n.d(e,"a",function(){return m}),e.b=r;var i=n(2),o=n.n(i),s=n(3),a=n.n(s),h=n(7),u=n.n(h),c=n(8),p=n.n(c),f=n(9),l=n.n(f),d=n(18),m=function(t){function e(){return o()(this,e),u()(this,p()(e).apply(this,arguments))}return l()(e,t),a()(e,[{key:"set",value:function(t,e){if(e||this.current!==t){var n=this.current;this.current=t;for(var r=this._first;r;)r.fn.call(r.ctx,this.current,n),r.once&&this.unsubscribe(r),r=r.next}}},{key:"update",value:function(t,e){var n=t(this.current);this.set(void 0!==n?n:this.current,e)}}]),e}(d.a)},function(t,e,n){"use strict";function r(t,e,n){return Math.max(e,Math.min(t,n))}function i(t,e,n,r){return void 0===r&&(r=!1),o(t,e,n,0,1,r)}function o(t,e,n,i,o,s){void 0===s&&(s=!1);var a=(t-e)*(o-i)/(n-e)+i;return s?r(a,i,o):a}function s(t,e,n){return t+n*(e-t)}function a(t,e,n){return void 0===n&&(n=Math.random),void 0!==e?s(t,e,n()):s(0,t,n())}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s})},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=n():e.Zdog.CanvasRenderer=n()}(this,function(){var t={isCanvas:!0};return t.begin=function(t){t.beginPath()},t.move=function(t,e,n){t.moveTo(n.x,n.y)},t.line=function(t,e,n){t.lineTo(n.x,n.y)},t.bezier=function(t,e,n,r,i){t.bezierCurveTo(n.x,n.y,r.x,r.y,i.x,i.y)},t.closePath=function(t){t.closePath()},t.setPath=function(){},t.renderPath=function(e,n,r,i){this.begin(e,n),r.forEach(function(r){r.render(e,n,t)}),i&&this.closePath(e,n)},t.stroke=function(t,e,n,r,i){n&&(t.strokeStyle=r,t.lineWidth=i,t.stroke())},t.fill=function(t,e,n,r){n&&(t.fillStyle=r,t.fill())},t.end=function(){},t})},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=n():e.Zdog.SvgRenderer=n()}(this,function(){function t(t){return n(t.x)+","+n(t.y)+" "}var e={isSvg:!0},n=e.round=function(t){return Math.round(1e3*t)/1e3};return e.begin=function(){},e.move=function(e,n,r){return"M"+t(r)},e.line=function(e,n,r){return"L"+t(r)},e.bezier=function(e,n,r,i,o){return"C"+t(r)+t(i)+t(o)},e.closePath=function(){return"Z"},e.setPath=function(t,e,n){e.setAttribute("d",n)},e.renderPath=function(t,n,r,i){var o="";r.forEach(function(r){o+=r.render(t,n,e)}),i&&(o+=this.closePath(t,n)),this.setPath(t,n,o)},e.stroke=function(t,e,n,r,i){n&&(e.setAttribute("stroke",r),e.setAttribute("stroke-width",i))},e.fill=function(t,e,n,r){var i=n?r:"none";e.setAttribute("fill",i)},e.end=function(t,e){t.appendChild(e)},e})},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=n():e.Zdog.Dragger=n()}(this,function(){function t(){}function e(t){this.create(t||{})}var n="undefined"!=typeof window,r="mousedown",i="mousemove",o="mouseup";return n&&(window.PointerEvent?(r="pointerdown",i="pointermove",o="pointerup"):"ontouchstart"in window&&(r="touchstart",i="touchmove",o="touchend")),e.prototype.create=function(e){this.onDragStart=e.onDragStart||t,this.onDragMove=e.onDragMove||t,this.onDragEnd=e.onDragEnd||t,this.bindDrag(e.startElement)},e.prototype.bindDrag=function(t){(t=this.getQueryElement(t))&&(t.style.touchAction="none",t.addEventListener(r,this))},e.prototype.getQueryElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t},e.prototype.handleEvent=function(t){var e=this["on"+t.type];e&&e.call(this,t)},e.prototype.onmousedown=e.prototype.onpointerdown=function(t){this.dragStart(t,t)},e.prototype.ontouchstart=function(t){this.dragStart(t,t.changedTouches[0])},e.prototype.dragStart=function(t,e){t.preventDefault(),this.dragStartX=e.pageX,this.dragStartY=e.pageY,n&&(window.addEventListener(i,this),window.addEventListener(o,this)),this.onDragStart(e)},e.prototype.ontouchmove=function(t){this.dragMove(t,t.changedTouches[0])},e.prototype.onmousemove=e.prototype.onpointermove=function(t){this.dragMove(t,t)},e.prototype.dragMove=function(t,e){t.preventDefault();var n=e.pageX-this.dragStartX,r=e.pageY-this.dragStartY;this.onDragMove(e,n,r)},e.prototype.onmouseup=e.prototype.onpointerup=e.prototype.ontouchend=e.prototype.dragEnd=function(){window.removeEventListener(i,this),window.removeEventListener(o,this),this.onDragEnd()},e})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(5));else{var i=e.Zdog;i.Group=r(i.Anchor)}}(this,function(t){var e=t.subclass({updateSort:!1,visible:!0});return e.prototype.updateSortValue=function(){var e=0;this.flatGraph.forEach(function(t){t.updateSortValue(),e+=t.sortValue}),this.sortValue=e/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(t.shapeSorter)},e.prototype.render=function(t,e){this.visible&&this.flatGraph.forEach(function(n){n.render(t,e)})},e.prototype.updateFlatGraph=function(){var t=[];this.flatGraph=this.addChildFlatGraph(t)},e.prototype.getFlatGraph=function(){return[this]},e})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(6));else{var i=e.Zdog;i.Rect=r(i.Shape)}}(this,function(t){var e=t.subclass({width:1,height:1});return e.prototype.setPath=function(){var t=this.width/2,e=this.height/2;this.path=[{x:-t,y:-e},{x:t,y:-e},{x:t,y:e},{x:-t,y:e}]},e})},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var o=n(17),s=n.n(o),a=n(16),h=n.n(a),u=n(1),c=n(4),p=(n.n(c),new c.Anchor),f=document.querySelector("canvas#Scene"),l=f.getContext("2d"),d=function(t,e){return new t(i({addTo:p},e))};u.a.scene.dimensions.subscribe(function(t){var e=s()(t,2);e[0],e[1];f.width=window.innerWidth,f.height=window.innerHeight,f.style.width=f.width+"px",f.style.height=f.height+"px"});var m,y;d(c.Dragger,{startElement:f,onDragStart:function(){m=p.rotate.x,y=p.rotate.y},onDragMove:function(t,e,n){var r=Math.min(f.width,f.height);u.a.scene.rotation.update(function(t){return i({},t,{x:m-n/r*Math.PI*2,y:y-e/r*Math.PI*2})},!0)}}),e.a={get anchor(){return p},get canvas(){return f},get ctx(){return l},add:d,render:function(){var t=u.a.scene.zoom.get(),e=u.a.scene.rotation.get(),n=u.a.scene.dimensions.get(),r=s()(n,2),i=r[0],o=r[1];p.rotate=e,l.clearRect(0,0,i,o),p.updateGraph(),l.save(),l.translate(i/2,o/2),l.scale(t,t),l.lineJoin="round",l.lineCap="round",p.renderGraphCanvas(l),l.restore()}}},function(t,e,n){n(29),t.exports=n(68)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(35),o=n(36),s=n(38),a=n(62),h=n(27);window.onresize=Object(i.a)(function(){r.a.scene.dimensions.set([window.innerWidth,window.innerHeight])},10),window.onload=function(){window.onresize(),document.body.classList.remove("is-loading"),r.a.raf.isRunning.set(!0)},o.a.derive(r.a.seed,{cc:18,update:function(t){return Date.now()}}),o.a.derive(r.a.creature.scaleX,{cc:16}),o.a.derive(r.a.creature.scaleY,{cc:17}),o.a.derive(r.a.creature.density,{cc:0,update:function(t){return 10+190*t}}),o.a.derive(r.a.creature.planeLerp,{cc:1}),o.a.derive(r.a.creature.buildLerp,{cc:2}),a.a.add(function(){if(window.ENV.production||(document.title="".concat(window.ENV.pageTitle," | [").concat(r.a.raf.fps.current.toFixed(0)," fps]")),!r.a.midi.ready.get()){var t=Math.sin(Date.now()/1e3)+1;r.a.creature.planeLerp.set(Math.min(t,1)),r.a.creature.buildLerp.set(Math.max(1,t)-1)}s.a.update(),h.a.render()})},function(t,e,n){"use strict";var r=n(18),i=n(20);n(34),n(19);n.d(e,"a",function(){return r.b}),n.d(e,"b",function(){return i.b})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";n(20)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(t,e){var n=0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=Date.now();n+e<=o?(t.apply(void 0,r),n=o):n=o}},i=function(t,e){var n=null;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];clearTimeout(n),n=setTimeout(function(){t.apply(void 0,r)},e)}},o=function(t,e,n){return void 0===n&&(n=!1),n?r(t,e):i(t,e)}},function(t,e,n){"use strict";function r(){if(!i.a.midi.ready.get()){var t=s.a.getInputByName(i.a.midi.input.get());t&&(i.a.midi.ready.set(!0),t.addListener("controlchange","all",function(t){i.a.midi.debug.get();var e=t.controller.number;if(h[e]){var n=h[e],r=n.signal,o=n.update;r.set(o(Object(a.b)(t.value,0,127),r.current))}}))}}var i=n(1),o=n(37),s=n.n(o),a=n(21),h=[];s.a.enable(function(t){t||(r(),s.a.addListener("connected",r))}),e.a={derive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cc,r=e.update,i=void 0===r?function(t){return t}:r;h[n]={signal:t,update:i}}}},function(t,e,n){var r,i;!function(n){"use strict";function o(){if(o.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(o.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(t){return this._nrpnEventsEnabled=t,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}function s(t){var e=this;this._userHandlers={channel:{},system:{}},this._midiInput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiInput.connection}},id:{enumerable:!0,get:function(){return e._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiInput.name}},state:{enumerable:!0,get:function(){return e._midiInput.state}},type:{enumerable:!0,get:function(){return e._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function a(t){var e=this;this._midiOutput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiOutput.connection}},id:{enumerable:!0,get:function(){return e._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiOutput.name}},state:{enumerable:!0,get:function(){return e._midiOutput.state}},type:{enumerable:!0,get:function(){return e._midiOutput.type}}})}var h=new o;o.prototype.enable=function(t,e){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:e}).then(function(e){function n(){clearTimeout(r),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof t&&t.call(this),i.forEach(function(t){this._onInterfaceStateChange(t)}.bind(this))}var r,i=[],o=[];this.interface=e,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(t){i.push(t)};for(var s=e.inputs.values(),a=s.next();a&&!a.done;a=s.next())o.push(a.value.open());for(var h=e.outputs.values(),u=h.next();u&&!u.done;u=h.next())o.push(u.value.open());r=setTimeout(n.bind(this),200),Promise&&Promise.all(o).catch(function(t){}).then(n.bind(this))}.bind(this),function(e){"function"==typeof t&&t.call(this,e)}.bind(this)):"function"==typeof t&&t(new Error("The Web MIDI API is not supported by your browser.")))},o.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},o.prototype.addListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[t].push(e),this},o.prototype.hasListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[t].length;n++)if(this._userHandlers[t][n]===e)return!0;return!1},o.prototype.removeListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==e&&"function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(t))if(e)for(var n=0;n<this._userHandlers[t].length;n++)this._userHandlers[t][n]===e&&this._userHandlers[t].splice(n,1);else this._userHandlers[t]=[];else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},o.prototype.toMIDIChannels=function(t){var e;if("all"===t||void 0===t)e=["all"];else{if("none"===t)return e=[];e=Array.isArray(t)?t:[t]}return-1<e.indexOf("all")&&(e=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),e.map(function(t){return parseInt(t)}).filter(function(t){return 1<=t&&t<=16})},o.prototype.getInputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].id===t)return this.inputs[e];return!1},o.prototype.getOutputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.outputs.length;e++)if(this.outputs[e].id===t)return this.outputs[e];return!1},o.prototype.getInputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.inputs.length;e++)if(~this.inputs[e].name.indexOf(t))return this.inputs[e];return!1},o.prototype.getOctave=function(t){if(null!=t&&0<=t&&t<=127)return Math.floor(Math.floor(t)/12-1)+Math.floor(h.octaveOffset)},o.prototype.getOutputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.outputs.length;e++)if(~this.outputs[e].name.indexOf(t))return this.outputs[e];return!1},o.prototype.guessNoteNumber=function(t){var e=!1;if(t&&t.toFixed&&0<=t&&t<=127?e=Math.round(t):0<=parseInt(t)&&parseInt(t)<=127?e=parseInt(t):("string"==typeof t||t instanceof String)&&(e=this.noteNameToNumber(t)),!1===e)throw new Error("Invalid input value ("+t+").");return e},o.prototype.noteNameToNumber=function(t){"string"!=typeof t&&(t="");var e=t.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!e)throw new RangeError("Invalid note name.");var n=h._semitones[e[1].toUpperCase()],r=12*(parseInt(e[3])+1-Math.floor(h.octaveOffset))+n;if(-1<e[2].toLowerCase().indexOf("b")?r-=e[2].length:-1<e[2].toLowerCase().indexOf("#")&&(r+=e[2].length),r<0||127<r)throw new RangeError("Invalid note name or note outside valid range.");return r},o.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},o.prototype._updateInputs=function(){for(var t=0;t<this._inputs.length;t++){for(var e=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[t]._midiInput===r.value){e=!1;break}e&&this._inputs.splice(t,1)}this.interface&&this.interface.inputs.forEach(function(t){for(var e=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===t&&(e=!1);e&&this._inputs.push(new s(t))}.bind(this))},o.prototype._updateOutputs=function(){for(var t=0;t<this._outputs.length;t++){for(var e=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[t]._midiOutput===r.value){e=!1;break}e&&this._outputs.splice(t,1)}this.interface&&this.interface.outputs.forEach(function(t){for(var e=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===t&&(e=!1);e&&this._outputs.push(new a(t))}.bind(this))},o.prototype._onInterfaceStateChange=function(t){this._updateInputsAndOutputs();var e={timestamp:t.timeStamp,type:t.port.state};this.interface&&"connected"===t.port.state?"output"===t.port.type?e.port=this.getOutputById(t.port.id):"input"===t.port.type&&(e.port=this.getInputById(t.port.id)):e.port={connection:"closed",id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this._userHandlers[t.port.state].forEach(function(t){t(e)})},o.prototype._resetInterfaceUserHandlers=function(){for(var t=0;t<this._midiInterfaceEvents.length;t++)this._userHandlers[this._midiInterfaceEvents[t]]=[]},s.prototype.on=s.prototype.addListener=function(t,e,n){var r=this;if(void 0===e&&(e="all"),Array.isArray(e)||(e=[e]),e.forEach(function(t){if("all"!==t&&!(1<=t&&t<=16))throw new RangeError("The 'channel' parameter is invalid.")}),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==h.MIDI_SYSTEM_MESSAGES[t])this._userHandlers.system[t]||(this._userHandlers.system[t]=[]),this._userHandlers.system[t].push(n);else{if(void 0===h.MIDI_CHANNEL_MESSAGES[t])throw new TypeError("The specified event type is not supported.");if(-1<e.indexOf("all")){e=[];for(var i=1;i<=16;i++)e.push(i)}this._userHandlers.channel[t]||(this._userHandlers.channel[t]=[]),e.forEach(function(e){r._userHandlers.channel[t][e]||(r._userHandlers.channel[t][e]=[]),r._userHandlers.channel[t][e].push(n)})}return this},s.prototype.hasListener=function(t,e,n){var r=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==h.MIDI_SYSTEM_MESSAGES[t]){for(var i=0;i<this._userHandlers.system[t].length;i++)if(this._userHandlers.system[t][i]===n)return!0}else if(void 0!==h.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var o=1;o<=16;o++)e.push(o)}return!!this._userHandlers.channel[t]&&e.every(function(e){var i=r._userHandlers.channel[t][e];return i&&-1<i.indexOf(n)})}return!1},s.prototype.removeListener=function(t,e,n){var r=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==h.MIDI_SYSTEM_MESSAGES[t])if(void 0===n)this._userHandlers.system[t]=[];else for(var i=0;i<this._userHandlers.system[t].length;i++)this._userHandlers.system[t][i]===n&&this._userHandlers.system[t].splice(i,1);else if(void 0!==h.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var o=1;o<=16;o++)e.push(o)}if(!this._userHandlers.channel[t])return this;e.forEach(function(e){var i=r._userHandlers.channel[t][e];if(i)if(void 0===n)r._userHandlers.channel[t][e]=[];else for(var o=0;o<i.length;o++)i[o]===n&&i.splice(o,1)})}else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},s.prototype._initializeUserHandlers=function(){for(var t in h.MIDI_CHANNEL_MESSAGES)h.MIDI_CHANNEL_MESSAGES.hasOwnProperty(t)&&(this._userHandlers.channel[t]={});for(var e in h.MIDI_SYSTEM_MESSAGES)h.MIDI_SYSTEM_MESSAGES.hasOwnProperty(e)&&(this._userHandlers.system[e]=[])},s.prototype._onMidiMessage=function(t){if(0<this._userHandlers.system.midimessage.length){var e={target:this,data:t.data,timestamp:t.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach(function(t){t(e)})}t.data[0]<240?(this._parseChannelEvent(t),this._parseNrpnEvent(t)):t.data[0]<=255&&this._parseSystemEvent(t)},s.prototype._parseNrpnEvent=function(t){var e,n,r=t.data[0]>>4,i=15&t.data[0],o=1+i;if(1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0),h.nrpnEventsEnabled&&r===h.MIDI_CHANNEL_MESSAGES.controlchange&&(e>=h.MIDI_NRPN_MESSAGES.increment&&e<=h.MIDI_NRPN_MESSAGES.parammsb||e===h.MIDI_NRPN_MESSAGES.entrymsb||e===h.MIDI_NRPN_MESSAGES.entrylsb)){var s={target:this,type:"controlchange",data:t.data,timestamp:t.timeStamp,channel:o,controller:{number:e,name:this.getCcNameByNumber(e)},value:n};if(s.controller.number===h.MIDI_NRPN_MESSAGES.parammsb&&s.value!=h.MIDI_NRPN_MESSAGES.nullactiveparameter)h._nrpnBuffer[i]=[],h._nrpnBuffer[i][0]=s;else if(1===h._nrpnBuffer[i].length&&s.controller.number===h.MIDI_NRPN_MESSAGES.paramlsb)h._nrpnBuffer[i].push(s);else if(2!==h._nrpnBuffer[i].length||s.controller.number!==h.MIDI_NRPN_MESSAGES.increment&&s.controller.number!==h.MIDI_NRPN_MESSAGES.decrement&&s.controller.number!==h.MIDI_NRPN_MESSAGES.entrymsb)if(3===h._nrpnBuffer[i].length&&h._nrpnBuffer[i][2].number===h.MIDI_NRPN_MESSAGES.entrymsb&&s.controller.number===h.MIDI_NRPN_MESSAGES.entrylsb)h._nrpnBuffer[i].push(s);else if(3<=h._nrpnBuffer[i].length&&h._nrpnBuffer[i].length<=4&&s.controller.number===h.MIDI_NRPN_MESSAGES.parammsb&&s.value===h.MIDI_NRPN_MESSAGES.nullactiveparameter)h._nrpnBuffer[i].push(s);else if(4<=h._nrpnBuffer[i].length&&h._nrpnBuffer[i].length<=5&&s.controller.number===h.MIDI_NRPN_MESSAGES.paramlsb&&s.value===h.MIDI_NRPN_MESSAGES.nullactiveparameter){h._nrpnBuffer[i].push(s);var a=[];h._nrpnBuffer[i].forEach(function(t){a.push(t.data)});var u=h._nrpnBuffer[i][0].value<<7|h._nrpnBuffer[i][1].value,c=h._nrpnBuffer[i][2].value;6===h._nrpnBuffer[i].length&&(c=h._nrpnBuffer[i][2].value<<7|h._nrpnBuffer[i][3].value);var p="";switch(h._nrpnBuffer[i][2].controller.number){case h.MIDI_NRPN_MESSAGES.entrymsb:p=h._nrpnTypes[0];break;case h.MIDI_NRPN_MESSAGES.increment:p=h._nrpnTypes[1];break;case h.MIDI_NRPN_MESSAGES.decrement:p=h._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var f={timestamp:s.timestamp,channel:s.channel,type:"nrpn",data:a,controller:{number:u,type:p,name:"Non-Registered Parameter "+u},value:c};h._nrpnBuffer[i]=[],this._userHandlers.channel[f.type]&&this._userHandlers.channel[f.type][f.channel]&&this._userHandlers.channel[f.type][f.channel].forEach(function(t){t(f)})}else h._nrpnBuffer[i]=[];else h._nrpnBuffer[i].push(s)}},s.prototype._parseChannelEvent=function(t){var e,n,r=t.data[0]>>4,i=1+(15&t.data[0]);1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0);var o={target:this,data:t.data,timestamp:t.timeStamp,channel:i};r===h.MIDI_CHANNEL_MESSAGES.noteoff||r===h.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(o.type="noteoff",o.note={number:e,name:h._notes[e%12],octave:h.getOctave(e)},o.velocity=n/127,o.rawVelocity=n):r===h.MIDI_CHANNEL_MESSAGES.noteon?(o.type="noteon",o.note={number:e,name:h._notes[e%12],octave:h.getOctave(e)},o.velocity=n/127,o.rawVelocity=n):r===h.MIDI_CHANNEL_MESSAGES.keyaftertouch?(o.type="keyaftertouch",o.note={number:e,name:h._notes[e%12],octave:h.getOctave(e)},o.value=n/127):r===h.MIDI_CHANNEL_MESSAGES.controlchange&&0<=e&&e<=119?(o.type="controlchange",o.controller={number:e,name:this.getCcNameByNumber(e)},o.value=n):r===h.MIDI_CHANNEL_MESSAGES.channelmode&&120<=e&&e<=127?(o.type="channelmode",o.controller={number:e,name:this.getChannelModeByNumber(e)},o.value=n):r===h.MIDI_CHANNEL_MESSAGES.programchange?(o.type="programchange",o.value=e):r===h.MIDI_CHANNEL_MESSAGES.channelaftertouch?(o.type="channelaftertouch",o.value=e/127):r===h.MIDI_CHANNEL_MESSAGES.pitchbend?(o.type="pitchbend",o.value=((n<<7)+e-8192)/8192):o.type="unknownchannelmessage",this._userHandlers.channel[o.type]&&this._userHandlers.channel[o.type][i]&&this._userHandlers.channel[o.type][i].forEach(function(t){t(o)})},s.prototype.getCcNameByNumber=function(t){if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var e in h.MIDI_CONTROL_CHANGE_MESSAGES)if(h.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(e)&&t===h.MIDI_CONTROL_CHANGE_MESSAGES[e])return e},s.prototype.getChannelModeByNumber=function(t){if(!(120<=(t=Math.floor(t))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var e in h.MIDI_CHANNEL_MODE_MESSAGES)if(h.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(e)&&t===h.MIDI_CHANNEL_MODE_MESSAGES[e])return e},s.prototype._parseSystemEvent=function(t){var e=t.data[0],n={target:this,data:t.data,timestamp:t.timeStamp};e===h.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":e===h.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":e===h.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":e===h.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=t.data[1]):e===h.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":e===h.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":e===h.MIDI_SYSTEM_MESSAGES.start?n.type="start":e===h.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":e===h.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":e===h.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":e===h.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach(function(t){t(n)})},a.prototype.send=function(t,e,n){if(!(128<=t&&t<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===e&&(e=[]),Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(t){var e=Math.floor(t);if(!(0<=e&&e<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(e)}),this._midiOutput.send([t].concat(r),parseFloat(n)||0),this},a.prototype.sendSysex=function(t,e,n){if(!h.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},t=[].concat(t),e.forEach(function(t){if(t<0||127<t)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")}),e=t.concat(e,h.MIDI_SYSTEM_MESSAGES.sysexend),this.send(h.MIDI_SYSTEM_MESSAGES.sysex,e,this._parseTimeParameter(n.time)),this},a.prototype.sendTimecodeQuarterFrame=function(t,e){return e=e||{},this.send(h.MIDI_SYSTEM_MESSAGES.timecode,t,this._parseTimeParameter(e.time)),this},a.prototype.sendSongPosition=function(t,e){e=e||{};var n=(t=Math.floor(t)||0)>>7&127,r=127&t;return this.send(h.MIDI_SYSTEM_MESSAGES.songposition,[n,r],this._parseTimeParameter(e.time)),this},a.prototype.sendSongSelect=function(t,e){if(e=e||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(h.MIDI_SYSTEM_MESSAGES.songselect,[t],this._parseTimeParameter(e.time)),this},a.prototype.sendTuningRequest=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(t.time)),this},a.prototype.sendClock=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(t.time)),this},a.prototype.sendStart=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(t.time)),this},a.prototype.sendContinue=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(t.time)),this},a.prototype.sendStop=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(t.time)),this},a.prototype.sendActiveSensing=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(t.time)),this},a.prototype.sendReset=function(t){return t=t||{},this.send(h.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(t.time)),this},a.prototype.stopNote=function(t,e,n){if("all"===t)return this.sendChannelMode("allnotesoff",0,e,n);var r=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(r=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(r=127*n.velocity),this._convertNoteToArray(t).forEach(function(t){h.toMIDIChannels(e).forEach(function(e){this.send((h.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(r)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},a.prototype.playNote=function(t,e,n){var r,i=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(i=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(i=127*n.velocity),r=this._parseTimeParameter(n.time),this._convertNoteToArray(t).forEach(function(t){h.toMIDIChannels(e).forEach(function(e){this.send((h.MIDI_CHANNEL_MESSAGES.noteon<<4)+(e-1),[t,Math.round(i)],r)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var o=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(o=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(o=127*n.release),this._convertNoteToArray(t).forEach(function(t){h.toMIDIChannels(e).forEach(function(e){this.send((h.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(o)],(r||h.time)+n.duration)}.bind(this))}.bind(this))}return this},a.prototype.sendKeyAftertouch=function(t,e,n,r){var i=this;if(r=r||{},e<1||16<e)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var o=Math.round(127*n);return this._convertNoteToArray(t).forEach(function(t){h.toMIDIChannels(e).forEach(function(e){i.send((h.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(e-1),[t,o],i._parseTimeParameter(r.time))})}),this},a.prototype.sendControlChange=function(t,e,n,r){if(r=r||{},"string"==typeof t){if(void 0===(t=h.MIDI_CONTROL_CHANGE_MESSAGES[t]))throw new TypeError("Invalid controller name.")}else if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("Controller value must be between 0 and 127.");return h.toMIDIChannels(n).forEach(function(n){this.send((h.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[t,e],this._parseTimeParameter(r.time))}.bind(this)),this},a.prototype._selectRegisteredParameter=function(t,e,n){var r=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return h.toMIDIChannels(e).forEach(function(){r.sendControlChange(101,t[0],e,{time:n}),r.sendControlChange(100,t[1],e,{time:n})}),this},a.prototype._selectNonRegisteredParameter=function(t,e,n){var r=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return h.toMIDIChannels(e).forEach(function(){r.sendControlChange(99,t[0],e,{time:n}),r.sendControlChange(98,t[1],e,{time:n})}),this},a.prototype._setCurrentRegisteredParameter=function(t,e,n){var r=this;if((t=[].concat(t))[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return h.toMIDIChannels(e).forEach(function(){r.sendControlChange(6,t[0],e,{time:n})}),t[1]=Math.floor(t[1]),0<=t[1]&&t[1]<=127&&h.toMIDIChannels(e).forEach(function(){r.sendControlChange(38,t[1],e,{time:n})}),this},a.prototype._deselectRegisteredParameter=function(t,e){var n=this;return h.toMIDIChannels(t).forEach(function(){n.sendControlChange(101,127,t,{time:e}),n.sendControlChange(100,127,t,{time:e})}),this},a.prototype.setRegisteredParameter=function(t,e,n,r){var i=this;if(r=r||{},!Array.isArray(t)){if(!h.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=h.MIDI_REGISTERED_PARAMETER[t]}return h.toMIDIChannels(n).forEach(function(){i._selectRegisteredParameter(t,n,r.time),i._setCurrentRegisteredParameter(e,n,r.time),i._deselectRegisteredParameter(n,r.time)}),this},a.prototype.setNonRegisteredParameter=function(t,e,n,r){var i=this;if(r=r||{},!(0<=t[0]&&t[0]<=127&&0<=t[1]&&t[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return e=[].concat(e),h.toMIDIChannels(n).forEach(function(){i._selectNonRegisteredParameter(t,n,r.time),i._setCurrentRegisteredParameter(e,n,r.time),i._deselectRegisteredParameter(n,r.time)}),this},a.prototype.incrementRegisteredParameter=function(t,e,n){var r=this;if(n=n||{},!Array.isArray(t)){if(!h.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=h.MIDI_REGISTERED_PARAMETER[t]}return h.toMIDIChannels(e).forEach(function(){r._selectRegisteredParameter(t,e,n.time),r.sendControlChange(96,0,e,{time:n.time}),r._deselectRegisteredParameter(e,n.time)}),this},a.prototype.decrementRegisteredParameter=function(t,e,n){if(n=n||{},!Array.isArray(t)){if(!h.MIDI_REGISTERED_PARAMETER[t])throw new TypeError("The specified parameter is not available.");t=h.MIDI_REGISTERED_PARAMETER[t]}return h.toMIDIChannels(e).forEach(function(){this._selectRegisteredParameter(t,e,n.time),this.sendControlChange(97,0,e,{time:n.time}),this._deselectRegisteredParameter(e,n.time)}.bind(this)),this},a.prototype.setPitchBendRange=function(t,e,n,r){var i=this;if(r=r||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return h.toMIDIChannels(n).forEach(function(){i.setRegisteredParameter("pitchbendrange",[t,e],n,{time:r.time})}),this},a.prototype.setModulationRange=function(t,e,n,r){var i=this;if(r=r||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return h.toMIDIChannels(n).forEach(function(){i.setRegisteredParameter("modulationrange",[t,e],n,{time:r.time})}),this},a.prototype.setMasterTuning=function(t,e,n){var r=this;if(n=n||{},(t=parseFloat(t)||0)<=-65||64<=t)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var i=Math.floor(t)+64,o=t-Math.floor(t),s=(o=Math.round((o+1)/2*16383))>>7&127,a=127&o;return h.toMIDIChannels(e).forEach(function(){r.setRegisteredParameter("channelcoarsetuning",i,e,{time:n.time}),r.setRegisteredParameter("channelfinetuning",[s,a],e,{time:n.time})}),this},a.prototype.setTuningProgram=function(t,e,n){var r=this;if(n=n||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The program value must be between 0 and 127");return h.toMIDIChannels(e).forEach(function(){r.setRegisteredParameter("tuningprogram",t,e,{time:n.time})}),this},a.prototype.setTuningBank=function(t,e,n){var r=this;if(n=n||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The bank value must be between 0 and 127");return h.toMIDIChannels(e).forEach(function(){r.setRegisteredParameter("tuningbank",t,e,{time:n.time})}),this},a.prototype.sendChannelMode=function(t,e,n,r){if(r=r||{},"string"==typeof t){if(!(t=h.MIDI_CHANNEL_MODE_MESSAGES[t]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(t=Math.floor(t))&&t<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((e=Math.floor(e)||0)<0||127<e)throw new RangeError("Value must be an integer between 0 and 127.");return h.toMIDIChannels(n).forEach(function(n){this.send((h.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[t,e],this._parseTimeParameter(r.time))}.bind(this)),this},a.prototype.sendProgramChange=function(t,e,n){var r=this;if(n=n||{},t=Math.floor(t),isNaN(t)||t<0||127<t)throw new RangeError("Program numbers must be between 0 and 127.");return h.toMIDIChannels(e).forEach(function(e){r.send((h.MIDI_CHANNEL_MESSAGES.programchange<<4)+(e-1),[t],r._parseTimeParameter(n.time))}),this},a.prototype.sendChannelAftertouch=function(t,e,n){var r=this;n=n||{},t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=.5);var i=Math.round(127*t);return h.toMIDIChannels(e).forEach(function(t){r.send((h.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(t-1),[i],r._parseTimeParameter(n.time))}),this},a.prototype.sendPitchBend=function(t,e,n){var r=this;if(n=n||{},isNaN(t)||t<-1||1<t)throw new RangeError("Pitch bend value must be between -1 and 1.");var i=Math.round((t+1)/2*16383),o=i>>7&127,s=127&i;return h.toMIDIChannels(e).forEach(function(t){r.send((h.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(t-1),[s,o],r._parseTimeParameter(n.time))}),this},a.prototype._parseTimeParameter=function(t){var e,n=parseFloat(t);return"string"==typeof t&&"+"===t.substring(0,1)?n&&0<n&&(e=h.time+n):n>h.time&&(e=n),e},a.prototype._convertNoteToArray=function(t){var e=[];return Array.isArray(t)||(t=[t]),t.forEach(function(t){e.push(h.guessNoteNumber(t))}),e},r=[],void 0!==(i=function(){return h}.apply(e,r))&&(t.exports=i)}()},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){u()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(){a&&a.destroy(),a=new p.a(f.a.anchor)}function s(){var t=c.a.raf.ellapsedTime.get(),e=c.a.raf.frameCount.get();a.update({ellapsedTime:t,frameCount:e}),c.a.scene.rotation.update(function(t){return i({},t,{x:c.a.creature.buildLerp.get(),z:c.a.creature.buildLerp.get()})})}var a,h=n(16),u=n.n(h),c=n(1),p=n(39),f=n(27);n(15);c.a.seed.subscribe(o),o(),e.a={update:s}},function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r=n(17),i=n.n(r),o=n(43),s=n.n(o),a=n(2),h=n.n(a),u=n(3),c=n.n(u),p=n(1),f=n(4),l=(n.n(f),n(54)),d=n(57),m=n(58),y=n(59),v=n(60),g=n(61),b=n(11),E=n(15),S=function(){function t(e){h()(this,t),this.seed=b.a.seed=p.a.seed.get(),this.anchor=new f.Anchor({addTo:e}),this.anchors=this.createAnchors(),this.colors=Object(g.a)(s()(p.a.creature.colors.current),b.a.random).splice(0,p.a.creature.colorsLength.get()),this.body=new f.Shape({addTo:this.anchor,color:"rgba(255, 255, 255, 0.1)",stroke:100}),this.limbs=this.render()}return c()(t,[{key:"createAnchors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a.creature.anchorsLength.get(),e=v.a.cube(t),n=Object(g.a)(v.a.plane(t),b.a.random),r=[],i=0;i<t;i++){var o=new f.Anchor({addTo:this.anchor});o.positions={CUBE:e[i],PLANE:n[i]},o.dot=new f.Shape({addTo:o,color:"white",translate:{z:-.1},path:[{x:.5,y:.5},{x:-.5,y:.5},{x:-.5,y:-.5},{x:.5,y:-.5}],scale:0}),r.push(o)}return r.forEach(function(t){t.cubeMirror=r.find(function(e){var n=e.positions.CUBE,r=n.x,i=n.y,o=n.z;return t.positions.CUBE.y===i&&t.positions.CUBE.z===o&&t.positions.CUBE.x===-r})}),r}},{key:"render",value:function(){for(var t=[],e=0;e<b.a.randomInt(0,10);e++){var n=b.a.randomOf(this.anchors.filter(function(t){return t.positions.CUBE.x<1})),r={color:b.a.randomOf(this.colors),size:b.a.randomInt(10,30)},i=new m.a(n,r);t.push(i),t.push(i.copy(n.cubeMirror,{dir:-1}).flip())}for(var o=0;o<3*Math.pow(b.a.random(),2);o++){var s=b.a.randomOf(this.anchors.filter(function(t){return t.positions.CUBE.z>1})),a={radius:b.a.randomInt(3,30)};t.push(new d.a(s,a)),t.push(new d.a(s.cubeMirror,a))}for(var h=0;h<b.a.randomInt(3,20);h++){var u=b.a.randomOf(this.anchors),c={color:b.a.randomOf(this.colors),length:b.a.randomInt(10,30),weight:b.a.randomInt(1,5)},p=new y.a(u,c);t.push(p),t.push(p.copy(u.cubeMirror).flip())}for(var f=0;f<b.a.randomInt(3,10);f++){var v=b.a.randomOf(this.anchors),g={color:b.a.randomOf(this.colors),length:b.a.randomInt(10,50),weight:b.a.randomInt(1,30)},E=new l.a(v,g);t.push(E),t.push(E.copy(v.cubeMirror).flip())}return t}},{key:"update",value:function(t){var e=t.ellapsedTime,n=t.frameCount,r=p.a.scene.dimensions.get(),o=i()(r,2),s=o[0],a=o[1],h=p.a.creature.density.get(),u=p.a.creature.planeLerp.get();this.anchor.scale={x:h*p.a.creature.scaleX.get(),y:h*p.a.creature.scaleY.get(),z:h},this.anchors.forEach(function(t){t.translate=Object(E.a)(t.positions.CUBE,t.positions.PLANE,u);var e=Math.pow(u,4);t.dot.color="rgba(255, 255, 255, ".concat(e,")"),t.dot.scale=p.a.creature.buildLerp.get()});var c=.2+.05*(1+Math.sin(e/500)),f=Math.pow(u,2),l=Math.max(s,a);this.body.color="rgba(255, 255, 255, ".concat(c*(1-f),")"),this.body.stroke=4*h+l/4*f,this.limbs.forEach(function(t){t.anchor.scale=t.flipped?{x:-1/h,y:1/h,z:1/h}:1/h,t.update({ellapsedTime:e,frameCount:n})})}},{key:"destroy",value:function(){this.limbs.forEach(function(t){return t.destroy()}),this.body.remove(),this.anchors.forEach(function(t){return t.remove()}),this.anchor.remove(),delete this.anchor,delete this.anchors,delete this.body,delete this.limbs}}]),t}()},function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n},function(t,e){function n(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}t.exports=n},function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=n},function(t,e,n){function r(t){return i(t)||o(t)||s()}var i=n(44),o=n(45),s=n(46);t.exports=r},function(t,e){function n(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}t.exports=n},function(t,e){function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}t.exports=n},function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=n},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(5),n(24));else{var i=e.Zdog;i.Illustration=r(i,i.Anchor,i.Dragger)}}(this,function(t,e,n){function r(){}function i(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var o=t.TAU,s=e.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:r,onDragStart:r,onDragMove:r,onDragEnd:r,onResize:r});return t.extend(s.prototype,n.prototype),s.prototype.create=function(t){e.prototype.create.call(this,t),n.prototype.create.call(this,t),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},s.prototype.setElement=function(t){if(!(t=this.getQueryElement(t)))throw new Error("Zdog.Illustration element required. Set to "+t);var e=t.nodeName.toLowerCase();"canvas"==e?this.setCanvas(t):"svg"==e&&this.setSvg(t)},s.prototype.setSize=function(t,e){t=Math.round(t),e=Math.round(e),this.isCanvas?this.setSizeCanvas(t,e):this.isSvg&&this.setSizeSvg(t,e)},s.prototype.setResize=function(t){this.resize=t,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),t?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},s.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},s.prototype.setMeasuredSize=function(){var t,e;if("fullscreen"==this.resize)t=window.innerWidth,e=window.innerHeight;else{var n=this.element.getBoundingClientRect();t=n.width,e=n.height}this.setSize(t,e)},s.prototype.renderGraph=function(t){this.isCanvas?this.renderGraphCanvas(t):this.isSvg&&this.renderGraphSvg(t)},s.prototype.updateRenderGraph=function(t){this.updateGraph(),this.renderGraph(t)},s.prototype.setCanvas=function(t){this.element=t,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(t.width,t.height)},s.prototype.setSizeCanvas=function(t,e){this.width=t,this.height=e;var n=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=t*n,this.element.height=this.canvasHeight=e*n,n>1&&!this.resize&&(this.element.style.width=t+"px",this.element.style.height=e+"px")},s.prototype.renderGraphCanvas=function(t){t=t||this,this.prerenderCanvas(),e.prototype.renderGraphCanvas.call(t,this.ctx),this.postrenderCanvas()},s.prototype.prerenderCanvas=function(){var t=this.ctx;if(t.lineCap="round",t.lineJoin="round",t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.save(),this.centered){var e=this.width/2*this.pixelRatio,n=this.height/2*this.pixelRatio;t.translate(e,n)}var r=this.pixelRatio*this.zoom;t.scale(r,r),this.onPrerender(t)},s.prototype.postrenderCanvas=function(){this.ctx.restore()},s.prototype.setSvg=function(t){this.element=t,this.isSvg=!0,this.pixelRatio=1;var e=t.getAttribute("width"),n=t.getAttribute("height");this.setSizeSvg(e,n)},s.prototype.setSizeSvg=function(t,e){this.width=t,this.height=e;var n=t/this.zoom,r=e/this.zoom,i=this.centered?-n/2:0,o=this.centered?-r/2:0;this.element.setAttribute("viewBox",i+" "+o+" "+n+" "+r),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",t),this.element.setAttribute("height",e))},s.prototype.renderGraphSvg=function(t){t=t||this,i(this.element),this.onPrerender(this.element),e.prototype.renderGraphSvg.call(t,this.element)},s.prototype.setDragRotate=function(t){t&&(!0===t&&(t=this),this.dragRotate=t,this.bindDrag(this.element))},s.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,n.prototype.dragStart.apply(this,arguments)},s.prototype.dragMove=function(t,e){var r=e.pageX-this.dragStartX,i=e.pageY-this.dragStartY,s=Math.min(this.width,this.height),a=r/s*o,h=i/s*o;this.dragRotate.rotate.x=this.dragStartRX-h,this.dragRotate.rotate.y=this.dragStartRY-a,n.prototype.dragMove.apply(this,arguments)},s})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(6));else{var i=e.Zdog;i.RoundedRect=r(i.Shape)}}(this,function(t){var e=t.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return e.prototype.setPath=function(){var t=this.width/2,e=this.height/2,n=Math.min(t,e),r=Math.min(this.cornerRadius,n),i=t-r,o=e-r,s=[{x:i,y:-e},{arc:[{x:t,y:-e},{x:t,y:-o}]}];o&&s.push({x:t,y:o}),s.push({arc:[{x:t,y:e},{x:i,y:e}]}),i&&s.push({x:-i,y:e}),s.push({arc:[{x:-t,y:e},{x:-t,y:o}]}),o&&s.push({x:-t,y:-o}),s.push({arc:[{x:-t,y:-e},{x:-i,y:-e}]}),i&&s.push({x:i,y:-e}),this.path=s},e})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(6));else{var i=e.Zdog;i.Polygon=r(i,i.Shape)}}(this,function(t,e){var n=e.subclass({sides:3,radius:.5}),r=t.TAU;return n.prototype.setPath=function(){this.path=[];for(var t=0;t<this.sides;t++){var e=t/this.sides*r-r/4,n=Math.cos(e)*this.radius,i=Math.sin(e)*this.radius;this.path.push({x:n,y:i})}},n})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(10),n(5),n(13));else{var i=e.Zdog;i.Hemisphere=r(i,i.Vector,i.Anchor,i.Ellipse)}}(this,function(t,e,n,r){var i=r.subclass({fill:!0}),o=t.TAU;i.prototype.create=function(){r.prototype.create.apply(this,arguments),this.apex=new n({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new e},i.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},i.prototype.render=function(t,e){this.renderDome(t,e),r.prototype.render.apply(this,arguments)},i.prototype.renderDome=function(t,e){if(this.visible){var n=this.getDomeRenderElement(t,e),r=Math.atan2(this.renderNormal.y,this.renderNormal.x),i=this.diameter/2*this.renderNormal.magnitude(),s=this.renderOrigin.x,a=this.renderOrigin.y;if(e.isCanvas){var h=r+o/4,u=r-o/4;t.beginPath(),t.arc(s,a,i,h,u)}else e.isSvg&&(r=(r-o/4)/o*360,this.domeSvgElement.setAttribute("d","M "+-i+",0 A "+i+","+i+" 0 0 1 "+i+",0"),this.domeSvgElement.setAttribute("transform","translate("+s+","+a+" ) rotate("+r+")"));e.stroke(t,n,this.stroke,this.color,this.getLineWidth()),e.fill(t,n,this.fill,this.color),e.end(t,n)}};return i.prototype.getDomeRenderElement=function(t,e){if(e.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},i})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(12),n(6),n(25),n(13));else{var i=e.Zdog;i.Cylinder=r(i,i.PathCommand,i.Shape,i.Group,i.Ellipse)}}(this,function(t,e,n,r,i){function o(){}var s=r.subclass({color:"#333",updateSort:!0});s.prototype.create=function(){r.prototype.create.apply(this,arguments),this.pathCommands=[new e("move",[{}]),new e("line",[{}])]},s.prototype.render=function(t,e){this.renderCylinderSurface(t,e),r.prototype.render.apply(this,arguments)},s.prototype.renderCylinderSurface=function(t,e){if(this.visible){var n=this.getRenderElement(t,e),r=this.frontBase,i=this.rearBase,o=r.renderNormal.magnitude(),s=r.diameter*o+r.getLineWidth();this.pathCommands[0].renderPoints[0].set(r.renderOrigin),this.pathCommands[1].renderPoints[0].set(i.renderOrigin),e.isCanvas&&(t.lineCap="butt"),e.renderPath(t,n,this.pathCommands),e.stroke(t,n,!0,this.color,s),e.end(t,n),e.isCanvas&&(t.lineCap="round")}};s.prototype.getRenderElement=function(t,e){if(e.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path")),this.svgElement},s.prototype.copyGraph=o,i.subclass().prototype.copyGraph=o;var a=n.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),h=t.TAU;return a.prototype.create=function(){n.prototype.create.apply(this,arguments),this.group=new s({addTo:this,color:this.color,visible:this.visible});var t=this.length/2,e=this.backface||!0;this.frontBase=this.group.frontBase=new i({addTo:this.group,diameter:this.diameter,translate:{z:t},rotate:{y:h/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||e,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-t},rotate:{y:0},backface:e})},a.prototype.render=function(){},["stroke","fill","color","visible"].forEach(function(t){var e="_"+t;Object.defineProperty(a.prototype,t,{get:function(){return this[e]},set:function(n){this[e]=n,this.frontBase&&(this.frontBase[t]=n,this.rearBase[t]=n,this.group[t]=n)}})}),a})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(10),n(12),n(5),n(13));else{var i=e.Zdog;i.Cone=r(i,i.Vector,i.PathCommand,i.Anchor,i.Ellipse)}}(this,function(t,e,n,r,i){var o=i.subclass({length:1,fill:!0}),s=t.TAU;o.prototype.create=function(){i.prototype.create.apply(this,arguments),this.apex=new r({addTo:this,translate:{z:this.length}}),this.renderApex=new e,this.renderCentroid=new e,this.tangentA=new e,this.tangentB=new e,this.surfacePathCommands=[new n("move",[{}]),new n("line",[{}]),new n("line",[{}])]},o.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},o.prototype.render=function(t,e){this.renderConeSurface(t,e),i.prototype.render.apply(this,arguments)},o.prototype.renderConeSurface=function(t,e){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var n=this.renderNormal.magnitude(),r=this.renderApex.magnitude2d(),i=this.renderNormal.magnitude2d(),o=Math.acos(i/n),a=Math.sin(o),h=this.diameter/2*n;if(h*a<r){var u=Math.atan2(this.renderNormal.y,this.renderNormal.x)+s/2,c=r/a,p=Math.acos(h/c),f=this.tangentA,l=this.tangentB;f.x=Math.cos(p)*h*a,f.y=Math.sin(p)*h,l.set(this.tangentA),l.y*=-1,f.rotateZ(u),l.rotateZ(u),f.add(this.renderOrigin),l.add(this.renderOrigin),this.setSurfaceRenderPoint(0,f),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,l);var d=this.getSurfaceRenderElement(t,e);e.renderPath(t,d,this.surfacePathCommands),e.stroke(t,d,this.stroke,this.color,this.getLineWidth()),e.fill(t,d,this.fill,this.color),e.end(t,d)}}};return o.prototype.getSurfaceRenderElement=function(t,e){if(e.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},o.prototype.setSurfaceRenderPoint=function(t,e){this.surfacePathCommands[t].renderPoints[0].set(e)},o})},function(t,e,n){!function(e,r){if("object"==typeof t&&t.exports)t.exports=r(n(0),n(5),n(6),n(26));else{var i=e.Zdog;i.Box=r(i,i.Anchor,i.Shape,i.Rect)}}(this,function(t,e,n,r){var i=r.subclass();i.prototype.copyGraph=function(){};var o=t.TAU,s=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],a=t.extend({},n.defaults);delete a.path,s.forEach(function(t){a[t]=!0}),t.extend(a,{width:1,height:1,depth:1,fill:!0});var h=e.subclass(a);return h.prototype.create=function(t){e.prototype.create.call(this,t),this.updatePath(),this.fill=this.fill},h.prototype.updatePath=function(){s.forEach(function(t){this[t]=this[t]},this)},s.forEach(function(t){var e="_"+t;Object.defineProperty(h.prototype,t,{get:function(){return this[e]},set:function(n){this[e]=n,this.setFace(t,n)}})}),h.prototype.setFace=function(t,e){var n=t+"Rect",r=this[n];if(!e)return void this.removeChild(r);var o=this.getFaceOptions(t);o.color="string"==typeof e?e:this.color,r?r.setOptions(o):r=this[n]=new i(o),r.updatePath(),this.addChild(r)},h.prototype.getFaceOptions=function(t){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:o/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-o/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:o/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-o/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:o/4}}}[t]},["color","stroke","fill","backface","front","visible"].forEach(function(t){var e="_"+t;Object.defineProperty(h.prototype,t,{get:function(){return this[e]},set:function(n){this[e]=n,s.forEach(function(e){var r=this[e+"Rect"],i="string"==typeof this[e],o="color"==t&&i;r&&!o&&(r[t]=n)},this)}})}),h})},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(2),i=n.n(r),o=n(3),s=n.n(o),a=n(7),h=n.n(a),u=n(8),c=n.n(u),p=n(9),f=n.n(p),l=n(1),d=n(4),m=(n.n(d),n(14)),y=n(15),v=n(11),g=function(t){function e(){return i()(this,e),h()(this,c()(e).apply(this,arguments))}return f()(e,t),s()(e,[{key:"render",value:function(t){this.state.initialRotation={x:v.a.randomInt(0,10)*Math.PI/3%Math.PI,y:v.a.randomInt(0,10)*Math.PI/3%Math.PI,z:v.a.randomInt(0,10)*Math.PI/3%Math.PI},this.refs.bone=new d.Shape({addTo:this.anchor,stroke:t.weight,color:t.color,path:[{x:0,y:0},{x:t.length}],closed:!1,rotate:this.state.initialRotation})}},{key:"update",value:function(t){var e=(t.ellapsedTime,t.frameCount,l.a.creature.buildLerp.get());this.refs.bone.scale=1+1*Math.pow(e,3),this.refs.bone.rotate=Object(y.a)(this.state.initialRotation,{x:0,y:Math.PI/2,z:0},e),this.refs.bone.updatePath()}}]),e}(m.a)},function(t,e){function n(t){function e(e){(t=(0|e)%2147483647)<=0&&(t+=2147483646)}function n(){return t=48271*t%2147483647}function r(){return(n()-1)/2147483646}return e(t),{seed:e,nextInt:n,nextFloat:r}}t.exports=n},function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random;return t[Math.floor(e()*t.length)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(2),i=n.n(r),o=n(3),s=n.n(o),a=n(7),h=n.n(a),u=n(8),c=n.n(u),p=n(9),f=n.n(p),l=n(4),d=(n.n(l),n(14)),m=n(11),y=function(t){function e(){return i()(this,e),h()(this,c()(e).apply(this,arguments))}return f()(e,t),s()(e,[{key:"render",value:function(t){this.timeScale=m.a.random(),this.refs.globe=new l.Shape({addTo:this.anchor,stroke:t.radius,color:"black"}),this.refs.pupil=new l.Shape({addTo:this.refs.globe,color:"white",stroke:.3*t.radius,translate:{z:t.radius/2},rotate:{z:m.a.random()}})}},{key:"update",value:function(t){var e=t.ellapsedTime;t.frameCount;this.anchor.rotate.x=Math.sin(this.timeScale*e/500),this.anchor.rotate.y=Math.sin(this.timeScale*e/500)}}]),e}(d.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(2),i=n.n(r),o=n(3),s=n.n(o),a=n(7),h=n.n(a),u=n(8),c=n.n(u),p=n(9),f=n.n(p),l=n(1),d=n(4),m=(n.n(d),n(14)),y=n(11),v=function(t){function e(){return i()(this,e),h()(this,c()(e).apply(this,arguments))}return f()(e,t),s()(e,[{key:"render",value:function(t){this.refs.finn=new d.Shape({addTo:this.anchor,color:t.color,stroke:4,path:[{x:0,z:-t.size/2},{x:-t.size,z:0},{x:0,z:t.size/2}],closed:!0,fill:!0,rotate:{x:y.a.random(),y:y.a.random()},scale:{x:y.a.random(),z:y.a.random()}})}},{key:"update",value:function(t){var e=t.ellapsedTime,n=(t.frameCount,1-l.a.creature.planeLerp.get());this.anchor.rotate.z=Math.sin((this.props.dir||1)*e/500)*n}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(2),i=n.n(r),o=n(3),s=n.n(o),a=n(7),h=n.n(a),u=n(8),c=n.n(u),p=n(9),f=n.n(p),l=n(1),d=n(4),m=(n.n(d),n(14)),y=n(15),v=n(11),g=function(t){function e(){return i()(this,e),h()(this,c()(e).apply(this,arguments))}return f()(e,t),s()(e,[{key:"render",value:function(t){this.state.speed=v.a.random(),this.state.initialRotation={x:v.a.randomFloat(0,Math.PI),y:v.a.randomFloat(0,Math.PI),z:v.a.randomFloat(0,Math.PI)},this.state.initialBezier=[{x:t.length/2,y:-t.length},{x:t.length/2,y:t.length},{x:t.length,y:t.length}],this.refs.tentacle=new d.Shape({addTo:this.anchor,stroke:t.weight,color:t.color,path:[{x:0,y:0},{bezier:this.state.initialBezier}],closed:!1,rotate:this.state.initialRotation})}},{key:"update",value:function(t){var e=t.ellapsedTime,n=(t.frameCount,1-l.a.creature.planeLerp.get()),r=l.a.creature.buildLerp.get();this.refs.tentacle.path[1].bezier[0].y=this.props.length/2*Math.sin(this.state.speed*e/100)*n,this.refs.tentacle.path[1].bezier[0].z=this.props.length/2*Math.cos(this.state.speed*e/100)*n,this.refs.tentacle.path[1].bezier[2].x=this.props.length*Math.cos(this.state.speed*e/100)*n,this.refs.tentacle.rotate=Object(y.a)(this.state.initialRotation,{x:Math.PI/2,y:0,z:0},r),this.refs.tentacle.path[1]={bezier:[Object(y.a)(this.state.initialBezier[0],{x:0,y:0,z:0},r),Object(y.a)(this.state.initialBezier[1],{x:0,y:20,z:0},r),Object(y.a)(this.state.initialBezier[2],{x:0,y:20,z:0},r)]},this.refs.tentacle.updatePath()}}]),e}(m.a)},function(t,e,n){"use strict";var r=function(t,e){return{x:t,y:e,z:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}};e.a={cube:function(t){for(var e=[],n=Math.cbrt(t),i=0;i<n;i++)for(var o=0;o<n;o++)for(var s=0;s<n;s++)e.push(r(s-(n-1)/2,o-(n-1)/2,i-(n-1)/2));return e},plane:function(t){for(var e=[],n=Math.sqrt(t),i=0;i<n;i++)for(var o=0;o<n;o++)e.push(r(o-(n-1)/2,i-(n-1)/2));return e}}},function(t,e,n){"use strict";e.a=function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random;for(r=t.length-1;r>0;r--)e=Math.floor(i()*(r+1)),n=t[r],t[r]=t[e],t[e]=n;return t}},function(t,e,n){"use strict";var r=n(1),i=n(63),o={updateRate:4,frameCount:0,ellapsedTime:0,compute:function(t){return this.frameCount++,this.ellapsedTime+=t/1e3,this.ellapsedTime>1/this.updateRate&&(this._value=this.frameCount/this.ellapsedTime,this.frameCount=0,this.ellapsedTime-=1/this.updateRate),this._value||0}};i.a.addBefore(function(t){r.a.raf.ellapsedTime.update(function(e){return e+t}),r.a.raf.frameCount.update(function(t){return t+1}),r.a.raf.fps.set(o.compute(t))}),r.a.raf.isRunning.subscribe(function(t){return t?i.a.start():i.a.stop()}),e.a=i.a},function(t,e,n){"use strict";var r=(n(64),n(65),n(66));e.a=r.a},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=!0),this._stopped=!n,this._remainder=0,this._delay=0|t,this._remainingTime=t,this._callback=void 0===e?function(){}:e;var r=this.restart,i=this;this.restart=function(t,e){r.call(i,t,e)},0===this._delay&&(this._stopped=!0)}r.prototype.setCallback=function(t,e){this._callback=void 0===t?function(){}:t,e&&this.restart(e)},r.prototype.stop=function(){this._stopped=!0},r.prototype.start=function(){this._stopped&&this.restart()},r.prototype.restart=function(t,e){void 0===e&&(e=!0),void 0!==t&&(this._delay=t),this._stopped=!1,this._remainingTime=this._delay-this._remainder*+e},r.prototype.update=function(t){this._stopped||(this._remainingTime-=t,this._remainingTime<=0?(this._stopped=!0,this._remainder=-this._remainingTime%this._delay,this._callback(this.restart)):this._remainder=0)},r.prototype.dispose=function(){this._callback=this.restart=function(){},this._stopped=!0,this._remainder=0,this._remainingTime=this._delay}},function(t,e,n){"use strict"},function(t,e,n){"use strict";(function(t){function n(t){void 0===t&&(t=0),null===w&&(w=t),v=t-w,y+=v,w=t,_=M?null:g.requestAnimationFrame(n),M&&(M=!1);var e;if(I){for(e=0;e<S.length;e++)S[e](v);for(e=0;e<b.length;e++)b[e](v);for(e=0;e<E.length;e++)E[e](v)}else for(e=0;e<b.length;e++)b[e](v)}function r(){I=!!(E.length>0||S.length>0)}function i(t,e,n){return!(!e||!t)&&(!~t.indexOf(e)&&(n=!!n,n?t.unshift(e):t.push(e),!0))}function o(t,e){if(!e)return!1;var n=t.indexOf(e);return!!~n&&(t.splice(n,1),!(0!==t.length))}function s(t,e){i(S,t,e)&&r()}function a(t,e){i(E,t,e)&&r()}function h(t,e){i(b,t,e)&&f()}function u(t){o(S,t)&&r()}function c(t,e){o(E,t)&&r()}function p(t){o(b,t)&&d()}function f(t){M=!1,_||(t=!!t,w=null,t?n():_=g.requestAnimationFrame(n))}function l(){_||(M=!0,w=null,_=g.requestAnimationFrame(n))}function d(){_&&(g.cancelAnimationFrame(_),_=null)}function m(){d(),b.length=0,E.length=0,S.length=0,I=!1,w=null,y=0,v=0}var y,v,g="undefined"==typeof window?t:window,b=[],E=[],S=[],_=null,w=null,M=!1,I=!1;e.a={add:h,addAfter:a,addBefore:s,remove:p,removeAfter:c,removeBefore:u,start:f,stop:d,time:y,dt:v,requestOnce:l,dispose:m}}).call(e,n(67))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){}]);
//# sourceMappingURL=d54e5fb4f5491049626c.js.map